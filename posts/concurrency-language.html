<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Guilherme Silva Blog - Concurrency language with small-step semantics</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="Agda.css" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../">Guilherme Silva</a>
            </div>
            <nav>
                <a href="../">Home</a>
                <a href="../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <h1>Concurrency language with small-step semantics</h1>
            <article>
    <section class="header">
        Posted on November  3, 2021
        
            by Guilherme
        
    </section>
    <section>
        <h1 id="motivation">Motivation</h1>
<p>My motivation to formalize a concurrency programming language using small-step semantics is to use this concept for a no deterministic programming language.</p>
<h1 id="imports">Imports</h1>
<p>Importing from <a href="https://github.com/agda/agda-stdlib">Agda standard library</a>.</p>
<pre class="Agda"><a id="364" class="Symbol">{-#</a> <a id="368" class="Keyword">OPTIONS</a> <a id="376" class="Pragma">--sized-types</a> <a id="390" class="Symbol">#-}</a>

<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="488" class="Keyword">hiding</a> <a id="495" class="Symbol">(</a><a id="496" href="Relation.Binary.PropositionalEquality.html#2356" class="InductiveConstructor Operator">[_]</a><a id="499" class="Symbol">)</a>
<a id="501" class="Keyword">open</a> <a id="506" class="Keyword">import</a> <a id="513" href="Data.Product.html" class="Module">Data.Product</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Data.List.html" class="Module">Data.List</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="596" class="Keyword">open</a> <a id="601" class="Keyword">import</a> <a id="608" href="Codata.Stream.html" class="Module">Codata.Stream</a> <a id="622" class="Keyword">using</a> <a id="628" class="Symbol">(</a><a id="629" href="Codata.Stream.html#900" class="Datatype">Stream</a><a id="635" class="Symbol">;</a> <a id="637" href="Codata.Stream.html#946" class="InductiveConstructor Operator">_∷_</a><a id="640" class="Symbol">;</a> <a id="642" href="Codata.Stream.html#1083" class="Function">repeat</a><a id="648" class="Symbol">)</a>
</pre>
<h1 id="defining-the-language">Defining the language</h1>
<p>The programming language is a simple expression that can be a natural number, two concurrency programs, or two programs that happen one next to the other. In the end, the main idea is that this program just returns a list of natural numbers.</p>
<pre class="Agda"><a id="927" class="Keyword">infixr</a> <a id="934" class="Number">6</a> <a id="936" href="concurrency-language.html#996" class="InductiveConstructor Operator">_||_</a>
<a id="941" class="Keyword">infixr</a> <a id="948" class="Number">7</a> <a id="950" href="concurrency-language.html#1024" class="InductiveConstructor Operator">_,,_</a>
<a id="955" class="Keyword">data</a> <a id="Expr"></a><a id="960" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="965" class="Symbol">:</a> <a id="967" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="971" class="Keyword">where</a>
  <a id="Expr.nat"></a><a id="979" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="983" class="Symbol">:</a> <a id="985" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="987" class="Symbol">→</a> <a id="989" href="concurrency-language.html#960" class="Datatype">Expr</a>
  <a id="Expr._||_"></a><a id="996" href="concurrency-language.html#996" class="InductiveConstructor Operator">_||_</a> <a id="1001" class="Symbol">:</a> <a id="1003" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="1008" class="Symbol">→</a> <a id="1010" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="1015" class="Symbol">→</a> <a id="1017" href="concurrency-language.html#960" class="Datatype">Expr</a>
  <a id="Expr._,,_"></a><a id="1024" href="concurrency-language.html#1024" class="InductiveConstructor Operator">_,,_</a> <a id="1029" class="Symbol">:</a> <a id="1031" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="1036" class="Symbol">→</a> <a id="1038" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="1043" class="Symbol">→</a> <a id="1045" href="concurrency-language.html#960" class="Datatype">Expr</a>
</pre>
<h1 id="small-step">Small-Step</h1>
<p>Now, it will be defined the small-step semantic of this programming language:</p>
<pre class="Agda"><a id="NextExpr"></a><a id="1153" href="concurrency-language.html#1153" class="Function">NextExpr</a> <a id="1162" class="Symbol">=</a> <a id="1164" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1166" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1168" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1174" href="concurrency-language.html#960" class="Datatype">Expr</a>
</pre>
<p>The expression will be reduced to a natural number that it produced or maybe a new expression if there is still a new program to reduce.</p>
<pre class="Agda"><a id="1326" class="Keyword">infixr</a> <a id="1333" class="Number">2</a> <a id="1335" href="concurrency-language.html#1345" class="Datatype Operator">_—→_</a>
<a id="1340" class="Keyword">data</a> <a id="_—→_"></a><a id="1345" href="concurrency-language.html#1345" class="Datatype Operator">_—→_</a> <a id="1350" class="Symbol">:</a> <a id="1352" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="1357" class="Symbol">→</a> <a id="1359" href="concurrency-language.html#1153" class="Function">NextExpr</a> <a id="1368" class="Symbol">→</a> <a id="1370" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1374" class="Keyword">where</a>
  <a id="_—→_.ξℕ"></a><a id="1382" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a> <a id="1385" class="Symbol">:</a> <a id="1387" class="Symbol">∀</a> <a id="1389" class="Symbol">{</a><a id="1390" href="concurrency-language.html#1390" class="Bound">n</a><a id="1391" class="Symbol">}</a>
    <a id="1397" class="Comment">----------------------</a>
    <a id="1424" class="Symbol">→</a> <a id="1426" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="1430" href="concurrency-language.html#1390" class="Bound">n</a> <a id="1432" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="1435" href="concurrency-language.html#1390" class="Bound">n</a> <a id="1437" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1439" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
</pre>
<p>The simplest reduction is when there is a simple program with just a natural number This program will be reduced to it and there is no programming remaining.</p>
<pre class="Agda">  <a id="_—→_.ξ||ₗ"></a><a id="1617" href="concurrency-language.html#1617" class="InductiveConstructor">ξ||ₗ</a> <a id="1622" class="Symbol">:</a> <a id="1624" class="Symbol">∀</a> <a id="1626" class="Symbol">{</a><a id="1627" href="concurrency-language.html#1627" class="Bound">M</a> <a id="1629" href="concurrency-language.html#1629" class="Bound">M'</a> <a id="1632" href="concurrency-language.html#1632" class="Bound">N</a> <a id="1634" href="concurrency-language.html#1634" class="Bound">n</a><a id="1635" class="Symbol">}</a>
    <a id="1641" class="Symbol">→</a> <a id="1643" href="concurrency-language.html#1627" class="Bound">M</a> <a id="1645" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="1648" href="concurrency-language.html#1634" class="Bound">n</a> <a id="1650" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1652" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1657" href="concurrency-language.html#1629" class="Bound">M'</a>
    <a id="1664" class="Comment">------------------------------</a>
    <a id="1699" class="Symbol">→</a> <a id="1701" href="concurrency-language.html#1627" class="Bound">M</a> <a id="1703" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="1706" href="concurrency-language.html#1632" class="Bound">N</a> <a id="1708" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="1711" href="concurrency-language.html#1634" class="Bound">n</a> <a id="1713" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1715" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1720" class="Symbol">(</a><a id="1721" href="concurrency-language.html#1629" class="Bound">M'</a> <a id="1724" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="1727" href="concurrency-language.html#1632" class="Bound">N</a><a id="1728" class="Symbol">)</a>
</pre>
<p>If there is a parallel program, the left program will be reduced by one step.</p>
<pre class="Agda">  <a id="_—→_.ξ||∅ₗ"></a><a id="1820" href="concurrency-language.html#1820" class="InductiveConstructor">ξ||∅ₗ</a> <a id="1826" class="Symbol">:</a> <a id="1828" class="Symbol">∀</a> <a id="1830" class="Symbol">{</a><a id="1831" href="concurrency-language.html#1831" class="Bound">M</a> <a id="1833" href="concurrency-language.html#1833" class="Bound">N</a> <a id="1835" href="concurrency-language.html#1835" class="Bound">n</a><a id="1836" class="Symbol">}</a>
    <a id="1842" class="Symbol">→</a> <a id="1844" href="concurrency-language.html#1831" class="Bound">M</a> <a id="1846" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="1849" href="concurrency-language.html#1835" class="Bound">n</a> <a id="1851" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1853" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="1865" class="Comment">----------------------</a>
    <a id="1892" class="Symbol">→</a> <a id="1894" href="concurrency-language.html#1831" class="Bound">M</a> <a id="1896" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="1899" href="concurrency-language.html#1833" class="Bound">N</a> <a id="1901" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="1904" href="concurrency-language.html#1835" class="Bound">n</a> <a id="1906" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1908" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="1913" href="concurrency-language.html#1833" class="Bound">N</a>
</pre>
<p>The new program after the left ends in the parallel program is just the right program.</p>
<pre class="Agda">  <a id="_—→_.ξ||ᵣ"></a><a id="2014" href="concurrency-language.html#2014" class="InductiveConstructor">ξ||ᵣ</a> <a id="2019" class="Symbol">:</a> <a id="2021" class="Symbol">∀</a> <a id="2023" class="Symbol">{</a><a id="2024" href="concurrency-language.html#2024" class="Bound">M</a> <a id="2026" href="concurrency-language.html#2026" class="Bound">N</a> <a id="2028" href="concurrency-language.html#2028" class="Bound">N'</a> <a id="2031" href="concurrency-language.html#2031" class="Bound">n</a><a id="2032" class="Symbol">}</a>
    <a id="2038" class="Symbol">→</a> <a id="2040" href="concurrency-language.html#2026" class="Bound">N</a> <a id="2042" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2045" href="concurrency-language.html#2031" class="Bound">n</a> <a id="2047" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2049" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2054" href="concurrency-language.html#2028" class="Bound">N'</a>
    <a id="2061" class="Comment">------------------------------</a>
    <a id="2096" class="Symbol">→</a> <a id="2098" href="concurrency-language.html#2024" class="Bound">M</a> <a id="2100" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="2103" href="concurrency-language.html#2026" class="Bound">N</a> <a id="2105" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2108" href="concurrency-language.html#2031" class="Bound">n</a> <a id="2110" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2112" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2117" class="Symbol">(</a><a id="2118" href="concurrency-language.html#2024" class="Bound">M</a> <a id="2120" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="2123" href="concurrency-language.html#2028" class="Bound">N'</a><a id="2125" class="Symbol">)</a>
</pre>
<p>It is the same thing of a previous step but for the right program.</p>
<pre class="Agda">  <a id="_—→_.ξ||∅ᵣ"></a><a id="2206" href="concurrency-language.html#2206" class="InductiveConstructor">ξ||∅ᵣ</a> <a id="2212" class="Symbol">:</a> <a id="2214" class="Symbol">∀</a> <a id="2216" class="Symbol">{</a><a id="2217" href="concurrency-language.html#2217" class="Bound">M</a> <a id="2219" href="concurrency-language.html#2219" class="Bound">N</a> <a id="2221" href="concurrency-language.html#2221" class="Bound">n</a><a id="2222" class="Symbol">}</a>
    <a id="2228" class="Symbol">→</a> <a id="2230" href="concurrency-language.html#2219" class="Bound">N</a> <a id="2232" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2235" href="concurrency-language.html#2221" class="Bound">n</a> <a id="2237" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2239" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="2251" class="Comment">----------------------</a>
    <a id="2278" class="Symbol">→</a> <a id="2280" href="concurrency-language.html#2217" class="Bound">M</a> <a id="2282" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="2285" href="concurrency-language.html#2219" class="Bound">N</a> <a id="2287" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2290" href="concurrency-language.html#2221" class="Bound">n</a> <a id="2292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2294" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2299" href="concurrency-language.html#2217" class="Bound">M</a>
</pre>
<p>It is the same thing as a previous step but for the right program.</p>
<pre class="Agda">  <a id="_—→_.ξ,,"></a><a id="2380" href="concurrency-language.html#2380" class="InductiveConstructor">ξ,,</a> <a id="2384" class="Symbol">:</a> <a id="2386" class="Symbol">∀</a> <a id="2388" class="Symbol">{</a><a id="2389" href="concurrency-language.html#2389" class="Bound">M</a> <a id="2391" href="concurrency-language.html#2391" class="Bound">M'</a> <a id="2394" href="concurrency-language.html#2394" class="Bound">N</a> <a id="2396" href="concurrency-language.html#2396" class="Bound">n</a><a id="2397" class="Symbol">}</a>
    <a id="2403" class="Symbol">→</a> <a id="2405" href="concurrency-language.html#2389" class="Bound">M</a> <a id="2407" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2410" href="concurrency-language.html#2396" class="Bound">n</a> <a id="2412" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2414" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2419" href="concurrency-language.html#2391" class="Bound">M'</a>
    <a id="2426" class="Comment">------------------------------</a>
    <a id="2461" class="Symbol">→</a> <a id="2463" href="concurrency-language.html#2389" class="Bound">M</a> <a id="2465" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="2468" href="concurrency-language.html#2394" class="Bound">N</a> <a id="2470" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2473" href="concurrency-language.html#2396" class="Bound">n</a> <a id="2475" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2477" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2482" class="Symbol">(</a><a id="2483" href="concurrency-language.html#2391" class="Bound">M'</a> <a id="2486" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="2489" href="concurrency-language.html#2394" class="Bound">N</a><a id="2490" class="Symbol">)</a>
</pre>
<p>When there is a sequence program, the left part is reduced once and the rest of the expression is just the join of both of these programs.</p>
<pre class="Agda">  <a id="_—→_.ξ,,∅"></a><a id="2643" href="concurrency-language.html#2643" class="InductiveConstructor">ξ,,∅</a> <a id="2648" class="Symbol">:</a> <a id="2650" class="Symbol">∀</a> <a id="2652" class="Symbol">{</a><a id="2653" href="concurrency-language.html#2653" class="Bound">M</a> <a id="2655" href="concurrency-language.html#2655" class="Bound">N</a> <a id="2657" href="concurrency-language.html#2657" class="Bound">n</a><a id="2658" class="Symbol">}</a>
    <a id="2664" class="Symbol">→</a> <a id="2666" href="concurrency-language.html#2653" class="Bound">M</a> <a id="2668" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2671" href="concurrency-language.html#2657" class="Bound">n</a> <a id="2673" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2675" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="2687" class="Comment">----------------------</a>
    <a id="2714" class="Symbol">→</a> <a id="2716" href="concurrency-language.html#2653" class="Bound">M</a> <a id="2718" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="2721" href="concurrency-language.html#2655" class="Bound">N</a> <a id="2723" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2726" href="concurrency-language.html#2657" class="Bound">n</a> <a id="2728" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2730" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2735" href="concurrency-language.html#2655" class="Bound">N</a>
</pre>
<p>When the left program ends, the rest of the program is the right one.</p>
<p>In this example, a parallel program can be reduced in two ways:</p>
<pre class="Agda"><a id="||prog"></a><a id="2882" href="concurrency-language.html#2882" class="Function">||prog</a> <a id="2889" class="Symbol">=</a> <a id="2891" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="2895" class="Number">0</a> <a id="2897" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="2900" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="2904" class="Number">1</a>

<a id="2907" href="concurrency-language.html#2907" class="Function">_</a> <a id="2909" class="Symbol">:</a> <a id="2911" href="concurrency-language.html#2882" class="Function">||prog</a> <a id="2918" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2921" class="Number">0</a> <a id="2923" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2925" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2930" class="Symbol">(</a><a id="2931" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="2935" class="Number">1</a><a id="2936" class="Symbol">)</a>
<a id="2938" class="Symbol">_</a> <a id="2940" class="Symbol">=</a> <a id="2942" href="concurrency-language.html#1820" class="InductiveConstructor">ξ||∅ₗ</a> <a id="2948" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a>

<a id="2952" href="concurrency-language.html#2952" class="Function">_</a> <a id="2954" class="Symbol">:</a> <a id="2956" href="concurrency-language.html#2882" class="Function">||prog</a> <a id="2963" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="2966" class="Number">1</a> <a id="2968" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2970" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2975" class="Symbol">(</a><a id="2976" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="2980" class="Number">0</a><a id="2981" class="Symbol">)</a>
<a id="2983" class="Symbol">_</a> <a id="2985" class="Symbol">=</a> <a id="2987" href="concurrency-language.html#2206" class="InductiveConstructor">ξ||∅ᵣ</a> <a id="2993" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a>
</pre>
<h1 id="multi-step">Multi-step</h1>
<p>Now, it will be defined the multi-step of the language. It can be a zero-step, so an expression <code>M</code> can go to <code>M</code> (<code>M —↠ M</code>), it can be multiple steps (that can be one, two, or any natural number) or it can be a step that the expression finishes.</p>
<pre class="Agda"><a id="3267" class="Keyword">infix</a>  <a id="3274" class="Number">2</a> <a id="3276" href="concurrency-language.html#3332" class="Datatype Operator">_—↠_</a>
<a id="3281" class="Keyword">infix</a>  <a id="3288" class="Number">1</a> <a id="3290" href="concurrency-language.html#3646" class="Function Operator">begin_</a>
<a id="3297" class="Keyword">infixr</a> <a id="3304" class="Number">2</a> <a id="3306" href="concurrency-language.html#3439" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="3314" class="Keyword">infix</a>  <a id="3321" class="Number">3</a> <a id="3323" href="concurrency-language.html#3381" class="InductiveConstructor Operator">_∎</a>

<a id="3327" class="Keyword">data</a> <a id="_—↠_"></a><a id="3332" href="concurrency-language.html#3332" class="Datatype Operator">_—↠_</a> <a id="3337" class="Symbol">:</a> <a id="3339" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="3344" class="Symbol">→</a> <a id="3346" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3351" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3353" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3355" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3361" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="3366" class="Symbol">→</a> <a id="3368" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3372" class="Keyword">where</a>

  <a id="_—↠_._∎"></a><a id="3381" href="concurrency-language.html#3381" class="InductiveConstructor Operator">_∎</a> <a id="3384" class="Symbol">:</a> <a id="3386" class="Symbol">∀</a> <a id="3388" href="concurrency-language.html#3388" class="Bound">M</a>
      <a id="3396" class="Comment">----------------</a>
    <a id="3417" class="Symbol">→</a> <a id="3419" href="concurrency-language.html#3388" class="Bound">M</a> <a id="3421" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3424" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3427" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3429" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3434" href="concurrency-language.html#3388" class="Bound">M</a>

  <a id="_—↠_._—→⟨_⟩_"></a><a id="3439" href="concurrency-language.html#3439" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="3447" class="Symbol">:</a> <a id="3449" class="Symbol">∀</a> <a id="3451" href="concurrency-language.html#3451" class="Bound">L</a> <a id="3453" class="Symbol">{</a><a id="3454" href="concurrency-language.html#3454" class="Bound">x</a> <a id="3456" href="concurrency-language.html#3456" class="Bound">xs</a> <a id="3459" href="concurrency-language.html#3459" class="Bound">M</a> <a id="3461" href="concurrency-language.html#3461" class="Bound">N</a><a id="3462" class="Symbol">}</a>
    <a id="3468" class="Symbol">→</a> <a id="3470" href="concurrency-language.html#3451" class="Bound">L</a> <a id="3472" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="3475" href="concurrency-language.html#3454" class="Bound">x</a> <a id="3477" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3479" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="3484" href="concurrency-language.html#3459" class="Bound">M</a>
    <a id="3490" class="Symbol">→</a> <a id="3492" href="concurrency-language.html#3459" class="Bound">M</a> <a id="3494" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3497" href="concurrency-language.html#3456" class="Bound">xs</a> <a id="3500" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3502" href="concurrency-language.html#3461" class="Bound">N</a>
      <a id="3510" class="Comment">---------------</a>
    <a id="3530" class="Symbol">→</a> <a id="3532" href="concurrency-language.html#3451" class="Bound">L</a> <a id="3534" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3537" href="concurrency-language.html#3454" class="Bound">x</a> <a id="3539" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3541" href="concurrency-language.html#3456" class="Bound">xs</a> <a id="3544" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3546" href="concurrency-language.html#3461" class="Bound">N</a>

  <a id="_—↠_._—→⟨⟩_"></a><a id="3551" href="concurrency-language.html#3551" class="InductiveConstructor Operator">_—→⟨⟩_</a> <a id="3558" class="Symbol">:</a> <a id="3560" class="Symbol">∀</a> <a id="3562" href="concurrency-language.html#3562" class="Bound">L</a> <a id="3564" class="Symbol">{</a><a id="3565" href="concurrency-language.html#3565" class="Bound">x</a><a id="3566" class="Symbol">}</a>
    <a id="3572" class="Symbol">→</a> <a id="3574" href="concurrency-language.html#3562" class="Bound">L</a> <a id="3576" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="3579" href="concurrency-language.html#3565" class="Bound">x</a> <a id="3581" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3583" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
      <a id="3597" class="Comment">--------------------</a>
    <a id="3622" class="Symbol">→</a> <a id="3624" href="concurrency-language.html#3562" class="Bound">L</a> <a id="3626" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3629" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3631" href="concurrency-language.html#3565" class="Bound">x</a> <a id="3633" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3635" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3637" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="begin_"></a><a id="3646" href="concurrency-language.html#3646" class="Function Operator">begin_</a> <a id="3653" class="Symbol">:</a> <a id="3655" class="Symbol">∀</a> <a id="3657" class="Symbol">{</a><a id="3658" href="concurrency-language.html#3658" class="Bound">M</a> <a id="3660" href="concurrency-language.html#3660" class="Bound">N</a><a id="3661" class="Symbol">}</a>
  <a id="3665" class="Symbol">→</a> <a id="3667" href="concurrency-language.html#3658" class="Bound">M</a> <a id="3669" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3672" href="concurrency-language.html#3660" class="Bound">N</a>
    <a id="3678" class="Comment">------</a>
  <a id="3687" class="Symbol">→</a> <a id="3689" href="concurrency-language.html#3658" class="Bound">M</a> <a id="3691" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3694" href="concurrency-language.html#3660" class="Bound">N</a>
<a id="3696" href="concurrency-language.html#3646" class="Function Operator">begin</a> <a id="3702" href="concurrency-language.html#3702" class="Bound">M—↠N</a> <a id="3707" class="Symbol">=</a> <a id="3709" href="concurrency-language.html#3702" class="Bound">M—↠N</a>
</pre>
<p>When the expression evaluates to nothing, it finishes:</p>
<pre class="Agda"><a id="3779" class="Keyword">infix</a> <a id="3785" class="Number">2</a> <a id="3787" href="concurrency-language.html#3792" class="Function Operator">_—⇀_</a>
<a id="_—⇀_"></a><a id="3792" href="concurrency-language.html#3792" class="Function Operator">_—⇀_</a> <a id="3797" class="Symbol">:</a> <a id="3799" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="3804" class="Symbol">→</a> <a id="3806" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3811" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3813" class="Symbol">→</a> <a id="3815" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="3819" href="concurrency-language.html#3819" class="Bound">L</a> <a id="3821" href="concurrency-language.html#3792" class="Function Operator">—⇀</a> <a id="3824" href="concurrency-language.html#3824" class="Bound">xs</a> <a id="3827" class="Symbol">=</a> <a id="3829" href="concurrency-language.html#3819" class="Bound">L</a> <a id="3831" href="concurrency-language.html#3332" class="Datatype Operator">—↠</a> <a id="3834" href="concurrency-language.html#3824" class="Bound">xs</a> <a id="3837" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3839" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
</pre>
<p>This is a small lemma that you can concatenate the result of two sequence expressions:</p>
<pre class="Agda"><a id=",,-sequence"></a><a id="3944" href="concurrency-language.html#3944" class="Function">,,-sequence</a> <a id="3956" class="Symbol">:</a> <a id="3958" class="Symbol">∀</a> <a id="3960" class="Symbol">{</a><a id="3961" href="concurrency-language.html#3961" class="Bound">M</a> <a id="3963" href="concurrency-language.html#3963" class="Bound">N</a> <a id="3965" href="concurrency-language.html#3965" class="Bound">xs</a> <a id="3968" href="concurrency-language.html#3968" class="Bound">ys</a><a id="3970" class="Symbol">}</a>
  <a id="3974" class="Symbol">→</a> <a id="3976" href="concurrency-language.html#3961" class="Bound">M</a> <a id="3978" href="concurrency-language.html#3792" class="Function Operator">—⇀</a> <a id="3981" href="concurrency-language.html#3965" class="Bound">xs</a>
  <a id="3986" class="Symbol">→</a> <a id="3988" href="concurrency-language.html#3963" class="Bound">N</a> <a id="3990" href="concurrency-language.html#3792" class="Function Operator">—⇀</a> <a id="3993" href="concurrency-language.html#3968" class="Bound">ys</a>
  <a id="3998" class="Symbol">→</a> <a id="4000" href="concurrency-language.html#3961" class="Bound">M</a> <a id="4002" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="4005" href="concurrency-language.html#3963" class="Bound">N</a> <a id="4007" href="concurrency-language.html#3792" class="Function Operator">—⇀</a> <a id="4010" href="concurrency-language.html#3965" class="Bound">xs</a> <a id="4013" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="4016" href="concurrency-language.html#3968" class="Bound">ys</a>
<a id="4019" href="concurrency-language.html#3944" class="Function">,,-sequence</a> <a id="4031" class="Symbol">(_</a> <a id="4034" href="concurrency-language.html#3551" class="InductiveConstructor Operator">—→⟨⟩</a> <a id="4039" href="concurrency-language.html#4039" class="Bound">st1</a><a id="4042" class="Symbol">)</a> <a id="4044" href="concurrency-language.html#4044" class="Bound">st2</a> <a id="4048" class="Symbol">=</a> <a id="4050" class="Symbol">_</a> <a id="4052" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="4055" class="Symbol">_</a> <a id="4057" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="4061" href="concurrency-language.html#2643" class="InductiveConstructor">ξ,,∅</a> <a id="4066" href="concurrency-language.html#4039" class="Bound">st1</a> <a id="4070" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a> <a id="4072" href="concurrency-language.html#4044" class="Bound">st2</a>
<a id="4076" href="concurrency-language.html#3944" class="Function">,,-sequence</a> <a id="4088" class="Symbol">(_</a> <a id="4091" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="4095" href="concurrency-language.html#4095" class="Bound">st</a> <a id="4098" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a> <a id="4100" href="concurrency-language.html#4100" class="Bound">st1</a><a id="4103" class="Symbol">)</a> <a id="4105" href="concurrency-language.html#4105" class="Bound">st2</a> <a id="4109" class="Symbol">=</a> <a id="4111" class="Symbol">_</a> <a id="4113" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="4116" class="Symbol">_</a> <a id="4118" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="4122" href="concurrency-language.html#2380" class="InductiveConstructor">ξ,,</a> <a id="4126" href="concurrency-language.html#4095" class="Bound">st</a> <a id="4129" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a> <a id="4131" href="concurrency-language.html#3944" class="Function">,,-sequence</a> <a id="4143" href="concurrency-language.html#4100" class="Bound">st1</a> <a id="4147" href="concurrency-language.html#4105" class="Bound">st2</a>
</pre>
<h1 id="single-step">Single-step</h1>
<p>The single-step is just the small step that you hide the result of the small step in the type.</p>
<pre class="Agda"><a id="4271" class="Keyword">data</a> <a id="SingleStep"></a><a id="4276" href="concurrency-language.html#4276" class="Datatype">SingleStep</a> <a id="4287" class="Symbol">:</a> <a id="4289" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="4294" class="Symbol">→</a> <a id="4296" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4300" class="Keyword">where</a>
  <a id="SingleStep.singleStep"></a><a id="4308" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="4319" class="Symbol">:</a> <a id="4321" class="Symbol">∀</a> <a id="4323" class="Symbol">{</a><a id="4324" href="concurrency-language.html#4324" class="Bound">L</a><a id="4325" class="Symbol">}</a> <a id="4327" href="concurrency-language.html#4327" class="Bound">n</a> <a id="4329" href="concurrency-language.html#4329" class="Bound">L'</a>
    <a id="4336" class="Symbol">→</a> <a id="4338" href="concurrency-language.html#4324" class="Bound">L</a> <a id="4340" href="concurrency-language.html#1345" class="Datatype Operator">—→</a> <a id="4343" href="concurrency-language.html#4327" class="Bound">n</a> <a id="4345" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4347" href="concurrency-language.html#4329" class="Bound">L'</a>
      <a id="4356" class="Comment">----------</a>
    <a id="4371" class="Symbol">→</a> <a id="4373" href="concurrency-language.html#4276" class="Datatype">SingleStep</a> <a id="4384" href="concurrency-language.html#4324" class="Bound">L</a>
</pre>
<p>With the eval step, I prove that every expression has a single step associated with that. If the program is parallel, it will consume a boolean from the stream and this boolean represents which part of the program will be evaluated. The false represents the left part while true represents the right.</p>
<pre class="Agda"><a id="eval-step"></a><a id="4697" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="4707" class="Symbol">:</a>
  <a id="4711" href="Codata.Stream.html#900" class="Datatype">Stream</a> <a id="4718" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="4723" class="Symbol">_</a>
  <a id="4727" class="Symbol">→</a> <a id="4729" class="Symbol">(</a><a id="4730" href="concurrency-language.html#4730" class="Bound">L</a> <a id="4732" class="Symbol">:</a> <a id="4734" href="concurrency-language.html#960" class="Datatype">Expr</a><a id="4738" class="Symbol">)</a>
  <a id="4742" class="Symbol">→</a> <a id="4744" href="Codata.Stream.html#900" class="Datatype">Stream</a> <a id="4751" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="4756" class="Symbol">_</a> <a id="4758" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4760" href="concurrency-language.html#4276" class="Datatype">SingleStep</a> <a id="4771" href="concurrency-language.html#4730" class="Bound">L</a>
<a id="4773" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="4783" href="concurrency-language.html#4783" class="Bound">sxs</a> <a id="4787" class="Symbol">(</a><a id="4788" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="4792" href="concurrency-language.html#4792" class="Bound">x</a><a id="4793" class="Symbol">)</a> <a id="4795" class="Symbol">=</a> <a id="4797" href="concurrency-language.html#4783" class="Bound">sxs</a> <a id="4801" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4803" class="Symbol">(</a><a id="4804" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="4815" href="concurrency-language.html#4792" class="Bound">x</a> <a id="4817" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="4825" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a><a id="4827" class="Symbol">)</a>
<a id="4829" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="4839" href="concurrency-language.html#4839" class="Bound">sxs</a> <a id="4843" class="Symbol">(</a><a id="4844" href="concurrency-language.html#4844" class="Bound">M</a> <a id="4846" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="4849" href="concurrency-language.html#4849" class="Bound">N</a><a id="4850" class="Symbol">)</a> <a id="4852" class="Keyword">with</a> <a id="4857" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="4867" href="concurrency-language.html#4839" class="Bound">sxs</a> <a id="4871" href="concurrency-language.html#4844" class="Bound">M</a>
<a id="4873" class="Symbol">...</a> <a id="4877" class="Symbol">|</a> <a id="4879" href="concurrency-language.html#4879" class="Bound">sys</a> <a id="4883" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4885" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="4896" href="concurrency-language.html#4896" class="Bound">n</a> <a id="4898" class="Symbol">(</a><a id="4899" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4904" href="concurrency-language.html#4904" class="Bound">M'</a><a id="4906" class="Symbol">)</a> <a id="4908" href="concurrency-language.html#4908" class="Bound">st</a> <a id="4911" class="Symbol">=</a> <a id="4913" href="concurrency-language.html#4879" class="Bound">sys</a> <a id="4917" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4919" class="Symbol">(</a><a id="4920" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="4931" href="concurrency-language.html#4896" class="Bound">n</a> <a id="4933" class="Symbol">(</a><a id="4934" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="4939" class="Symbol">(</a><a id="4940" href="concurrency-language.html#4904" class="Bound">M'</a> <a id="4943" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="4946" class="Bound">N</a><a id="4947" class="Symbol">))</a> <a id="4950" class="Symbol">(</a><a id="4951" href="concurrency-language.html#2380" class="InductiveConstructor">ξ,,</a> <a id="4955" href="concurrency-language.html#4908" class="Bound">st</a><a id="4957" class="Symbol">))</a>
<a id="4960" class="Symbol">...</a> <a id="4964" class="Symbol">|</a> <a id="4966" href="concurrency-language.html#4966" class="Bound">sys</a> <a id="4970" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4972" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="4983" href="concurrency-language.html#4983" class="Bound">n</a> <a id="4985" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="4993" href="concurrency-language.html#4993" class="Bound">st</a> <a id="4996" class="Symbol">=</a> <a id="4998" href="concurrency-language.html#4966" class="Bound">sys</a> <a id="5002" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5004" class="Symbol">(</a><a id="5005" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5016" href="concurrency-language.html#4983" class="Bound">n</a> <a id="5018" class="Symbol">(</a><a id="5019" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5024" class="Bound">N</a><a id="5025" class="Symbol">)</a> <a id="5027" class="Symbol">(</a><a id="5028" href="concurrency-language.html#2643" class="InductiveConstructor">ξ,,∅</a> <a id="5033" href="concurrency-language.html#4993" class="Bound">st</a><a id="5035" class="Symbol">))</a>
<a id="5038" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="5048" class="Symbol">(</a><a id="5049" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="5055" href="Codata.Stream.html#946" class="InductiveConstructor Operator">∷</a> <a id="5057" href="concurrency-language.html#5057" class="Bound">sxs</a><a id="5060" class="Symbol">)</a> <a id="5062" class="Symbol">(</a><a id="5063" href="concurrency-language.html#5063" class="Bound">M</a> <a id="5065" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="5068" href="concurrency-language.html#5068" class="Bound">N</a><a id="5069" class="Symbol">)</a> <a id="5071" class="Keyword">with</a> <a id="5076" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="5086" class="Symbol">(</a><a id="5087" href="concurrency-language.html#5057" class="Bound">sxs</a> <a id="5091" class="Symbol">.</a><a id="5092" href="Codata.Thunk.html#541" class="Field">force</a><a id="5097" class="Symbol">)</a> <a id="5099" href="concurrency-language.html#5063" class="Bound">M</a>
<a id="5101" class="Symbol">...</a> <a id="5105" class="Symbol">|</a> <a id="5107" href="concurrency-language.html#5107" class="Bound">sys</a> <a id="5111" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5113" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5124" href="concurrency-language.html#5124" class="Bound">n</a> <a id="5126" class="Symbol">(</a><a id="5127" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5132" href="concurrency-language.html#5132" class="Bound">M'</a><a id="5134" class="Symbol">)</a> <a id="5136" href="concurrency-language.html#5136" class="Bound">st</a> <a id="5139" class="Symbol">=</a> <a id="5141" href="concurrency-language.html#5107" class="Bound">sys</a> <a id="5145" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5147" class="Symbol">(</a><a id="5148" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5159" href="concurrency-language.html#5124" class="Bound">n</a> <a id="5161" class="Symbol">(</a><a id="5162" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5167" class="Symbol">(</a><a id="5168" href="concurrency-language.html#5132" class="Bound">M'</a> <a id="5171" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="5174" class="Bound">N</a><a id="5175" class="Symbol">)</a> <a id="5177" class="Symbol">)</a> <a id="5179" class="Symbol">(</a><a id="5180" href="concurrency-language.html#1617" class="InductiveConstructor">ξ||ₗ</a> <a id="5185" href="concurrency-language.html#5136" class="Bound">st</a><a id="5187" class="Symbol">))</a>
<a id="5190" class="Symbol">...</a> <a id="5194" class="Symbol">|</a> <a id="5196" href="concurrency-language.html#5196" class="Bound">sys</a> <a id="5200" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5202" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5213" href="concurrency-language.html#5213" class="Bound">n</a> <a id="5215" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="5223" href="concurrency-language.html#5223" class="Bound">st</a> <a id="5226" class="Symbol">=</a> <a id="5228" href="concurrency-language.html#5196" class="Bound">sys</a> <a id="5232" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5234" class="Symbol">(</a><a id="5235" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5246" href="concurrency-language.html#5213" class="Bound">n</a> <a id="5248" class="Symbol">(</a><a id="5249" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5254" class="Bound">N</a><a id="5255" class="Symbol">)</a> <a id="5257" class="Symbol">(</a><a id="5258" href="concurrency-language.html#1820" class="InductiveConstructor">ξ||∅ₗ</a> <a id="5264" href="concurrency-language.html#5223" class="Bound">st</a><a id="5266" class="Symbol">))</a>
<a id="5269" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="5279" class="Symbol">(</a><a id="5280" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="5285" href="Codata.Stream.html#946" class="InductiveConstructor Operator">∷</a> <a id="5287" href="concurrency-language.html#5287" class="Bound">sxs</a><a id="5290" class="Symbol">)</a> <a id="5292" class="Symbol">(</a><a id="5293" href="concurrency-language.html#5293" class="Bound">M</a> <a id="5295" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="5298" href="concurrency-language.html#5298" class="Bound">N</a><a id="5299" class="Symbol">)</a> <a id="5301" class="Keyword">with</a> <a id="5306" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="5316" class="Symbol">(</a><a id="5317" href="concurrency-language.html#5287" class="Bound">sxs</a> <a id="5321" class="Symbol">.</a><a id="5322" href="Codata.Thunk.html#541" class="Field">force</a><a id="5327" class="Symbol">)</a> <a id="5329" href="concurrency-language.html#5298" class="Bound">N</a>
<a id="5331" class="Symbol">...</a> <a id="5335" class="Symbol">|</a> <a id="5337" href="concurrency-language.html#5337" class="Bound">sys</a> <a id="5341" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5343" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5354" href="concurrency-language.html#5354" class="Bound">n</a> <a id="5356" class="Symbol">(</a><a id="5357" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5362" href="concurrency-language.html#5362" class="Bound">N'</a><a id="5364" class="Symbol">)</a> <a id="5366" href="concurrency-language.html#5366" class="Bound">st</a> <a id="5369" class="Symbol">=</a> <a id="5371" href="concurrency-language.html#5337" class="Bound">sys</a> <a id="5375" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5377" class="Symbol">(</a><a id="5378" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5389" href="concurrency-language.html#5354" class="Bound">n</a> <a id="5391" class="Symbol">(</a><a id="5392" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5397" class="Symbol">(</a><a id="5398" class="Bound">M</a> <a id="5400" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="5403" href="concurrency-language.html#5362" class="Bound">N'</a><a id="5405" class="Symbol">)</a> <a id="5407" class="Symbol">)</a> <a id="5409" class="Symbol">(</a><a id="5410" href="concurrency-language.html#2014" class="InductiveConstructor">ξ||ᵣ</a> <a id="5415" href="concurrency-language.html#5366" class="Bound">st</a><a id="5417" class="Symbol">))</a>
<a id="5420" class="Symbol">...</a> <a id="5424" class="Symbol">|</a> <a id="5426" href="concurrency-language.html#5426" class="Bound">sys</a> <a id="5430" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5432" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5443" href="concurrency-language.html#5443" class="Bound">n</a> <a id="5445" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="5453" href="concurrency-language.html#5453" class="Bound">st</a> <a id="5456" class="Symbol">=</a> <a id="5458" href="concurrency-language.html#5426" class="Bound">sys</a> <a id="5462" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5464" class="Symbol">(</a><a id="5465" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="5476" href="concurrency-language.html#5443" class="Bound">n</a> <a id="5478" class="Symbol">(</a><a id="5479" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5484" class="Bound">M</a><a id="5485" class="Symbol">)</a> <a id="5487" class="Symbol">(</a><a id="5488" href="concurrency-language.html#2206" class="InductiveConstructor">ξ||∅ᵣ</a> <a id="5494" href="concurrency-language.html#5453" class="Bound">st</a><a id="5496" class="Symbol">))</a>
</pre>
<h1 id="evaluation">Evaluation</h1>
<p>For the definition of evaluation, it will necessary to be defined when an expression was finished in the evaluation and the steps of the evaluation.</p>
<pre class="Agda"><a id="5672" class="Keyword">data</a> <a id="Steps"></a><a id="5677" href="concurrency-language.html#5677" class="Datatype">Steps</a> <a id="5683" class="Symbol">:</a> <a id="5685" href="concurrency-language.html#960" class="Datatype">Expr</a> <a id="5690" class="Symbol">→</a> <a id="5692" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="5696" class="Keyword">where</a>
  <a id="Steps.steps"></a><a id="5704" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="5710" class="Symbol">:</a> <a id="5712" class="Symbol">∀</a> <a id="5714" class="Symbol">{</a><a id="5715" href="concurrency-language.html#5715" class="Bound">L</a><a id="5716" class="Symbol">}</a> <a id="5718" href="concurrency-language.html#5718" class="Bound">xs</a>
    <a id="5725" class="Symbol">→</a> <a id="5727" href="concurrency-language.html#5715" class="Bound">L</a> <a id="5729" href="concurrency-language.html#3792" class="Function Operator">—⇀</a> <a id="5732" href="concurrency-language.html#5718" class="Bound">xs</a>
      <a id="5741" class="Comment">----------</a>
    <a id="5756" class="Symbol">→</a> <a id="5758" href="concurrency-language.html#5677" class="Datatype">Steps</a> <a id="5764" href="concurrency-language.html#5715" class="Bound">L</a>

<a id="5767" class="Keyword">data</a> <a id="Finished"></a><a id="5772" href="concurrency-language.html#5772" class="Datatype">Finished</a> <a id="5781" class="Symbol">(</a><a id="5782" href="concurrency-language.html#5782" class="Bound">N</a> <a id="5784" class="Symbol">:</a> <a id="5786" href="concurrency-language.html#960" class="Datatype">Expr</a><a id="5790" class="Symbol">)</a> <a id="5792" class="Symbol">:</a> <a id="5794" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="5798" class="Keyword">where</a>
   <a id="Finished.done"></a><a id="5807" href="concurrency-language.html#5807" class="InductiveConstructor">done</a> <a id="5812" class="Symbol">:</a>
       <a id="5821" href="concurrency-language.html#5677" class="Datatype">Steps</a> <a id="5827" href="concurrency-language.html#5782" class="Bound">N</a>
       <a id="5836" class="Comment">----------</a>
     <a id="5852" class="Symbol">→</a> <a id="5854" href="concurrency-language.html#5772" class="Datatype">Finished</a> <a id="5863" href="concurrency-language.html#5782" class="Bound">N</a>

   <a id="Finished.out-of-gas"></a><a id="5869" href="concurrency-language.html#5869" class="InductiveConstructor">out-of-gas</a> <a id="5880" class="Symbol">:</a>
       <a id="5889" class="Comment">----------</a>
       <a id="5907" href="concurrency-language.html#5772" class="Datatype">Finished</a> <a id="5916" href="concurrency-language.html#5782" class="Bound">N</a>
</pre>
<p>An expression is finished when it is a value or when there is no more gas available to calculate it. In Agda, every computation must terminate. So it is impossible to have an infinite loop. So when an expression takes so much time to finish, it runs out of gas and there is no result.</p>
<p>The evaluation finishes when there is proof of multi-step for the value and it is already finished.</p>
<pre class="Agda"><a id="eval"></a><a id="6314" href="concurrency-language.html#6314" class="Function">eval</a> <a id="6319" class="Symbol">:</a>
  <a id="6323" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="6327" class="Symbol">→</a> <a id="6329" href="Codata.Stream.html#900" class="Datatype">Stream</a> <a id="6336" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="6341" class="Symbol">_</a>
  <a id="6345" class="Symbol">→</a> <a id="6347" class="Symbol">(</a><a id="6348" href="concurrency-language.html#6348" class="Bound">L</a> <a id="6350" class="Symbol">:</a> <a id="6352" href="concurrency-language.html#960" class="Datatype">Expr</a><a id="6356" class="Symbol">)</a>
  <a id="6360" class="Symbol">→</a> <a id="6362" href="concurrency-language.html#5772" class="Datatype">Finished</a> <a id="6371" href="concurrency-language.html#6348" class="Bound">L</a>
<a id="6373" href="concurrency-language.html#6314" class="Function">eval</a> <a id="6378" class="Number">0</a> <a id="6380" href="concurrency-language.html#6380" class="Bound">sxs</a> <a id="6384" href="concurrency-language.html#6384" class="Bound">L</a> <a id="6386" class="Symbol">=</a> <a id="6388" href="concurrency-language.html#5869" class="InductiveConstructor">out-of-gas</a>
<a id="6399" href="concurrency-language.html#6314" class="Function">eval</a> <a id="6404" class="Symbol">(</a><a id="6405" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6409" href="concurrency-language.html#6409" class="Bound">gas</a><a id="6412" class="Symbol">)</a> <a id="6414" href="concurrency-language.html#6414" class="Bound">sxs</a> <a id="6418" href="concurrency-language.html#6418" class="Bound">L</a> <a id="6420" class="Keyword">with</a> <a id="6425" href="concurrency-language.html#4697" class="Function">eval-step</a> <a id="6435" href="concurrency-language.html#6414" class="Bound">sxs</a> <a id="6439" href="concurrency-language.html#6418" class="Bound">L</a>
<a id="6441" class="Symbol">...</a> <a id="6445" class="Symbol">|</a> <a id="6447" href="concurrency-language.html#6447" class="Bound">sys</a> <a id="6451" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6453" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="6464" href="concurrency-language.html#6464" class="Bound">n</a> <a id="6466" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a> <a id="6474" href="concurrency-language.html#6474" class="Bound">st</a> <a id="6477" class="Symbol">=</a> <a id="6479" href="concurrency-language.html#5807" class="InductiveConstructor">done</a> <a id="6484" class="Symbol">(</a><a id="6485" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="6491" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6493" href="concurrency-language.html#6464" class="Bound">n</a> <a id="6495" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6497" class="Symbol">(</a><a id="6498" class="Bound">L</a> <a id="6500" href="concurrency-language.html#3551" class="InductiveConstructor Operator">—→⟨⟩</a> <a id="6505" href="concurrency-language.html#6474" class="Bound">st</a><a id="6507" class="Symbol">))</a>
<a id="6510" class="Symbol">...</a> <a id="6514" class="Symbol">|</a> <a id="6516" href="concurrency-language.html#6516" class="Bound">sys</a> <a id="6520" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6522" href="concurrency-language.html#4308" class="InductiveConstructor">singleStep</a> <a id="6533" href="concurrency-language.html#6533" class="Bound">n</a> <a id="6535" class="Symbol">(</a><a id="6536" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6541" href="concurrency-language.html#6541" class="Bound">M</a><a id="6542" class="Symbol">)</a> <a id="6544" href="concurrency-language.html#6544" class="Bound">st</a> <a id="6547" class="Keyword">with</a> <a id="6552" href="concurrency-language.html#6314" class="Function">eval</a> <a id="6557" class="Bound">gas</a> <a id="6561" href="concurrency-language.html#6516" class="Bound">sys</a> <a id="6565" href="concurrency-language.html#6541" class="Bound">M</a>
<a id="6567" class="Symbol">...</a>   <a id="6573" class="Symbol">|</a> <a id="6575" href="concurrency-language.html#5869" class="InductiveConstructor">out-of-gas</a> <a id="6586" class="Symbol">=</a> <a id="6588" href="concurrency-language.html#5869" class="InductiveConstructor">out-of-gas</a>
<a id="6599" class="Symbol">...</a>   <a id="6605" class="Symbol">|</a> <a id="6607" href="concurrency-language.html#5807" class="InductiveConstructor">done</a> <a id="6612" class="Symbol">(</a><a id="6613" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="6619" href="concurrency-language.html#6619" class="Bound">xs</a> <a id="6622" href="concurrency-language.html#6622" class="Bound">st2</a><a id="6625" class="Symbol">)</a> <a id="6627" class="Symbol">=</a> <a id="6629" href="concurrency-language.html#5807" class="InductiveConstructor">done</a> <a id="6634" class="Symbol">(</a><a id="6635" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="6641" class="Symbol">(</a><a id="6642" class="Bound">n</a> <a id="6644" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6646" href="concurrency-language.html#6619" class="Bound">xs</a><a id="6648" class="Symbol">)</a> <a id="6650" class="Symbol">(</a><a id="6651" class="Bound">L</a> <a id="6653" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="6657" class="Bound">st</a> <a id="6660" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a> <a id="6662" href="concurrency-language.html#6622" class="Bound">st2</a><a id="6665" class="Symbol">))</a>
</pre>
<p>The evaluation takes gas and the expression to evaluate. In the end, it returns the value with proof that the expression evaluates this value.</p>
<p>Here, some examples of the evaluation:</p>
<pre class="Agda"><a id="rfalse"></a><a id="6861" href="concurrency-language.html#6861" class="Function">rfalse</a> <a id="6868" class="Symbol">=</a> <a id="6870" href="Codata.Stream.html#1083" class="Function">repeat</a> <a id="6877" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
<a id="rtrue"></a><a id="6883" href="concurrency-language.html#6883" class="Function">rtrue</a> <a id="6889" class="Symbol">=</a> <a id="6891" href="Codata.Stream.html#1083" class="Function">repeat</a> <a id="6898" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
<a id="evalf"></a><a id="6903" href="concurrency-language.html#6903" class="Function">evalf</a> <a id="6909" class="Symbol">=</a> <a id="6911" href="concurrency-language.html#6314" class="Function">eval</a> <a id="6916" class="Number">100</a> <a id="6920" href="concurrency-language.html#6861" class="Function">rfalse</a>
<a id="evalt"></a><a id="6927" href="concurrency-language.html#6927" class="Function">evalt</a> <a id="6933" class="Symbol">=</a> <a id="6935" href="concurrency-language.html#6314" class="Function">eval</a> <a id="6940" class="Number">100</a> <a id="6944" href="concurrency-language.html#6883" class="Function">rtrue</a>

<a id="6951" href="concurrency-language.html#6951" class="Function">_</a> <a id="6953" class="Symbol">:</a> <a id="6955" href="concurrency-language.html#6903" class="Function">evalf</a> <a id="6961" href="concurrency-language.html#2882" class="Function">||prog</a> <a id="6968" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6970" href="concurrency-language.html#5807" class="InductiveConstructor">done</a>
  <a id="6977" class="Symbol">(</a><a id="6978" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="6984" class="Symbol">(</a><a id="6985" class="Number">0</a> <a id="6987" class="InductiveConstructor Operator">∷</a> <a id="6989" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6991" class="Number">1</a> <a id="6993" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="6994" class="Symbol">)</a>
  <a id="6998" class="Symbol">(</a><a id="6999" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7003" class="Number">0</a> <a id="7005" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="7008" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7012" class="Number">1</a> <a id="7014" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="7018" href="concurrency-language.html#1820" class="InductiveConstructor">ξ||∅ₗ</a> <a id="7024" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a> <a id="7027" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a>
  <a id="7031" class="Symbol">(</a><a id="7032" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7036" class="Number">1</a> <a id="7038" href="concurrency-language.html#3551" class="InductiveConstructor Operator">—→⟨⟩</a> <a id="7043" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a><a id="7045" class="Symbol">)))</a>
<a id="7049" class="Symbol">_</a> <a id="7051" class="Symbol">=</a> <a id="7053" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="7059" href="concurrency-language.html#7059" class="Function">_</a> <a id="7061" class="Symbol">:</a> <a id="7063" href="concurrency-language.html#6927" class="Function">evalt</a> <a id="7069" href="concurrency-language.html#2882" class="Function">||prog</a> <a id="7076" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7078" href="concurrency-language.html#5807" class="InductiveConstructor">done</a>
  <a id="7085" class="Symbol">(</a><a id="7086" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="7092" class="Symbol">(</a><a id="7093" class="Number">1</a> <a id="7095" class="InductiveConstructor Operator">∷</a> <a id="7097" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7099" class="Number">0</a> <a id="7101" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="7102" class="Symbol">)</a>
  <a id="7106" class="Symbol">(</a><a id="7107" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7111" class="Number">0</a> <a id="7113" href="concurrency-language.html#996" class="InductiveConstructor Operator">||</a> <a id="7116" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7120" class="Number">1</a> <a id="7122" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="7126" href="concurrency-language.html#2206" class="InductiveConstructor">ξ||∅ᵣ</a> <a id="7132" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a> <a id="7135" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a>
  <a id="7139" class="Symbol">(</a><a id="7140" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7144" class="Number">0</a> <a id="7146" href="concurrency-language.html#3551" class="InductiveConstructor Operator">—→⟨⟩</a> <a id="7151" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a><a id="7153" class="Symbol">)))</a>
<a id="7157" class="Symbol">_</a> <a id="7159" class="Symbol">=</a> <a id="7161" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="7167" href="concurrency-language.html#7167" class="Function">_</a> <a id="7169" class="Symbol">:</a> <a id="7171" href="concurrency-language.html#6903" class="Function">evalf</a> <a id="7177" class="Symbol">(</a><a id="7178" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7182" class="Number">0</a> <a id="7184" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="7187" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7191" class="Number">1</a><a id="7192" class="Symbol">)</a> <a id="7194" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7196" href="concurrency-language.html#5807" class="InductiveConstructor">done</a>
  <a id="7203" class="Symbol">(</a><a id="7204" href="concurrency-language.html#5704" class="InductiveConstructor">steps</a> <a id="7210" class="Symbol">(</a><a id="7211" class="Number">0</a> <a id="7213" class="InductiveConstructor Operator">∷</a> <a id="7215" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7217" class="Number">1</a> <a id="7219" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="7220" class="Symbol">)</a>
  <a id="7224" class="Symbol">(</a><a id="7225" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7229" class="Number">0</a> <a id="7231" href="concurrency-language.html#1024" class="InductiveConstructor Operator">,,</a> <a id="7234" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7238" class="Number">1</a> <a id="7240" href="concurrency-language.html#3439" class="InductiveConstructor Operator">—→⟨</a> <a id="7244" href="concurrency-language.html#2643" class="InductiveConstructor">ξ,,∅</a> <a id="7249" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a> <a id="7252" href="concurrency-language.html#3439" class="InductiveConstructor Operator">⟩</a>
  <a id="7256" class="Symbol">(</a><a id="7257" href="concurrency-language.html#979" class="InductiveConstructor">nat</a> <a id="7261" class="Number">1</a> <a id="7263" href="concurrency-language.html#3551" class="InductiveConstructor Operator">—→⟨⟩</a> <a id="7268" href="concurrency-language.html#1382" class="InductiveConstructor">ξℕ</a><a id="7270" class="Symbol">)))</a>
<a id="7274" class="Symbol">_</a> <a id="7276" class="Symbol">=</a> <a id="7278" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
    </section>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a style="color:yellow;" href="http://jaspervdj.be/hakyll">Hakyll</a> with
            <a style="color:yellow;" href="https://github.com/guilhermehas/guilhermehas.github.io">source code</a>
        </footer>
    </body>
</html>
