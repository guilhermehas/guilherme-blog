<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Guilherme Silva Blog - Types for units of measure</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="Agda.css" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../">Guilherme Silva</a>
            </div>
            <nav>
                <a href="../">Home</a>
                <a href="../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <h1>Types for units of measure</h1>
            <article>
    <section class="header">
        Posted on December 18, 2021
        
            by Guilherme
        
    </section>
    <section>
        <h1 id="motivation">Motivation</h1>
<p>My motivation to create types for units of measure is to try to avoid bugs when dealing with dimensional.
For example, using these types, it would be impossible to add numbers of different dimensional.
Another advantage of using them is that when you deal with multiplication and division, the measure
of both values is multiples and divided.</p>
<h1 id="imports">Imports</h1>
<p>Importing libraries of Agda Stdlib:</p>
<pre class="Agda"><a id="489" class="Keyword">module</a> <a id="496" href="unit-of-measure.html" class="Module">unit-of-measure</a> <a id="512" class="Keyword">where</a>

<a id="519" class="Keyword">open</a> <a id="524" class="Keyword">import</a> <a id="531" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Level.html" class="Module">Level</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Algebra.Core.html" class="Module">Algebra.Core</a>
<a id="609" class="Keyword">open</a> <a id="614" class="Keyword">import</a> <a id="621" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="630" class="Keyword">hiding</a> <a id="637" class="Symbol">(</a><a id="638" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="641" class="Symbol">;</a> <a id="643" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="646" class="Symbol">;</a> <a id="648" href="Data.Nat.Properties.html#2529" class="Function Operator">_≟_</a><a id="651" class="Symbol">;</a> <a id="653" href="Data.Nat.Base.html#2475" class="Function">NonZero</a><a id="660" class="Symbol">)</a> <a id="662" class="Keyword">renaming</a> <a id="671" class="Symbol">(</a><a id="672" href="Data.Nat.Base.html#2880" class="Function">pred</a> <a id="677" class="Symbol">to</a> <a id="680" class="Function">predn</a><a id="685" class="Symbol">)</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="709" class="Keyword">hiding</a> <a id="716" class="Symbol">(</a><a id="717" href="Data.Bool.Properties.html#1126" class="Function Operator">_≟_</a><a id="720" class="Symbol">)</a>
<a id="722" class="Keyword">open</a> <a id="727" class="Keyword">import</a> <a id="734" href="Data.List.html" class="Module">Data.List</a> <a id="744" class="Keyword">renaming</a> <a id="753" class="Symbol">(</a><a id="754" href="Data.List.Base.html#1544" class="Function">map</a> <a id="758" class="Symbol">to</a> <a id="761" class="Function">mapl</a><a id="765" class="Symbol">)</a>
<a id="767" class="Keyword">open</a> <a id="772" class="Keyword">import</a> <a id="779" href="Data.Vec.html" class="Module">Data.Vec</a>
  <a id="790" class="Keyword">hiding</a> <a id="797" class="Symbol">(</a><a id="798" href="Data.Vec.Base.html#4755" class="Function">foldr</a><a id="803" class="Symbol">;</a> <a id="805" href="Data.Vec.html#1150" class="Function">filter</a><a id="811" class="Symbol">)</a>
  <a id="815" class="Keyword">renaming</a> <a id="824" class="Symbol">(</a><a id="825" href="Data.Vec.Base.html#3418" class="Function">zipWith</a> <a id="833" class="Symbol">to</a> <a id="836" class="Function">zipWithV</a><a id="844" class="Symbol">;</a> <a id="846" href="Data.Vec.Base.html#5888" class="Function">tabulate</a> <a id="855" class="Symbol">to</a> <a id="858" class="Function">tabulateV</a><a id="867" class="Symbol">;</a> <a id="869" href="Data.Vec.Base.html#1605" class="Function">lookup</a> <a id="876" class="Symbol">to</a> <a id="879" class="Function">lookupv</a><a id="886" class="Symbol">)</a>
<a id="888" class="Keyword">open</a> <a id="893" class="Keyword">import</a> <a id="900" href="Data.Product.html" class="Module">Data.Product</a>
<a id="913" class="Keyword">open</a> <a id="918" class="Keyword">import</a> <a id="925" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="939" class="Symbol">as</a> <a id="942" class="Module">ℚ</a>
  <a id="946" class="Keyword">renaming</a> <a id="955" class="Symbol">(</a><a id="956" href="Data.Rational.Base.html#6099" class="Function Operator">_+_</a> <a id="960" class="Symbol">to</a> <a id="963" class="Function Operator">_+q_</a><a id="967" class="Symbol">;</a> <a id="969" href="Data.Rational.Base.html#6190" class="Function Operator">_*_</a> <a id="973" class="Symbol">to</a> <a id="976" class="Function Operator">_*q_</a><a id="980" class="Symbol">;</a> <a id="982" href="Data.Rational.Base.html#4102" class="Function Operator">_/_</a> <a id="986" class="Symbol">to</a> <a id="989" class="Function Operator">_/q_</a><a id="993" class="Symbol">)</a>
  <a id="997" class="Keyword">hiding</a> <a id="1004" class="Symbol">(</a><a id="1005" href="Data.Rational.Properties.html#3468" class="Function Operator">_≟_</a><a id="1008" class="Symbol">;</a> <a id="1010" href="Data.Rational.Base.html#6568" class="Function Operator">_÷_</a><a id="1013" class="Symbol">;</a> <a id="1015" href="Data.Rational.Base.html#6360" class="Function Operator">1/_</a><a id="1018" class="Symbol">;</a> <a id="1020" href="Data.Rational.Base.html#4738" class="Function">NonZero</a><a id="1027" class="Symbol">;</a> <a id="1029" href="Data.Rational.Base.html#3299" class="Function Operator">-_</a><a id="1031" class="Symbol">)</a>
<a id="1033" class="Keyword">open</a> <a id="1038" class="Keyword">import</a> <a id="1045" href="Data.Integer.html" class="Module">Data.Integer</a>
  <a id="1060" class="Keyword">renaming</a> <a id="1069" class="Symbol">(</a><a id="1070" href="Data.Integer.Base.html#4844" class="Function Operator">_+_</a> <a id="1074" class="Symbol">to</a> <a id="1077" class="Function Operator">_+z_</a><a id="1081" class="Symbol">;</a> <a id="1083" href="Data.Integer.Base.html#5169" class="Function Operator">_*_</a> <a id="1087" class="Symbol">to</a> <a id="1090" class="Function Operator">_*z_</a><a id="1094" class="Symbol">;</a> <a id="1096" href="Data.Integer.Base.html#5023" class="Function Operator">_-_</a> <a id="1100" class="Symbol">to</a> <a id="1103" class="Function Operator">_-z_</a><a id="1107" class="Symbol">)</a>
  <a id="1111" class="Keyword">hiding</a> <a id="1118" class="Symbol">(</a><a id="1119" href="Data.Integer.Properties.html#2102" class="Function Operator">_≟_</a><a id="1122" class="Symbol">;</a> <a id="1124" href="Data.Integer.Base.html#2963" class="Function">NonZero</a><a id="1131" class="Symbol">)</a>
<a id="1133" class="Keyword">open</a> <a id="1138" class="Keyword">import</a> <a id="1145" href="Data.Integer.Instances.html" class="Module">Data.Integer.Instances</a>
<a id="1168" class="Keyword">open</a> <a id="1173" class="Keyword">import</a> <a id="1180" href="Data.Fin.html" class="Module">Data.Fin</a>
<a id="1189" class="Keyword">open</a> <a id="1194" class="Keyword">import</a> <a id="1201" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="1221" class="Keyword">renaming</a> <a id="1230" class="Symbol">(</a><a id="1231" href="Data.Fin.Properties.html#2542" class="Function Operator">_≟_</a> <a id="1235" class="Symbol">to</a> <a id="1238" class="Function Operator">_≟f_</a><a id="1242" class="Symbol">)</a>
<a id="1244" class="Keyword">open</a> <a id="1249" class="Keyword">import</a> <a id="1256" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="1272" class="Keyword">open</a> <a id="1277" class="Keyword">import</a> <a id="1284" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1322" class="Keyword">hiding</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Relation.Binary.PropositionalEquality.html#4689" class="Function">Extensionality</a><a id="1344" class="Symbol">)</a>
<a id="1346" class="Keyword">open</a> <a id="1351" class="Keyword">import</a> <a id="1358" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1375" class="Keyword">open</a> <a id="1380" class="Keyword">import</a> <a id="1387" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="1414" class="Keyword">open</a> <a id="1419" class="Keyword">import</a> <a id="1426" href="Function.html" class="Module">Function</a>
<a id="1435" class="Keyword">open</a> <a id="1440" class="Keyword">import</a> <a id="1447" href="internal-library.html" class="Module">internal-library</a>

<a id="1465" class="Keyword">private</a>
  <a id="1475" class="Keyword">variable</a>
    <a id="1488" href="unit-of-measure.html#1488" class="Generalizable">ℓ</a> <a id="1490" href="unit-of-measure.html#1490" class="Generalizable">ℓ′</a> <a id="1493" class="Symbol">:</a> <a id="1495" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="1505" href="unit-of-measure.html#1505" class="Generalizable">n</a> <a id="1507" class="Symbol">:</a> <a id="1509" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

</pre>
<h1 id="minimalist-case">Minimalist Case</h1>
<p>In the minimalist case, I will only define seconds and meters.
In more complex examples, it is possible to define more dimensional.</p>
<pre class="Agda"><a id="1673" class="Keyword">module</a> <a id="MinimalistCase"></a><a id="1680" href="unit-of-measure.html#1680" class="Module">MinimalistCase</a> <a id="1695" class="Keyword">where</a>

  <a id="1704" class="Keyword">record</a> <a id="MinimalistCase.Dimensional"></a><a id="1711" href="unit-of-measure.html#1711" class="Record">Dimensional</a> <a id="1723" class="Symbol">:</a> <a id="1725" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1729" class="Keyword">where</a>
    <a id="1739" class="Keyword">constructor</a> <a id="MinimalistCase.m^_s^_"></a><a id="1751" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^_s^_</a>
    <a id="1762" class="Keyword">field</a>
      <a id="MinimalistCase.Dimensional.meters"></a><a id="1774" href="unit-of-measure.html#1774" class="Field">meters</a>  <a id="1782" class="Symbol">:</a> <a id="1784" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
      <a id="MinimalistCase.Dimensional.seconds"></a><a id="1792" href="unit-of-measure.html#1792" class="Field">seconds</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>

  <a id="MinimalistCase.m^_"></a><a id="1807" href="unit-of-measure.html#1807" class="Function Operator">m^_</a> <a id="1811" class="Symbol">:</a> <a id="1813" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="1815" class="Symbol">→</a> <a id="1817" href="unit-of-measure.html#1711" class="Record">Dimensional</a>
  <a id="1831" href="unit-of-measure.html#1807" class="Function Operator">m^</a> <a id="1834" href="unit-of-measure.html#1834" class="Bound">z</a> <a id="1836" class="Symbol">=</a> <a id="1838" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="1841" href="unit-of-measure.html#1834" class="Bound">z</a> <a id="1843" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="1846" class="Symbol">(</a><a id="1847" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="1849" class="Number">0</a><a id="1850" class="Symbol">)</a>

  <a id="MinimalistCase.s^_"></a><a id="1855" href="unit-of-measure.html#1855" class="Function Operator">s^_</a> <a id="1859" class="Symbol">:</a> <a id="1861" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="1863" class="Symbol">→</a> <a id="1865" href="unit-of-measure.html#1711" class="Record">Dimensional</a>
  <a id="1879" href="unit-of-measure.html#1855" class="Function Operator">s^</a> <a id="1882" href="unit-of-measure.html#1882" class="Bound">z</a> <a id="1884" class="Symbol">=</a> <a id="1886" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="1889" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="1891" class="Number">0</a> <a id="1893" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="1896" href="unit-of-measure.html#1882" class="Bound">z</a>
</pre>
<h2 id="measure-type">Measure Type</h2>
<p>In the measure type, the dimensional is in the type.
It will be useful when defining the addition of values with the same dimensional.</p>
<pre class="Agda">  <a id="2062" class="Keyword">record</a> <a id="MinimalistCase.Measure"></a><a id="2069" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2077" class="Symbol">(</a><a id="2078" href="unit-of-measure.html#2078" class="Bound">dimensional</a> <a id="2090" class="Symbol">:</a> <a id="2092" href="unit-of-measure.html#1711" class="Record">Dimensional</a><a id="2103" class="Symbol">)</a> <a id="2105" class="Symbol">:</a> <a id="2107" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2111" class="Keyword">where</a>
    <a id="2121" class="Keyword">constructor</a> <a id="MinimalistCase.⟦_⟧"></a><a id="2133" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦_⟧</a>
    <a id="2141" class="Keyword">field</a>
      <a id="MinimalistCase.Measure.measure"></a><a id="2153" href="unit-of-measure.html#2153" class="Field">measure</a> <a id="2161" class="Symbol">:</a> <a id="2163" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="MinimalistCase.Measure.NonZero"></a><a id="2169" href="unit-of-measure.html#2169" class="Function">NonZero</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="2187" href="unit-of-measure.html#2169" class="Function">NonZero</a> <a id="2195" class="Symbol">=</a> <a id="2197" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="2207" href="unit-of-measure.html#2153" class="Field">measure</a>

  <a id="2218" class="Keyword">open</a> <a id="2223" href="unit-of-measure.html#2069" class="Module">Measure</a>
</pre>
<p>These variables will be used later:</p>
<pre class="Agda">  <a id="2279" class="Keyword">private</a>
    <a id="2291" class="Keyword">variable</a>
      <a id="2306" href="unit-of-measure.html#2306" class="Generalizable">d</a> <a id="2308" href="unit-of-measure.html#2308" class="Generalizable">d₁</a> <a id="2311" href="unit-of-measure.html#2311" class="Generalizable">d₂</a> <a id="2314" class="Symbol">:</a> <a id="2316" href="unit-of-measure.html#1711" class="Record">Dimensional</a>
</pre>
<h3 id="operations">Operations</h3>
<p>In addition, both have to have the same Dimensional Type.</p>
<pre class="Agda">  <a id="MinimalistCase._+d_"></a><a id="2414" href="unit-of-measure.html#2414" class="Function Operator">_+d_</a> <a id="2419" class="Symbol">:</a> <a id="2421" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2425" class="Symbol">(</a><a id="2426" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2434" href="unit-of-measure.html#2306" class="Generalizable">d</a><a id="2435" class="Symbol">)</a>
  <a id="2439" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2441" href="unit-of-measure.html#2441" class="Bound">a</a> <a id="2443" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a> <a id="2445" href="unit-of-measure.html#2414" class="Function Operator">+d</a> <a id="2448" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2450" href="unit-of-measure.html#2450" class="Bound">b</a> <a id="2452" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a> <a id="2454" class="Symbol">=</a> <a id="2456" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2458" href="unit-of-measure.html#2441" class="Bound">a</a> <a id="2460" href="unit-of-measure.html#963" class="Function Operator">+q</a> <a id="2463" href="unit-of-measure.html#2450" class="Bound">b</a>  <a id="2466" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a>
</pre>
<p>In multiplication and division of dimensional, both meters and seconds are added and subtracted respectively.</p>
<pre class="Agda">  <a id="MinimalistCase._*u_"></a><a id="2590" href="unit-of-measure.html#2590" class="Function Operator">_*u_</a> <a id="2595" class="Symbol">:</a> <a id="2597" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2601" href="unit-of-measure.html#1711" class="Record">Dimensional</a>
  <a id="2615" class="Symbol">(</a><a id="2616" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="2619" href="unit-of-measure.html#2619" class="Bound">mA</a> <a id="2622" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="2625" href="unit-of-measure.html#2625" class="Bound">sA</a><a id="2627" class="Symbol">)</a> <a id="2629" href="unit-of-measure.html#2590" class="Function Operator">*u</a> <a id="2632" class="Symbol">(</a><a id="2633" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="2636" href="unit-of-measure.html#2636" class="Bound">mB</a> <a id="2639" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="2642" href="unit-of-measure.html#2642" class="Bound">sB</a><a id="2644" class="Symbol">)</a> <a id="2646" class="Symbol">=</a> <a id="2648" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="2651" href="unit-of-measure.html#2619" class="Bound">mA</a> <a id="2654" href="unit-of-measure.html#1077" class="Function Operator">+z</a> <a id="2657" href="unit-of-measure.html#2636" class="Bound">mB</a> <a id="2660" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="2663" class="Symbol">(</a><a id="2664" href="unit-of-measure.html#2625" class="Bound">sA</a> <a id="2667" href="unit-of-measure.html#1077" class="Function Operator">+z</a> <a id="2670" href="unit-of-measure.html#2642" class="Bound">sB</a><a id="2672" class="Symbol">)</a>

  <a id="MinimalistCase._/u_"></a><a id="2677" href="unit-of-measure.html#2677" class="Function Operator">_/u_</a> <a id="2682" class="Symbol">:</a> <a id="2684" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2688" href="unit-of-measure.html#1711" class="Record">Dimensional</a>
  <a id="2702" class="Symbol">(</a><a id="2703" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="2706" href="unit-of-measure.html#2706" class="Bound">mA</a> <a id="2709" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="2712" href="unit-of-measure.html#2712" class="Bound">sA</a><a id="2714" class="Symbol">)</a> <a id="2716" href="unit-of-measure.html#2677" class="Function Operator">/u</a> <a id="2719" class="Symbol">(</a><a id="2720" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="2723" href="unit-of-measure.html#2723" class="Bound">mB</a> <a id="2726" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="2729" href="unit-of-measure.html#2729" class="Bound">sB</a><a id="2731" class="Symbol">)</a> <a id="2733" class="Symbol">=</a> <a id="2735" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="2738" class="Symbol">(</a><a id="2739" href="unit-of-measure.html#2706" class="Bound">mA</a> <a id="2742" href="unit-of-measure.html#1103" class="Function Operator">-z</a> <a id="2745" href="unit-of-measure.html#2723" class="Bound">mB</a><a id="2747" class="Symbol">)</a> <a id="2749" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="2752" class="Symbol">(</a><a id="2753" href="unit-of-measure.html#2712" class="Bound">sA</a> <a id="2756" href="unit-of-measure.html#1103" class="Function Operator">-z</a> <a id="2759" href="unit-of-measure.html#2729" class="Bound">sB</a><a id="2761" class="Symbol">)</a>
</pre>
<p>For multiplication and division of measures:</p>
<pre class="Agda">  <a id="MinimalistCase._*d_"></a><a id="2820" href="unit-of-measure.html#2820" class="Function Operator">_*d_</a> <a id="2825" class="Symbol">:</a> <a id="2827" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2835" href="unit-of-measure.html#2308" class="Generalizable">d₁</a> <a id="2838" class="Symbol">→</a> <a id="2840" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2848" href="unit-of-measure.html#2311" class="Generalizable">d₂</a> <a id="2851" class="Symbol">→</a> <a id="2853" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2861" class="Symbol">(</a><a id="2862" href="unit-of-measure.html#2308" class="Generalizable">d₁</a> <a id="2865" href="unit-of-measure.html#2590" class="Function Operator">*u</a> <a id="2868" href="unit-of-measure.html#2311" class="Generalizable">d₂</a><a id="2870" class="Symbol">)</a>
  <a id="2874" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2876" href="unit-of-measure.html#2876" class="Bound">x</a> <a id="2878" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a> <a id="2880" href="unit-of-measure.html#2820" class="Function Operator">*d</a> <a id="2883" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2885" href="unit-of-measure.html#2885" class="Bound">y</a> <a id="2887" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a> <a id="2889" class="Symbol">=</a> <a id="2891" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2893" href="unit-of-measure.html#2876" class="Bound">x</a> <a id="2895" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="2898" href="unit-of-measure.html#2885" class="Bound">y</a> <a id="2900" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a>

  <a id="MinimalistCase._/d_"></a><a id="2905" href="unit-of-measure.html#2905" class="Function Operator">_/d_</a> <a id="2910" class="Symbol">:</a> <a id="2912" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2920" href="unit-of-measure.html#2308" class="Generalizable">d₁</a> <a id="2923" class="Symbol">→</a> <a id="2925" class="Symbol">(</a><a id="2926" href="unit-of-measure.html#2926" class="Bound">y</a> <a id="2928" class="Symbol">:</a> <a id="2930" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2938" href="unit-of-measure.html#2311" class="Generalizable">d₂</a><a id="2940" class="Symbol">)</a> <a id="2942" class="Symbol">→</a> <a id="2944" class="Symbol">⦃</a> <a id="2946" href="unit-of-measure.html#2169" class="Function">NonZero</a> <a id="2954" href="unit-of-measure.html#2926" class="Bound">y</a> <a id="2956" class="Symbol">⦄</a> <a id="2958" class="Symbol">→</a> <a id="2960" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="2968" class="Symbol">(</a><a id="2969" href="unit-of-measure.html#2308" class="Generalizable">d₁</a> <a id="2972" href="unit-of-measure.html#2677" class="Function Operator">/u</a> <a id="2975" href="unit-of-measure.html#2311" class="Generalizable">d₂</a><a id="2977" class="Symbol">)</a>
  <a id="2981" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2983" href="unit-of-measure.html#2983" class="Bound">x</a> <a id="2985" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a> <a id="2987" href="unit-of-measure.html#2905" class="Function Operator">/d</a> <a id="2990" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="2992" href="unit-of-measure.html#2992" class="Bound">y</a> <a id="2994" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a> <a id="2996" class="Symbol">=</a> <a id="2998" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="3000" href="unit-of-measure.html#2983" class="Bound">x</a> <a id="3002" href="internal-library.html#940" class="Function Operator">÷</a> <a id="3004" href="unit-of-measure.html#2992" class="Bound">y</a> <a id="3006" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a>
</pre>
<h3 id="defining-equations">Defining equations</h3>
<p>One of the simplest equations in Physics are <code>distance = speed * time</code> and <code>speed = distance / time</code>.
Both will be defined in the next lines:</p>
<pre class="Agda">  <a id="MinimalistCase.ud"></a><a id="3186" href="unit-of-measure.html#3186" class="Function">ud</a> <a id="3189" class="Symbol">=</a> <a id="3191" href="unit-of-measure.html#1807" class="Function Operator">m^</a> <a id="3194" class="Symbol">(</a><a id="3195" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3197" class="Number">1</a><a id="3198" class="Symbol">)</a>
  <a id="MinimalistCase.ut"></a><a id="3202" href="unit-of-measure.html#3202" class="Function">ut</a> <a id="3205" class="Symbol">=</a> <a id="3207" href="unit-of-measure.html#1855" class="Function Operator">s^</a> <a id="3210" class="Symbol">(</a><a id="3211" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3213" class="Number">1</a><a id="3214" class="Symbol">)</a>
  <a id="MinimalistCase.uv"></a><a id="3218" href="unit-of-measure.html#3218" class="Function">uv</a> <a id="3221" class="Symbol">=</a> <a id="3223" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">m^</a> <a id="3226" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3228" class="Number">1</a> <a id="3230" href="unit-of-measure.html#1751" class="InductiveConstructor Operator">s^</a> <a id="3233" class="Symbol">(</a><a id="3234" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="3236" class="Symbol">(</a><a id="3237" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3239" class="Number">1</a><a id="3240" class="Symbol">))</a>

  <a id="MinimalistCase.distance"></a><a id="3246" href="unit-of-measure.html#3246" class="Function">distance</a> <a id="3255" class="Symbol">:</a> <a id="3257" class="Symbol">(</a><a id="3258" href="unit-of-measure.html#3258" class="Bound">speed</a> <a id="3264" class="Symbol">:</a> <a id="3266" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3274" href="unit-of-measure.html#3218" class="Function">uv</a><a id="3276" class="Symbol">)</a>
             <a id="3291" class="Symbol">(</a><a id="3292" href="unit-of-measure.html#3292" class="Bound">time</a>  <a id="3298" class="Symbol">:</a> <a id="3300" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3308" href="unit-of-measure.html#3202" class="Function">ut</a><a id="3310" class="Symbol">)</a>
                    <a id="3332" class="Symbol">→</a> <a id="3334" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3342" href="unit-of-measure.html#3186" class="Function">ud</a>
  <a id="3347" href="unit-of-measure.html#3246" class="Function">distance</a> <a id="3356" href="unit-of-measure.html#3356" class="Bound">speed</a> <a id="3362" href="unit-of-measure.html#3362" class="Bound">time</a> <a id="3367" class="Symbol">=</a> <a id="3369" href="unit-of-measure.html#3356" class="Bound">speed</a> <a id="3375" href="unit-of-measure.html#2820" class="Function Operator">*d</a> <a id="3378" href="unit-of-measure.html#3362" class="Bound">time</a>

  <a id="MinimalistCase.speed"></a><a id="3386" href="unit-of-measure.html#3386" class="Function">speed</a> <a id="3392" class="Symbol">:</a> <a id="3394" class="Symbol">(</a><a id="3395" href="unit-of-measure.html#3395" class="Bound">distance</a> <a id="3404" class="Symbol">:</a> <a id="3406" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3414" href="unit-of-measure.html#3186" class="Function">ud</a><a id="3416" class="Symbol">)</a>
          <a id="3428" class="Symbol">(</a><a id="3429" href="unit-of-measure.html#3429" class="Bound">time</a>     <a id="3438" class="Symbol">:</a> <a id="3440" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3448" href="unit-of-measure.html#3202" class="Function">ut</a><a id="3450" class="Symbol">)</a> <a id="3452" class="Symbol">⦃</a> <a id="3454" href="unit-of-measure.html#3454" class="Symbol">_</a> <a id="3456" class="Symbol">:</a> <a id="3458" href="unit-of-measure.html#2169" class="Function">NonZero</a> <a id="3466" href="unit-of-measure.html#3429" class="Bound">time</a> <a id="3471" class="Symbol">⦄</a>
                    <a id="3493" class="Symbol">→</a> <a id="3495" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3503" href="unit-of-measure.html#3218" class="Function">uv</a>
  <a id="3508" href="unit-of-measure.html#3386" class="Function">speed</a> <a id="3514" href="unit-of-measure.html#3514" class="Bound">distance</a> <a id="3523" href="unit-of-measure.html#3523" class="Bound">time</a> <a id="3528" class="Symbol">=</a> <a id="3530" href="unit-of-measure.html#3514" class="Bound">distance</a> <a id="3539" href="unit-of-measure.html#2905" class="Function Operator">/d</a> <a id="3542" href="unit-of-measure.html#3523" class="Bound">time</a>
</pre>
<h3 id="examples">Examples</h3>
<p>These are some examples of operations:</p>
<pre class="Agda">  <a id="3612" class="Keyword">private</a> <a id="3620" class="Keyword">module</a> <a id="MinimalistCase.tests"></a><a id="3627" href="unit-of-measure.html#3627" class="Module">tests</a> <a id="3633" class="Keyword">where</a>
    <a id="MinimalistCase.tests.⦅_⦆"></a><a id="3643" href="unit-of-measure.html#3643" class="Function Operator">⦅_⦆</a> <a id="3647" class="Symbol">:</a> <a id="3649" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3651" class="Symbol">→</a> <a id="3653" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3661" href="unit-of-measure.html#2306" class="Generalizable">d</a>
    <a id="3667" href="unit-of-measure.html#3643" class="Function Operator">⦅</a> <a id="3669" href="unit-of-measure.html#3669" class="Bound">n</a> <a id="3671" href="unit-of-measure.html#3643" class="Function Operator">⦆</a> <a id="3673" class="Symbol">=</a> <a id="3675" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟦</a> <a id="3677" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3679" href="unit-of-measure.html#3669" class="Bound">n</a> <a id="3681" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="3684" class="Number">1</a> <a id="3686" href="unit-of-measure.html#2133" class="InductiveConstructor Operator">⟧</a>

    <a id="MinimalistCase.tests.dist"></a><a id="3693" href="unit-of-measure.html#3693" class="Function">dist</a> <a id="3698" class="Symbol">:</a> <a id="3700" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3708" href="unit-of-measure.html#3186" class="Function">ud</a>
    <a id="3715" href="unit-of-measure.html#3693" class="Function">dist</a> <a id="3720" class="Symbol">=</a> <a id="3722" href="unit-of-measure.html#3643" class="Function Operator">⦅</a> <a id="3724" class="Number">6</a> <a id="3726" href="unit-of-measure.html#3643" class="Function Operator">⦆</a>

    <a id="MinimalistCase.tests.speed'"></a><a id="3733" href="unit-of-measure.html#3733" class="Function">speed'</a> <a id="3740" class="Symbol">:</a> <a id="3742" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3750" href="unit-of-measure.html#3218" class="Function">uv</a>
    <a id="3757" href="unit-of-measure.html#3733" class="Function">speed'</a> <a id="3764" class="Symbol">=</a> <a id="3766" href="unit-of-measure.html#3643" class="Function Operator">⦅</a> <a id="3768" class="Number">3</a> <a id="3770" href="unit-of-measure.html#3643" class="Function Operator">⦆</a>

    <a id="MinimalistCase.tests.time"></a><a id="3777" href="unit-of-measure.html#3777" class="Function">time</a> <a id="3782" class="Symbol">:</a> <a id="3784" href="unit-of-measure.html#2069" class="Record">Measure</a> <a id="3792" href="unit-of-measure.html#3202" class="Function">ut</a>
    <a id="3799" href="unit-of-measure.html#3777" class="Function">time</a> <a id="3804" class="Symbol">=</a> <a id="3806" href="unit-of-measure.html#3643" class="Function Operator">⦅</a> <a id="3808" class="Number">2</a> <a id="3810" href="unit-of-measure.html#3643" class="Function Operator">⦆</a>

    <a id="3817" href="unit-of-measure.html#3817" class="Function">_</a> <a id="3819" class="Symbol">:</a> <a id="3821" href="unit-of-measure.html#3733" class="Function">speed'</a> <a id="3828" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3830" href="unit-of-measure.html#3386" class="Function">speed</a> <a id="3836" href="unit-of-measure.html#3693" class="Function">dist</a> <a id="3841" href="unit-of-measure.html#3777" class="Function">time</a> <a id="3846" class="Symbol">⦃</a> <a id="3848" class="Symbol">_</a> <a id="3850" class="Symbol">⦄</a>
    <a id="3856" class="Symbol">_</a> <a id="3858" class="Symbol">=</a> <a id="3860" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="3870" href="unit-of-measure.html#3870" class="Function">_</a> <a id="3872" class="Symbol">:</a> <a id="3874" href="unit-of-measure.html#3693" class="Function">dist</a> <a id="3879" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3881" href="unit-of-measure.html#3246" class="Function">distance</a> <a id="3890" href="unit-of-measure.html#3733" class="Function">speed'</a> <a id="3897" href="unit-of-measure.html#3777" class="Function">time</a>
    <a id="3906" class="Symbol">_</a> <a id="3908" class="Symbol">=</a> <a id="3910" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h1 id="dimensional-in-data-type">Dimensional in Data Type</h1>
<p>In this case, dimensional is in the data type.</p>
<pre class="Agda"><a id="4000" class="Keyword">module</a> <a id="DimensionalInData"></a><a id="4007" href="unit-of-measure.html#4007" class="Module">DimensionalInData</a> <a id="4025" class="Keyword">where</a>

  <a id="4034" class="Keyword">data</a> <a id="DimensionalInData.Dimensional"></a><a id="4039" href="unit-of-measure.html#4039" class="Datatype">Dimensional</a> <a id="4051" class="Symbol">:</a> <a id="4053" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4057" class="Keyword">where</a>
    <a id="DimensionalInData.Dimensional.m"></a><a id="4067" href="unit-of-measure.html#4067" class="InductiveConstructor">m</a> <a id="DimensionalInData.Dimensional.s"></a><a id="4069" href="unit-of-measure.html#4069" class="InductiveConstructor">s</a> <a id="4071" class="Symbol">:</a> <a id="4073" href="unit-of-measure.html#4039" class="Datatype">Dimensional</a>
</pre>
<p>Each dimensional has its power, that is an integer number.
For example, the area dimensional is <code>m^2</code> and the meter power is 2.</p>
<pre class="Agda">  <a id="DimensionalInData.DimensionalPower"></a><a id="4225" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a> <a id="4242" class="Symbol">=</a> <a id="4244" href="unit-of-measure.html#4039" class="Datatype">Dimensional</a> <a id="4256" class="Symbol">→</a> <a id="4258" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>

  <a id="DimensionalInData.m^_"></a><a id="4263" href="unit-of-measure.html#4263" class="Function Operator">m^_</a> <a id="4267" class="Symbol">:</a> <a id="4269" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="4271" class="Symbol">→</a> <a id="4273" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a>
  <a id="4292" class="Symbol">(</a><a id="4293" href="unit-of-measure.html#4263" class="Function Operator">m^</a> <a id="4296" href="unit-of-measure.html#4296" class="Bound">z</a><a id="4297" class="Symbol">)</a> <a id="4299" href="unit-of-measure.html#4067" class="InductiveConstructor">m</a> <a id="4301" class="Symbol">=</a> <a id="4303" href="unit-of-measure.html#4296" class="Bound">z</a>
  <a id="4307" class="Symbol">(</a><a id="4308" href="unit-of-measure.html#4263" class="Function Operator">m^</a> <a id="4311" href="unit-of-measure.html#4311" class="Bound">z</a><a id="4312" class="Symbol">)</a> <a id="4314" href="unit-of-measure.html#4069" class="InductiveConstructor">s</a> <a id="4316" class="Symbol">=</a> <a id="4318" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4320" class="Number">0</a>

  <a id="DimensionalInData.s^_"></a><a id="4325" href="unit-of-measure.html#4325" class="Function Operator">s^_</a> <a id="4329" class="Symbol">:</a> <a id="4331" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="4333" class="Symbol">→</a> <a id="4335" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a>
  <a id="4354" class="Symbol">(</a><a id="4355" href="unit-of-measure.html#4325" class="Function Operator">s^</a> <a id="4358" href="unit-of-measure.html#4358" class="Bound">z</a><a id="4359" class="Symbol">)</a> <a id="4361" href="unit-of-measure.html#4067" class="InductiveConstructor">m</a> <a id="4363" class="Symbol">=</a> <a id="4365" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4367" class="Number">0</a>
  <a id="4371" class="Symbol">(</a><a id="4372" href="unit-of-measure.html#4325" class="Function Operator">s^</a> <a id="4375" href="unit-of-measure.html#4375" class="Bound">z</a><a id="4376" class="Symbol">)</a> <a id="4378" href="unit-of-measure.html#4069" class="InductiveConstructor">s</a> <a id="4380" class="Symbol">=</a> <a id="4382" href="unit-of-measure.html#4375" class="Bound">z</a>
</pre>
<h2 id="measure-type-1">Measure Type</h2>
<p>The measure has its dimensional in its type like in the last code.</p>
<pre class="Agda">  <a id="4480" class="Keyword">private</a>
    <a id="4492" class="Keyword">variable</a>
      <a id="4507" href="unit-of-measure.html#4507" class="Generalizable">d</a> <a id="4509" href="unit-of-measure.html#4509" class="Generalizable">d₁</a> <a id="4512" href="unit-of-measure.html#4512" class="Generalizable">d₂</a> <a id="4515" class="Symbol">:</a> <a id="4517" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a>

  <a id="4537" class="Keyword">record</a> <a id="DimensionalInData.Measure"></a><a id="4544" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="4552" class="Symbol">(</a><a id="4553" href="unit-of-measure.html#4553" class="Bound">_</a> <a id="4555" class="Symbol">:</a> <a id="4557" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a><a id="4573" class="Symbol">)</a> <a id="4575" class="Symbol">:</a> <a id="4577" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4581" class="Keyword">where</a>
    <a id="4591" class="Keyword">constructor</a> <a id="DimensionalInData.⟦_⟧"></a><a id="4603" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦_⟧</a>
    <a id="4611" class="Keyword">field</a>
      <a id="DimensionalInData.Measure.measure"></a><a id="4623" href="unit-of-measure.html#4623" class="Field">measure</a> <a id="4631" class="Symbol">:</a> <a id="4633" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="DimensionalInData.Measure.NonZero"></a><a id="4639" href="unit-of-measure.html#4639" class="Function">NonZero</a> <a id="4647" class="Symbol">:</a> <a id="4649" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="4657" href="unit-of-measure.html#4639" class="Function">NonZero</a> <a id="4665" class="Symbol">=</a> <a id="4667" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="4677" href="unit-of-measure.html#4623" class="Field">measure</a>

  <a id="4688" class="Keyword">open</a> <a id="4693" href="unit-of-measure.html#4544" class="Module">Measure</a>
</pre>
<h3 id="operations-1">Operations</h3>
<p>The multiplication of two measures is a function that returns the sum of two-dimension.
And the division is the subtraction.</p>
<pre class="Agda">  <a id="DimensionalInData._*u_"></a><a id="4854" href="unit-of-measure.html#4854" class="Function Operator">_*u_</a> <a id="4859" class="Symbol">:</a> <a id="4861" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="4865" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a>
  <a id="4884" class="Symbol">(</a><a id="4885" href="unit-of-measure.html#4885" class="Bound">f</a> <a id="4887" href="unit-of-measure.html#4854" class="Function Operator">*u</a> <a id="4890" href="unit-of-measure.html#4890" class="Bound">g</a><a id="4891" class="Symbol">)</a> <a id="4893" href="unit-of-measure.html#4893" class="Bound">x</a> <a id="4895" class="Symbol">=</a> <a id="4897" href="unit-of-measure.html#4885" class="Bound">f</a> <a id="4899" href="unit-of-measure.html#4893" class="Bound">x</a> <a id="4901" href="unit-of-measure.html#1077" class="Function Operator">+z</a> <a id="4904" href="unit-of-measure.html#4890" class="Bound">g</a> <a id="4906" href="unit-of-measure.html#4893" class="Bound">x</a>

  <a id="DimensionalInData._/u_"></a><a id="4911" href="unit-of-measure.html#4911" class="Function Operator">_/u_</a> <a id="4916" class="Symbol">:</a> <a id="4918" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="4922" href="unit-of-measure.html#4225" class="Function">DimensionalPower</a>
  <a id="4941" class="Symbol">(</a><a id="4942" href="unit-of-measure.html#4942" class="Bound">f</a> <a id="4944" href="unit-of-measure.html#4911" class="Function Operator">/u</a> <a id="4947" href="unit-of-measure.html#4947" class="Bound">g</a><a id="4948" class="Symbol">)</a> <a id="4950" href="unit-of-measure.html#4950" class="Bound">x</a> <a id="4952" class="Symbol">=</a> <a id="4954" href="unit-of-measure.html#4942" class="Bound">f</a> <a id="4956" href="unit-of-measure.html#4950" class="Bound">x</a> <a id="4958" href="unit-of-measure.html#1103" class="Function Operator">-z</a> <a id="4961" href="unit-of-measure.html#4947" class="Bound">g</a> <a id="4963" href="unit-of-measure.html#4950" class="Bound">x</a>
</pre>
<p>For multiplication and division of measures:</p>
<pre class="Agda">  <a id="DimensionalInData._*d_"></a><a id="5022" href="unit-of-measure.html#5022" class="Function Operator">_*d_</a> <a id="5027" class="Symbol">:</a> <a id="5029" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5037" href="unit-of-measure.html#4509" class="Generalizable">d₁</a> <a id="5040" class="Symbol">→</a> <a id="5042" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5050" href="unit-of-measure.html#4512" class="Generalizable">d₂</a> <a id="5053" class="Symbol">→</a> <a id="5055" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5063" class="Symbol">(</a><a id="5064" href="unit-of-measure.html#4509" class="Generalizable">d₁</a> <a id="5067" href="unit-of-measure.html#4854" class="Function Operator">*u</a> <a id="5070" href="unit-of-measure.html#4512" class="Generalizable">d₂</a><a id="5072" class="Symbol">)</a>
  <a id="5076" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="5078" href="unit-of-measure.html#5078" class="Bound">x</a> <a id="5080" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a> <a id="5082" href="unit-of-measure.html#5022" class="Function Operator">*d</a> <a id="5085" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="5087" href="unit-of-measure.html#5087" class="Bound">y</a> <a id="5089" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a> <a id="5091" class="Symbol">=</a> <a id="5093" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="5095" href="unit-of-measure.html#5078" class="Bound">x</a> <a id="5097" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="5100" href="unit-of-measure.html#5087" class="Bound">y</a> <a id="5102" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalInData._/d_"></a><a id="5107" href="unit-of-measure.html#5107" class="Function Operator">_/d_</a> <a id="5112" class="Symbol">:</a> <a id="5114" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5122" href="unit-of-measure.html#4509" class="Generalizable">d₁</a> <a id="5125" class="Symbol">→</a> <a id="5127" class="Symbol">(</a><a id="5128" href="unit-of-measure.html#5128" class="Bound">y</a> <a id="5130" class="Symbol">:</a> <a id="5132" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5140" href="unit-of-measure.html#4512" class="Generalizable">d₂</a><a id="5142" class="Symbol">)</a> <a id="5144" class="Symbol">→</a> <a id="5146" class="Symbol">⦃</a> <a id="5148" href="unit-of-measure.html#4639" class="Function">NonZero</a> <a id="5156" href="unit-of-measure.html#5128" class="Bound">y</a> <a id="5158" class="Symbol">⦄</a> <a id="5160" class="Symbol">→</a> <a id="5162" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5170" class="Symbol">(</a><a id="5171" href="unit-of-measure.html#4509" class="Generalizable">d₁</a> <a id="5174" href="unit-of-measure.html#4911" class="Function Operator">/u</a> <a id="5177" href="unit-of-measure.html#4512" class="Generalizable">d₂</a><a id="5179" class="Symbol">)</a>
  <a id="5183" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="5185" href="unit-of-measure.html#5185" class="Bound">x</a> <a id="5187" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a> <a id="5189" href="unit-of-measure.html#5107" class="Function Operator">/d</a> <a id="5192" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="5194" href="unit-of-measure.html#5194" class="Bound">y</a> <a id="5196" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a> <a id="5198" class="Symbol">=</a> <a id="5200" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="5202" href="unit-of-measure.html#5185" class="Bound">x</a> <a id="5204" href="internal-library.html#940" class="Function Operator">÷</a> <a id="5206" href="unit-of-measure.html#5194" class="Bound">y</a> <a id="5208" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a>
</pre>
<h3 id="defining-equations-1">Defining equations</h3>
<p>The dimensional of distance is <code>m</code>, time is <code>s</code>, and velocity is <code>m/s</code>.</p>
<pre class="Agda">  <a id="DimensionalInData.ud"></a><a id="5318" href="unit-of-measure.html#5318" class="Function">ud</a> <a id="5321" class="Symbol">=</a> <a id="5323" href="unit-of-measure.html#4263" class="Function Operator">m^</a> <a id="5326" class="Symbol">(</a><a id="5327" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="5329" class="Number">1</a><a id="5330" class="Symbol">)</a>
  <a id="DimensionalInData.ut"></a><a id="5334" href="unit-of-measure.html#5334" class="Function">ut</a> <a id="5337" class="Symbol">=</a> <a id="5339" href="unit-of-measure.html#4325" class="Function Operator">s^</a> <a id="5342" class="Symbol">(</a><a id="5343" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="5345" class="Number">1</a><a id="5346" class="Symbol">)</a>
  <a id="DimensionalInData.uv"></a><a id="5350" href="unit-of-measure.html#5350" class="Function">uv</a> <a id="5353" class="Symbol">=</a> <a id="5355" href="unit-of-measure.html#5318" class="Function">ud</a> <a id="5358" href="unit-of-measure.html#4911" class="Function Operator">/u</a> <a id="5361" href="unit-of-measure.html#5334" class="Function">ut</a>
</pre>
<p>The distance is <code>speed * time</code>.</p>
<pre class="Agda">  <a id="DimensionalInData.distance"></a><a id="5408" href="unit-of-measure.html#5408" class="Function">distance</a> <a id="5417" class="Symbol">:</a> <a id="5419" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5427" href="unit-of-measure.html#5350" class="Function">uv</a>
           <a id="5441" class="Symbol">→</a> <a id="5443" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5451" href="unit-of-measure.html#5334" class="Function">ut</a>
           <a id="5465" class="Symbol">→</a> <a id="5467" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5475" class="Symbol">(</a><a id="5476" href="unit-of-measure.html#5350" class="Function">uv</a> <a id="5479" href="unit-of-measure.html#4854" class="Function Operator">*u</a> <a id="5482" href="unit-of-measure.html#5334" class="Function">ut</a><a id="5484" class="Symbol">)</a>
  <a id="5488" href="unit-of-measure.html#5408" class="Function">distance</a> <a id="5497" href="unit-of-measure.html#5497" class="Bound">speed</a> <a id="5503" href="unit-of-measure.html#5503" class="Bound">time</a> <a id="5508" class="Symbol">=</a> <a id="5510" href="unit-of-measure.html#5497" class="Bound">speed</a> <a id="5516" href="unit-of-measure.html#5022" class="Function Operator">*d</a> <a id="5519" href="unit-of-measure.html#5503" class="Bound">time</a>
</pre>
<p>It is necessary to postulate Extensionality because the type system is not smart enough
to figure out that two functions are equal.
This would be possible to verify because the domain of the function is finite (it is Bool, which has only two values).</p>
<pre class="Agda">  <a id="5787" class="Keyword">postulate</a>
    <a id="DimensionalInData.ext"></a><a id="5801" href="unit-of-measure.html#5801" class="Postulate">ext</a> <a id="5805" class="Symbol">:</a> <a id="5807" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="5822" href="unit-of-measure.html#1488" class="Generalizable">ℓ</a> <a id="5824" href="unit-of-measure.html#1490" class="Generalizable">ℓ′</a>

  <a id="DimensionalInData.distance'"></a><a id="5830" href="unit-of-measure.html#5830" class="Function">distance'</a> <a id="5840" class="Symbol">:</a> <a id="5842" class="Symbol">(</a><a id="5843" href="unit-of-measure.html#5843" class="Bound">speed</a> <a id="5849" class="Symbol">:</a> <a id="5851" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5859" href="unit-of-measure.html#5350" class="Function">uv</a><a id="5861" class="Symbol">)</a>
              <a id="5877" class="Symbol">(</a><a id="5878" href="unit-of-measure.html#5878" class="Bound">time</a>  <a id="5884" class="Symbol">:</a> <a id="5886" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5894" href="unit-of-measure.html#5334" class="Function">ut</a><a id="5896" class="Symbol">)</a>
                     <a id="5919" class="Symbol">→</a> <a id="5921" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="5929" href="unit-of-measure.html#5318" class="Function">ud</a>
  <a id="5934" href="unit-of-measure.html#5830" class="Function">distance'</a> <a id="5944" href="unit-of-measure.html#5944" class="Bound">speed</a> <a id="5950" href="unit-of-measure.html#5950" class="Bound">time</a> <a id="5955" class="Symbol">=</a> <a id="5957" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="5963" href="unit-of-measure.html#4544" class="Record">Measure</a>
    <a id="5975" class="Symbol">(</a><a id="5976" href="unit-of-measure.html#5801" class="Postulate">ext</a> <a id="5980" class="Symbol">(λ{</a> <a id="5984" href="unit-of-measure.html#4067" class="InductiveConstructor">m</a> <a id="5986" class="Symbol">→</a> <a id="5988" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5993" class="Symbol">;</a> <a id="5995" href="unit-of-measure.html#4069" class="InductiveConstructor">s</a> <a id="5997" class="Symbol">→</a> <a id="5999" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="6003" class="Symbol">}))</a>
    <a id="6011" class="Symbol">(</a><a id="6012" href="unit-of-measure.html#5944" class="Bound">speed</a> <a id="6018" href="unit-of-measure.html#5022" class="Function Operator">*d</a> <a id="6021" href="unit-of-measure.html#5950" class="Bound">time</a><a id="6025" class="Symbol">)</a>
</pre>
<p>Speed is defined as <code>distance/time</code>.</p>
<pre class="Agda">  <a id="DimensionalInData.speed"></a><a id="6076" href="unit-of-measure.html#6076" class="Function">speed</a> <a id="6082" class="Symbol">:</a> <a id="6084" class="Symbol">(</a><a id="6085" href="unit-of-measure.html#6085" class="Bound">distance</a> <a id="6094" class="Symbol">:</a> <a id="6096" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6104" href="unit-of-measure.html#5318" class="Function">ud</a><a id="6106" class="Symbol">)</a>
          <a id="6118" class="Symbol">(</a><a id="6119" href="unit-of-measure.html#6119" class="Bound">time</a>     <a id="6128" class="Symbol">:</a> <a id="6130" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6138" href="unit-of-measure.html#5334" class="Function">ut</a><a id="6140" class="Symbol">)</a> <a id="6142" class="Symbol">⦃</a> <a id="6144" href="unit-of-measure.html#6144" class="Symbol">_</a> <a id="6146" class="Symbol">:</a> <a id="6148" href="unit-of-measure.html#4639" class="Function">NonZero</a> <a id="6156" href="unit-of-measure.html#6119" class="Bound">time</a> <a id="6161" class="Symbol">⦄</a>
                    <a id="6183" class="Symbol">→</a> <a id="6185" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6193" href="unit-of-measure.html#5350" class="Function">uv</a>
  <a id="6198" href="unit-of-measure.html#6076" class="Function">speed</a> <a id="6204" href="unit-of-measure.html#6204" class="Bound">distance</a> <a id="6213" href="unit-of-measure.html#6213" class="Bound">time</a> <a id="6218" class="Symbol">=</a> <a id="6220" href="unit-of-measure.html#6204" class="Bound">distance</a> <a id="6229" href="unit-of-measure.html#5107" class="Function Operator">/d</a> <a id="6232" href="unit-of-measure.html#6213" class="Bound">time</a>
</pre>
<h3 id="examples-1">Examples</h3>
<p>These are some examples of operations:</p>
<pre class="Agda">  <a id="6302" class="Keyword">private</a> <a id="6310" class="Keyword">module</a> <a id="DimensionalInData.tests"></a><a id="6317" href="unit-of-measure.html#6317" class="Module">tests</a> <a id="6323" class="Keyword">where</a>
    <a id="DimensionalInData.tests.⦅_⦆"></a><a id="6333" href="unit-of-measure.html#6333" class="Function Operator">⦅_⦆</a> <a id="6337" class="Symbol">:</a> <a id="6339" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="6341" class="Symbol">→</a> <a id="6343" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6351" href="unit-of-measure.html#4507" class="Generalizable">d</a>
    <a id="6357" href="unit-of-measure.html#6333" class="Function Operator">⦅</a> <a id="6359" href="unit-of-measure.html#6359" class="Bound">n</a> <a id="6361" href="unit-of-measure.html#6333" class="Function Operator">⦆</a> <a id="6363" class="Symbol">=</a> <a id="6365" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟦</a> <a id="6367" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="6369" href="unit-of-measure.html#6359" class="Bound">n</a> <a id="6371" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="6374" class="Number">1</a> <a id="6376" href="unit-of-measure.html#4603" class="InductiveConstructor Operator">⟧</a>

    <a id="DimensionalInData.tests.dist"></a><a id="6383" href="unit-of-measure.html#6383" class="Function">dist</a> <a id="6388" class="Symbol">:</a> <a id="6390" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6398" href="unit-of-measure.html#5318" class="Function">ud</a>
    <a id="6405" href="unit-of-measure.html#6383" class="Function">dist</a> <a id="6410" class="Symbol">=</a> <a id="6412" href="unit-of-measure.html#6333" class="Function Operator">⦅</a> <a id="6414" class="Number">6</a> <a id="6416" href="unit-of-measure.html#6333" class="Function Operator">⦆</a>

    <a id="DimensionalInData.tests.speed'"></a><a id="6423" href="unit-of-measure.html#6423" class="Function">speed'</a> <a id="6430" class="Symbol">:</a> <a id="6432" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6440" href="unit-of-measure.html#5350" class="Function">uv</a>
    <a id="6447" href="unit-of-measure.html#6423" class="Function">speed'</a> <a id="6454" class="Symbol">=</a> <a id="6456" href="unit-of-measure.html#6333" class="Function Operator">⦅</a> <a id="6458" class="Number">3</a> <a id="6460" href="unit-of-measure.html#6333" class="Function Operator">⦆</a>

    <a id="DimensionalInData.tests.time"></a><a id="6467" href="unit-of-measure.html#6467" class="Function">time</a> <a id="6472" class="Symbol">:</a> <a id="6474" href="unit-of-measure.html#4544" class="Record">Measure</a> <a id="6482" href="unit-of-measure.html#5334" class="Function">ut</a>
    <a id="6489" href="unit-of-measure.html#6467" class="Function">time</a> <a id="6494" class="Symbol">=</a> <a id="6496" href="unit-of-measure.html#6333" class="Function Operator">⦅</a> <a id="6498" class="Number">2</a> <a id="6500" href="unit-of-measure.html#6333" class="Function Operator">⦆</a>

    <a id="6507" href="unit-of-measure.html#6507" class="Function">_</a> <a id="6509" class="Symbol">:</a> <a id="6511" href="unit-of-measure.html#6423" class="Function">speed'</a> <a id="6518" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6520" href="unit-of-measure.html#6076" class="Function">speed</a> <a id="6526" href="unit-of-measure.html#6383" class="Function">dist</a> <a id="6531" href="unit-of-measure.html#6467" class="Function">time</a> <a id="6536" class="Symbol">⦃</a> <a id="6538" class="Symbol">_</a> <a id="6540" class="Symbol">⦄</a>
    <a id="6546" class="Symbol">_</a> <a id="6548" class="Symbol">=</a> <a id="6550" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h1 id="dimensional-unit">Dimensional Unit</h1>
<p>In this code, Dimensional and Unit are distinct.
Dimensional is something that can be measured
and Unit is the unit of measure.
For example, time and distance are two dimensions,
and meter is a unit of measure of distance.</p>
<pre class="Agda"><a id="6808" class="Keyword">module</a> <a id="DimensionalUnit"></a><a id="6815" href="unit-of-measure.html#6815" class="Module">DimensionalUnit</a> <a id="6831" class="Keyword">where</a>

  <a id="6840" class="Keyword">data</a> <a id="DimensionalUnit.Dimensional"></a><a id="6845" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a> <a id="6857" class="Symbol">:</a> <a id="6859" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6863" class="Keyword">where</a>
    <a id="DimensionalUnit.Dimensional.distance"></a><a id="6873" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="DimensionalUnit.Dimensional.time"></a><a id="6882" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a> <a id="6887" class="Symbol">:</a> <a id="6889" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a>

  <a id="6904" class="Keyword">data</a> <a id="DimensionalUnit.Unit"></a><a id="6909" href="unit-of-measure.html#6909" class="Datatype">Unit</a> <a id="6914" class="Symbol">:</a> <a id="6916" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6920" class="Keyword">where</a>
    <a id="DimensionalUnit.Unit.m"></a><a id="6930" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a> <a id="DimensionalUnit.Unit.km"></a><a id="6932" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="DimensionalUnit.Unit.s"></a><a id="6935" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a> <a id="DimensionalUnit.Unit.ms"></a><a id="6937" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="6940" class="Symbol">:</a> <a id="6942" href="unit-of-measure.html#6909" class="Datatype">Unit</a>

  <a id="DimensionalUnit._≟d_"></a><a id="6950" href="unit-of-measure.html#6950" class="Function Operator">_≟d_</a> <a id="6955" class="Symbol">:</a> <a id="6957" class="Symbol">(</a><a id="6958" href="unit-of-measure.html#6958" class="Bound">x</a> <a id="6960" href="unit-of-measure.html#6960" class="Bound">y</a> <a id="6962" class="Symbol">:</a> <a id="6964" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a><a id="6975" class="Symbol">)</a> <a id="6977" class="Symbol">→</a> <a id="6979" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="6983" class="Symbol">(</a><a id="6984" href="unit-of-measure.html#6958" class="Bound">x</a> <a id="6986" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6988" href="unit-of-measure.html#6960" class="Bound">y</a><a id="6989" class="Symbol">)</a>
  <a id="6993" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="7002" href="unit-of-measure.html#6950" class="Function Operator">≟d</a> <a id="7005" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="7014" class="Symbol">=</a> <a id="7016" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="7020" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="7027" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="7036" href="unit-of-measure.html#6950" class="Function Operator">≟d</a> <a id="7039" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>     <a id="7048" class="Symbol">=</a> <a id="7050" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="7053" class="Symbol">(λ</a> <a id="7056" class="Symbol">())</a>
  <a id="7062" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>     <a id="7071" href="unit-of-measure.html#6950" class="Function Operator">≟d</a> <a id="7074" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="7083" class="Symbol">=</a> <a id="7085" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="7088" class="Symbol">(λ</a> <a id="7091" class="Symbol">())</a>
  <a id="7097" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>     <a id="7106" href="unit-of-measure.html#6950" class="Function Operator">≟d</a> <a id="7109" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>     <a id="7118" class="Symbol">=</a> <a id="7120" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="7124" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="DimensionalUnit.AllUnit"></a><a id="7132" href="unit-of-measure.html#7132" class="Function">AllUnit</a> <a id="7140" class="Symbol">:</a> <a id="7142" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7147" href="unit-of-measure.html#6909" class="Datatype">Unit</a>
  <a id="7154" href="unit-of-measure.html#7132" class="Function">AllUnit</a> <a id="7162" class="Symbol">=</a> <a id="7164" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a> <a id="7166" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7168" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="7171" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7173" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a> <a id="7175" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7177" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="7180" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7182" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="DimensionalUnit.AllDimensional"></a><a id="7188" href="unit-of-measure.html#7188" class="Function">AllDimensional</a> <a id="7203" class="Symbol">:</a> <a id="7205" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7210" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a>
  <a id="7224" href="unit-of-measure.html#7188" class="Function">AllDimensional</a> <a id="7239" class="Symbol">=</a> <a id="7241" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="7250" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7252" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a> <a id="7257" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7259" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
</pre>
<h2 id="conversion-between-unit-and-dimensional">Conversion between Unit and Dimensional</h2>
<p>Each unit has a dimensional associated with that.
The dimensional of meter and kilometer is distance
and the dimensional of seconds and milliseconds is time.</p>
<pre class="Agda">  <a id="DimensionalUnit.UnitDimensional"></a><a id="7476" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a> <a id="7492" class="Symbol">:</a> <a id="7494" href="unit-of-measure.html#6909" class="Datatype">Unit</a> <a id="7499" class="Symbol">→</a> <a id="7501" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a>
  <a id="7515" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a> <a id="7531" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="7534" class="Symbol">=</a> <a id="7536" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a>
  <a id="7547" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a> <a id="7563" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="7566" class="Symbol">=</a> <a id="7568" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a>
  <a id="7579" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a> <a id="7595" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="7598" class="Symbol">=</a> <a id="7600" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>
  <a id="7607" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a> <a id="7623" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="7626" class="Symbol">=</a> <a id="7628" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>

  <a id="DimensionalUnit.DimensionalUnit"></a><a id="7636" href="unit-of-measure.html#7636" class="Function">DimensionalUnit</a> <a id="7652" class="Symbol">:</a> <a id="7654" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a> <a id="7666" class="Symbol">→</a> <a id="7668" href="unit-of-measure.html#6909" class="Datatype">Unit</a>
  <a id="7675" href="unit-of-measure.html#7636" class="Function">DimensionalUnit</a> <a id="7691" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="7700" class="Symbol">=</a> <a id="7702" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>
  <a id="7706" href="unit-of-measure.html#7636" class="Function">DimensionalUnit</a> <a id="7722" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a>     <a id="7731" class="Symbol">=</a> <a id="7733" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>

  <a id="DimensionalUnit.StandardUnit?"></a><a id="7738" href="unit-of-measure.html#7738" class="Function">StandardUnit?</a> <a id="7752" class="Symbol">:</a> <a id="7754" href="unit-of-measure.html#6909" class="Datatype">Unit</a> <a id="7759" class="Symbol">→</a> <a id="7761" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="7768" href="unit-of-measure.html#7738" class="Function">StandardUnit?</a> <a id="7782" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="7785" class="Symbol">=</a> <a id="7787" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
  <a id="7794" href="unit-of-measure.html#7738" class="Function">StandardUnit?</a> <a id="7808" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="7811" class="Symbol">=</a> <a id="7813" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
  <a id="7821" href="unit-of-measure.html#7738" class="Function">StandardUnit?</a> <a id="7835" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="7838" class="Symbol">=</a> <a id="7840" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
  <a id="7847" href="unit-of-measure.html#7738" class="Function">StandardUnit?</a> <a id="7861" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="7864" class="Symbol">=</a> <a id="7866" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
</pre>
<h2 id="unit-proportion">Unit Proportion</h2>
<p>Each unit has a value proportional to the standard measure.
The standard measure of distance is in meters and time in seconds.
So their values are one.
But kilometer is 1000 times meters so its value is 1000,
and milliseconds is 1/1000 of a second, so its value is 1/1000.</p>
<pre class="Agda">  <a id="DimensionalUnit.UnitProportion"></a><a id="8177" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="8192" class="Symbol">:</a> <a id="8194" href="unit-of-measure.html#6909" class="Datatype">Unit</a> <a id="8199" class="Symbol">→</a> <a id="8201" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
  <a id="8205" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="8220" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="8223" class="Symbol">=</a> <a id="8225" href="Data.Rational.Base.html#4586" class="Function">1ℚ</a>
  <a id="8230" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="8245" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="8248" class="Symbol">=</a> <a id="8250" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="8252" class="Number">1000</a> <a id="8257" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="8260" class="Number">1</a>
  <a id="8264" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="8279" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="8282" class="Symbol">=</a> <a id="8284" href="Data.Rational.Base.html#4586" class="Function">1ℚ</a>
  <a id="8289" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="8304" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="8307" class="Symbol">=</a> <a id="8309" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="8311" class="Number">1</a> <a id="8313" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="8316" class="Number">1000</a>
</pre>
<h2 id="unit-and-dimensional-power">Unit and Dimensional Power</h2>
<p>Unit Power is the power of each unit.
For example: <code>m^2 * km^(- 1) * s^5 * ms^0</code>.</p>
<pre class="Agda">  <a id="DimensionalUnit.UnitPower"></a><a id="8446" href="unit-of-measure.html#8446" class="Function">UnitPower</a> <a id="8456" class="Symbol">=</a> <a id="8458" href="unit-of-measure.html#6909" class="Datatype">Unit</a> <a id="8463" class="Symbol">→</a> <a id="8465" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
</pre>
<p>Dimensional power is the same thing as Unit power, but for dimensional.
Dimensional Value will return the value measured in the standard measure.</p>
<pre class="Agda">  <a id="DimensionalUnit.DimensionalPower"></a><a id="8625" href="unit-of-measure.html#8625" class="Function">DimensionalPower</a> <a id="8642" class="Symbol">=</a> <a id="8644" href="unit-of-measure.html#6845" class="Datatype">Dimensional</a> <a id="8656" class="Symbol">→</a> <a id="8658" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>

  <a id="8663" class="Keyword">private</a>
    <a id="8675" class="Keyword">variable</a>
      <a id="8690" href="unit-of-measure.html#8690" class="Generalizable">up</a> <a id="8693" href="unit-of-measure.html#8693" class="Generalizable">up₁</a> <a id="8697" href="unit-of-measure.html#8697" class="Generalizable">up₂</a> <a id="8701" class="Symbol">:</a> <a id="8703" href="unit-of-measure.html#8446" class="Function">UnitPower</a>

  <a id="DimensionalUnit.UnitPower→DimensionalPower"></a><a id="8716" href="unit-of-measure.html#8716" class="Function">UnitPower→DimensionalPower</a> <a id="8743" class="Symbol">:</a> <a id="8745" href="unit-of-measure.html#8446" class="Function">UnitPower</a> <a id="8755" class="Symbol">→</a> <a id="8757" href="unit-of-measure.html#8625" class="Function">DimensionalPower</a>
  <a id="8776" href="unit-of-measure.html#8716" class="Function">UnitPower→DimensionalPower</a> <a id="8803" href="unit-of-measure.html#8803" class="Bound">up</a> <a id="8806" href="unit-of-measure.html#8806" class="Bound">dim</a> <a id="8810" class="Symbol">=</a>
    <a id="8816" href="internal-library.html#1004" class="Function">sumℤ</a> <a id="8821" class="Symbol">(</a><a id="8822" href="unit-of-measure.html#761" class="Function">mapl</a> <a id="8827" href="unit-of-measure.html#8803" class="Bound">up</a> <a id="8830" class="Symbol">(</a><a id="8831" href="Data.List.Base.html#8092" class="Function">filter</a> <a id="8838" class="Symbol">((</a><a id="8840" href="unit-of-measure.html#8806" class="Bound">dim</a> <a id="8844" href="unit-of-measure.html#6950" class="Function Operator">≟d_</a><a id="8847" class="Symbol">)</a> <a id="8849" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="8851" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a><a id="8866" class="Symbol">)</a> <a id="8868" href="unit-of-measure.html#7132" class="Function">AllUnit</a><a id="8875" class="Symbol">))</a>

  <a id="DimensionalUnit.DimensionalPower→UnitPower"></a><a id="8881" href="unit-of-measure.html#8881" class="Function">DimensionalPower→UnitPower</a> <a id="8908" class="Symbol">:</a> <a id="8910" href="unit-of-measure.html#8625" class="Function">DimensionalPower</a> <a id="8927" class="Symbol">→</a> <a id="8929" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="8941" href="unit-of-measure.html#8881" class="Function">DimensionalPower→UnitPower</a> <a id="8968" href="unit-of-measure.html#8968" class="Bound">dp</a> <a id="8971" href="unit-of-measure.html#8971" class="Bound">unit</a> <a id="8976" class="Symbol">=</a>
    <a id="8982" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="8985" href="unit-of-measure.html#7738" class="Function">StandardUnit?</a> <a id="8999" href="unit-of-measure.html#8971" class="Bound">unit</a> <a id="9004" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>
    <a id="9013" href="internal-library.html#1004" class="Function">sumℤ</a> <a id="9018" class="Symbol">(</a><a id="9019" href="unit-of-measure.html#761" class="Function">mapl</a> <a id="9024" href="unit-of-measure.html#8968" class="Bound">dp</a> <a id="9027" class="Symbol">(</a><a id="9028" href="Data.List.Base.html#8092" class="Function">filter</a> <a id="9035" class="Symbol">(</a><a id="9036" href="unit-of-measure.html#6950" class="Function Operator">_≟d</a> <a id="9040" href="unit-of-measure.html#7476" class="Function">UnitDimensional</a> <a id="9056" href="unit-of-measure.html#8971" class="Bound">unit</a><a id="9060" class="Symbol">)</a> <a id="9062" href="unit-of-measure.html#7188" class="Function">AllDimensional</a><a id="9076" class="Symbol">))</a>
    <a id="9083" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="9088" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="9090" class="Number">0</a>
</pre>
<h2 id="normalization-and-value-associated-with-unit-power">Normalization and Value associated with Unit Power</h2>
<p>For normalization, it transforms Unit Power into Dimensional Power and after to Unit Power.
In this way, it eliminates units that are not standard such as kilometers.</p>
<pre class="Agda">  <a id="DimensionalUnit.normalizeUnit"></a><a id="9326" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="9340" class="Symbol">:</a> <a id="9342" href="unit-of-measure.html#8446" class="Function">UnitPower</a> <a id="9352" class="Symbol">→</a> <a id="9354" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="9366" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="9380" class="Symbol">=</a> <a id="9382" href="unit-of-measure.html#8881" class="Function">DimensionalPower→UnitPower</a> <a id="9409" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="9411" href="unit-of-measure.html#8716" class="Function">UnitPower→DimensionalPower</a>

  <a id="DimensionalUnit.NonZeroUnit"></a><a id="9441" href="unit-of-measure.html#9441" class="Function">NonZeroUnit</a> <a id="9453" class="Symbol">:</a> <a id="9455" class="Symbol">∀</a> <a id="9457" href="unit-of-measure.html#9457" class="Bound">x</a> <a id="9459" class="Symbol">→</a> <a id="9461" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="9471" class="Symbol">(</a><a id="9472" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="9487" href="unit-of-measure.html#9457" class="Bound">x</a><a id="9488" class="Symbol">)</a>
  <a id="9492" href="unit-of-measure.html#9441" class="Function">NonZeroUnit</a> <a id="9504" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="9507" class="Symbol">=</a> <a id="9509" class="Symbol">_</a>
  <a id="9513" href="unit-of-measure.html#9441" class="Function">NonZeroUnit</a> <a id="9525" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="9528" class="Symbol">=</a> <a id="9530" class="Symbol">_</a>
  <a id="9534" href="unit-of-measure.html#9441" class="Function">NonZeroUnit</a> <a id="9546" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="9549" class="Symbol">=</a> <a id="9551" class="Symbol">_</a>
  <a id="9555" href="unit-of-measure.html#9441" class="Function">NonZeroUnit</a> <a id="9567" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="9570" class="Symbol">=</a> <a id="9572" class="Symbol">_</a>
</pre>
<p>In this function, it gets the product of values that are not standard with their power.
For example, <code>km^2</code> will return <code>1.000.000</code> (that is <code>1.000^2</code>).</p>
<pre class="Agda">  <a id="DimensionalUnit.UnitPower→DimensionalValue"></a><a id="9740" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="9767" class="Symbol">:</a> <a id="9769" href="unit-of-measure.html#8446" class="Function">UnitPower</a> <a id="9779" class="Symbol">→</a> <a id="9781" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
  <a id="9785" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="9812" href="unit-of-measure.html#9812" class="Bound">up</a> <a id="9815" class="Symbol">=</a> <a id="9817" href="internal-library.html#1136" class="Function">prodℚ</a>
    <a id="9827" class="Symbol">(</a><a id="9828" href="unit-of-measure.html#761" class="Function">mapl</a> <a id="9833" class="Symbol">(λ</a> <a id="9836" href="unit-of-measure.html#9836" class="Bound">x</a> <a id="9838" class="Symbol">→</a> <a id="9840" href="internal-library.html#1383" class="Function Operator">_**_</a> <a id="9845" class="Symbol">(</a><a id="9846" href="unit-of-measure.html#8177" class="Function">UnitProportion</a> <a id="9861" href="unit-of-measure.html#9836" class="Bound">x</a><a id="9862" class="Symbol">)</a> <a id="9864" class="Symbol">(</a><a id="9865" href="unit-of-measure.html#9812" class="Bound">up</a> <a id="9868" href="unit-of-measure.html#9836" class="Bound">x</a><a id="9869" class="Symbol">)</a> <a id="9871" class="Symbol">⦃</a> <a id="9873" href="unit-of-measure.html#9441" class="Function">NonZeroUnit</a> <a id="9885" href="unit-of-measure.html#9836" class="Bound">x</a> <a id="9887" class="Symbol">⦄)</a> <a id="9890" href="unit-of-measure.html#7132" class="Function">AllUnit</a><a id="9897" class="Symbol">)</a>
</pre>
<h3 id="examples-2">Examples</h3>
<p>The Unit Power <code>m^1 * km^(-1) * s^0 * ms^(-2)</code>
will be transformed into</p>
<p><code>m^2 * (1.000 * m)^(-1) * s^0 * (1/1000 * s)^(-2)</code>
≡ <code>1.000 * m^1 * s^(-2)</code>.</p>
<pre class="Agda">  <a id="10075" class="Keyword">private</a>
    <a id="DimensionalUnit.up-ex"></a><a id="10087" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10093" class="Symbol">:</a> <a id="10095" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
    <a id="10109" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10115" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a> <a id="10117" class="Symbol">=</a> <a id="10119" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10121" class="Number">2</a>
    <a id="10127" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10133" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="10136" class="Symbol">=</a> <a id="10138" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="10140" class="Symbol">(</a><a id="10141" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10143" class="Number">1</a><a id="10144" class="Symbol">)</a>
    <a id="10150" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10156" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a> <a id="10158" class="Symbol">=</a> <a id="10160" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10162" class="Number">0</a>
    <a id="10168" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10174" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="10177" class="Symbol">=</a> <a id="10179" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="10181" class="Symbol">(</a><a id="10182" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10184" class="Number">2</a><a id="10185" class="Symbol">)</a>

    <a id="10192" href="unit-of-measure.html#10192" class="Function">_</a> <a id="10194" class="Symbol">:</a> <a id="10196" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="10223" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10229" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10231" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10233" class="Number">1000</a> <a id="10238" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="10241" class="Number">1</a>
    <a id="10247" class="Symbol">_</a> <a id="10249" class="Symbol">=</a> <a id="10251" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="10261" href="unit-of-measure.html#10261" class="Function">_</a> <a id="10263" class="Symbol">:</a> <a id="10265" href="unit-of-measure.html#8716" class="Function">UnitPower→DimensionalPower</a> <a id="10292" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10298" href="unit-of-measure.html#6873" class="InductiveConstructor">distance</a> <a id="10307" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10309" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10311" class="Number">1</a>
    <a id="10317" class="Symbol">_</a> <a id="10319" class="Symbol">=</a> <a id="10321" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="10331" href="unit-of-measure.html#10331" class="Function">_</a> <a id="10333" class="Symbol">:</a> <a id="10335" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="10349" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10355" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a> <a id="10357" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10359" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10361" class="Number">1</a>
    <a id="10367" class="Symbol">_</a> <a id="10369" class="Symbol">=</a> <a id="10371" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="10381" href="unit-of-measure.html#10381" class="Function">_</a> <a id="10383" class="Symbol">:</a> <a id="10385" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="10399" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10405" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="10408" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10410" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10412" class="Number">0</a>
    <a id="10418" class="Symbol">_</a> <a id="10420" class="Symbol">=</a> <a id="10422" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="10432" href="unit-of-measure.html#10432" class="Function">_</a> <a id="10434" class="Symbol">:</a> <a id="10436" href="unit-of-measure.html#8716" class="Function">UnitPower→DimensionalPower</a> <a id="10463" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10469" href="unit-of-measure.html#6882" class="InductiveConstructor">time</a> <a id="10474" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10476" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="10478" class="Symbol">(</a><a id="10479" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10481" class="Number">2</a><a id="10482" class="Symbol">)</a>
    <a id="10488" class="Symbol">_</a> <a id="10490" class="Symbol">=</a> <a id="10492" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="10502" href="unit-of-measure.html#10502" class="Function">_</a> <a id="10504" class="Symbol">:</a> <a id="10506" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="10520" href="unit-of-measure.html#10087" class="Function">up-ex</a> <a id="10526" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a> <a id="10528" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10530" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="10532" class="Symbol">(</a><a id="10533" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="10535" class="Number">2</a><a id="10536" class="Symbol">)</a>
    <a id="10542" class="Symbol">_</a> <a id="10544" class="Symbol">=</a> <a id="10546" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h2 id="unit-power-operations">Unit Power operations</h2>
<p>The multiplication and division of units are the same as the last code.</p>
<pre class="Agda">  <a id="DimensionalUnit._*u_"></a><a id="10661" href="unit-of-measure.html#10661" class="Function Operator">_*u_</a> <a id="10666" class="Symbol">:</a> <a id="10668" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="10672" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="10684" class="Symbol">(</a><a id="10685" href="unit-of-measure.html#10685" class="Bound">f</a> <a id="10687" href="unit-of-measure.html#10661" class="Function Operator">*u</a> <a id="10690" href="unit-of-measure.html#10690" class="Bound">g</a><a id="10691" class="Symbol">)</a> <a id="10693" href="unit-of-measure.html#10693" class="Bound">x</a> <a id="10695" class="Symbol">=</a> <a id="10697" href="unit-of-measure.html#10685" class="Bound">f</a> <a id="10699" href="unit-of-measure.html#10693" class="Bound">x</a> <a id="10701" href="unit-of-measure.html#1077" class="Function Operator">+z</a> <a id="10704" href="unit-of-measure.html#10690" class="Bound">g</a> <a id="10706" href="unit-of-measure.html#10693" class="Bound">x</a>

  <a id="DimensionalUnit._/u_"></a><a id="10711" href="unit-of-measure.html#10711" class="Function Operator">_/u_</a> <a id="10716" class="Symbol">:</a> <a id="10718" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="10722" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="10734" class="Symbol">(</a><a id="10735" href="unit-of-measure.html#10735" class="Bound">f</a> <a id="10737" href="unit-of-measure.html#10711" class="Function Operator">/u</a> <a id="10740" href="unit-of-measure.html#10740" class="Bound">g</a><a id="10741" class="Symbol">)</a> <a id="10743" href="unit-of-measure.html#10743" class="Bound">x</a> <a id="10745" class="Symbol">=</a> <a id="10747" href="unit-of-measure.html#10735" class="Bound">f</a> <a id="10749" href="unit-of-measure.html#10743" class="Bound">x</a> <a id="10751" href="unit-of-measure.html#1103" class="Function Operator">-z</a> <a id="10754" href="unit-of-measure.html#10740" class="Bound">g</a> <a id="10756" href="unit-of-measure.html#10743" class="Bound">x</a>
</pre>
<p>The definition of measure also looks the same as the last code.</p>
<pre class="Agda">  <a id="10834" class="Keyword">record</a> <a id="DimensionalUnit.Measure"></a><a id="10841" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="10849" class="Symbol">(</a><a id="10850" href="unit-of-measure.html#10850" class="Bound">_</a> <a id="10852" class="Symbol">:</a> <a id="10854" href="unit-of-measure.html#8446" class="Function">UnitPower</a><a id="10863" class="Symbol">)</a> <a id="10865" class="Symbol">:</a> <a id="10867" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="10871" class="Keyword">where</a>
    <a id="10881" class="Keyword">constructor</a> <a id="DimensionalUnit.⟦_⟧"></a><a id="10893" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦_⟧</a>
    <a id="10901" class="Keyword">field</a>
      <a id="DimensionalUnit.Measure.measure"></a><a id="10913" href="unit-of-measure.html#10913" class="Field">measure</a> <a id="10921" class="Symbol">:</a> <a id="10923" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="DimensionalUnit.Measure.NonZero"></a><a id="10929" href="unit-of-measure.html#10929" class="Function">NonZero</a> <a id="10937" class="Symbol">:</a> <a id="10939" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="10947" href="unit-of-measure.html#10929" class="Function">NonZero</a> <a id="10955" class="Symbol">=</a> <a id="10957" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="10967" href="unit-of-measure.html#10913" class="Field">measure</a>

  <a id="10978" class="Keyword">open</a> <a id="10983" href="unit-of-measure.html#10841" class="Module">Measure</a>
</pre>
<h2 id="measure-operations">Measure operations</h2>
<p>The difference now between this and the last code is that now the unit is normalized.
So units that are not standard such as kilometers will be removed.</p>
<pre class="Agda">  <a id="DimensionalUnit._*m_"></a><a id="11179" href="unit-of-measure.html#11179" class="Function Operator">_*m_</a> <a id="11184" class="Symbol">:</a> <a id="11186" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11194" href="unit-of-measure.html#8693" class="Generalizable">up₁</a> <a id="11198" class="Symbol">→</a> <a id="11200" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11208" href="unit-of-measure.html#8697" class="Generalizable">up₂</a> <a id="11212" class="Symbol">→</a> <a id="11214" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11222" class="Symbol">(</a><a id="11223" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="11237" class="Symbol">(</a><a id="11238" href="unit-of-measure.html#8693" class="Generalizable">up₁</a> <a id="11242" href="unit-of-measure.html#10661" class="Function Operator">*u</a> <a id="11245" href="unit-of-measure.html#8697" class="Generalizable">up₂</a><a id="11248" class="Symbol">))</a>
  <a id="11253" href="unit-of-measure.html#11179" class="Function Operator">_*m_</a> <a id="11258" class="Symbol">{</a><a id="11259" href="unit-of-measure.html#11259" class="Bound">up₁</a><a id="11262" class="Symbol">}</a> <a id="11264" class="Symbol">{</a><a id="11265" href="unit-of-measure.html#11265" class="Bound">up₂</a><a id="11268" class="Symbol">}</a> <a id="11270" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11272" href="unit-of-measure.html#11272" class="Bound">x</a> <a id="11274" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a> <a id="11276" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11278" href="unit-of-measure.html#11278" class="Bound">y</a> <a id="11280" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a> <a id="11282" class="Symbol">=</a>
    <a id="11288" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11290" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="11317" href="unit-of-measure.html#11259" class="Bound">up₁</a> <a id="11321" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="11324" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="11351" href="unit-of-measure.html#11265" class="Bound">up₂</a> <a id="11355" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="11358" href="unit-of-measure.html#11272" class="Bound">x</a> <a id="11360" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="11363" href="unit-of-measure.html#11278" class="Bound">y</a> <a id="11365" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalUnit._/m_"></a><a id="11370" href="unit-of-measure.html#11370" class="Function Operator">_/m_</a> <a id="11375" class="Symbol">:</a> <a id="11377" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11385" href="unit-of-measure.html#8693" class="Generalizable">up₁</a> <a id="11389" class="Symbol">→</a> <a id="11391" class="Symbol">(</a><a id="11392" href="unit-of-measure.html#11392" class="Bound">y</a> <a id="11394" class="Symbol">:</a> <a id="11396" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11404" href="unit-of-measure.html#8697" class="Generalizable">up₂</a><a id="11407" class="Symbol">)</a> <a id="11409" class="Symbol">⦃</a> <a id="11411" href="unit-of-measure.html#11411" class="Symbol">_</a> <a id="11413" class="Symbol">:</a> <a id="11415" href="unit-of-measure.html#10929" class="Function">NonZero</a> <a id="11423" href="unit-of-measure.html#11392" class="Bound">y</a> <a id="11425" class="Symbol">⦄</a> <a id="11427" class="Symbol">→</a> <a id="11429" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11437" class="Symbol">(</a><a id="11438" href="unit-of-measure.html#9326" class="Function">normalizeUnit</a> <a id="11452" class="Symbol">(</a><a id="11453" href="unit-of-measure.html#8693" class="Generalizable">up₁</a> <a id="11457" href="unit-of-measure.html#10661" class="Function Operator">*u</a> <a id="11460" href="unit-of-measure.html#8697" class="Generalizable">up₂</a><a id="11463" class="Symbol">))</a>
  <a id="11468" href="unit-of-measure.html#11370" class="Function Operator">_/m_</a> <a id="11473" class="Symbol">{</a><a id="11474" href="unit-of-measure.html#11474" class="Bound">up₁</a><a id="11477" class="Symbol">}</a> <a id="11479" class="Symbol">{</a><a id="11480" href="unit-of-measure.html#11480" class="Bound">up₂</a><a id="11483" class="Symbol">}</a> <a id="11485" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11487" href="unit-of-measure.html#11487" class="Bound">x</a> <a id="11489" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a>  <a id="11492" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11494" href="unit-of-measure.html#11494" class="Bound">y</a> <a id="11496" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a> <a id="11498" class="Symbol">⦃</a> <a id="11500" href="unit-of-measure.html#11500" class="Bound">nzy</a> <a id="11504" class="Symbol">⦄</a> <a id="11506" class="Symbol">=</a> <a id="11508" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11510" href="internal-library.html#940" class="Function Operator">_÷_</a>
    <a id="11518" class="Symbol">(</a><a id="11519" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="11546" href="unit-of-measure.html#11474" class="Bound">up₁</a> <a id="11550" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="11553" href="unit-of-measure.html#11487" class="Bound">x</a><a id="11554" class="Symbol">)</a>
    <a id="11560" class="Symbol">(</a><a id="11561" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="11588" href="unit-of-measure.html#11480" class="Bound">up₂</a> <a id="11592" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="11595" href="unit-of-measure.html#11494" class="Bound">y</a><a id="11596" class="Symbol">)</a>
    <a id="11602" class="Symbol">⦃</a> <a id="11604" href="unit-of-measure.html#11650" class="Postulate">trustMe</a> <a id="11612" class="Symbol">⦄</a> <a id="11614" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a>
    <a id="11620" class="Keyword">where</a>
      <a id="11632" class="Keyword">postulate</a>
        <a id="11650" href="unit-of-measure.html#11650" class="Postulate">trustMe</a> <a id="11658" class="Symbol">:</a> <a id="11660" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="11670" class="Symbol">(</a><a id="11671" href="unit-of-measure.html#9740" class="Function">UnitPower→DimensionalValue</a> <a id="11698" href="unit-of-measure.html#11480" class="Bound">up₂</a> <a id="11702" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="11705" href="unit-of-measure.html#11494" class="Bound">y</a><a id="11706" class="Symbol">)</a>

  <a id="DimensionalUnit._+m_"></a><a id="11711" href="unit-of-measure.html#11711" class="Function Operator">_+m_</a> <a id="11716" class="Symbol">:</a> <a id="11718" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11726" href="unit-of-measure.html#8690" class="Generalizable">up</a> <a id="11729" class="Symbol">→</a> <a id="11731" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11739" href="unit-of-measure.html#8690" class="Generalizable">up</a> <a id="11742" class="Symbol">→</a> <a id="11744" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11752" href="unit-of-measure.html#8690" class="Generalizable">up</a>
  <a id="11757" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11759" href="unit-of-measure.html#11759" class="Bound">x</a> <a id="11761" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a> <a id="11763" href="unit-of-measure.html#11711" class="Function Operator">+m</a> <a id="11766" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11768" href="unit-of-measure.html#11768" class="Bound">y</a> <a id="11770" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a> <a id="11772" class="Symbol">=</a> <a id="11774" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11776" href="unit-of-measure.html#11759" class="Bound">x</a> <a id="11778" href="unit-of-measure.html#963" class="Function Operator">+q</a> <a id="11781" href="unit-of-measure.html#11768" class="Bound">y</a> <a id="11783" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a>
</pre>
<h2 id="simple-functions-of-unit-power">Simple functions of Unit Power</h2>
<p>Some functions to define examples in a better way.</p>
<pre class="Agda">  <a id="DimensionalUnit._⋆_"></a><a id="11883" href="unit-of-measure.html#11883" class="Function Operator">_⋆_</a> <a id="11887" class="Symbol">:</a> <a id="11889" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="11891" class="Symbol">→</a> <a id="11893" class="Symbol">(</a><a id="11894" href="unit-of-measure.html#11894" class="Bound">u</a> <a id="11896" class="Symbol">:</a> <a id="11898" href="unit-of-measure.html#8446" class="Function">UnitPower</a><a id="11907" class="Symbol">)</a> <a id="11909" class="Symbol">→</a> <a id="11911" href="unit-of-measure.html#10841" class="Record">Measure</a> <a id="11919" href="unit-of-measure.html#11894" class="Bound">u</a>
  <a id="11923" href="unit-of-measure.html#11923" class="Bound">q</a> <a id="11925" href="unit-of-measure.html#11883" class="Function Operator">⋆</a> <a id="11927" class="Symbol">_</a> <a id="11929" class="Symbol">=</a> <a id="11931" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟦</a> <a id="11933" href="unit-of-measure.html#11923" class="Bound">q</a> <a id="11935" href="unit-of-measure.html#10893" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalUnit._⋆⋆_"></a><a id="11940" href="unit-of-measure.html#11940" class="Function Operator">_⋆⋆_</a> <a id="11945" class="Symbol">=</a> <a id="11947" class="Symbol">λ</a> <a id="11949" href="unit-of-measure.html#11949" class="Bound">q</a> <a id="11951" href="unit-of-measure.html#11951" class="Bound">u</a> <a id="11953" class="Symbol">→</a> <a id="11955" class="Symbol">((</a><a id="11957" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="11959" href="unit-of-measure.html#11949" class="Bound">q</a><a id="11960" class="Symbol">)</a> <a id="11962" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="11965" class="Number">1</a><a id="11966" class="Symbol">)</a> <a id="11968" href="unit-of-measure.html#11883" class="Function Operator">⋆</a> <a id="11970" href="unit-of-measure.html#11951" class="Bound">u</a>

  <a id="DimensionalUnit.m^_"></a><a id="11975" href="unit-of-measure.html#11975" class="Function Operator">m^_</a> <a id="11979" class="Symbol">:</a> <a id="11981" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="11983" class="Symbol">→</a> <a id="11985" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="11997" class="Symbol">(</a><a id="11998" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12001" href="unit-of-measure.html#12001" class="Bound">z</a><a id="12002" class="Symbol">)</a> <a id="12004" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="12007" class="Symbol">=</a> <a id="12009" href="unit-of-measure.html#12001" class="Bound">z</a>
  <a id="12013" class="Symbol">(</a><a id="12014" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12017" href="unit-of-measure.html#12017" class="Bound">z</a><a id="12018" class="Symbol">)</a> <a id="12020" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="12023" class="Symbol">=</a> <a id="12025" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12027" class="Number">0</a>
  <a id="12031" class="Symbol">(</a><a id="12032" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12035" href="unit-of-measure.html#12035" class="Bound">z</a><a id="12036" class="Symbol">)</a> <a id="12038" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="12041" class="Symbol">=</a> <a id="12043" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12045" class="Number">0</a>
  <a id="12049" class="Symbol">(</a><a id="12050" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12053" href="unit-of-measure.html#12053" class="Bound">z</a><a id="12054" class="Symbol">)</a> <a id="12056" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="12059" class="Symbol">=</a> <a id="12061" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12063" class="Number">0</a>

  <a id="DimensionalUnit.km^_"></a><a id="12068" href="unit-of-measure.html#12068" class="Function Operator">km^_</a> <a id="12073" class="Symbol">:</a> <a id="12075" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="12077" class="Symbol">→</a> <a id="12079" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="12091" class="Symbol">(</a><a id="12092" href="unit-of-measure.html#12068" class="Function Operator">km^</a> <a id="12096" href="unit-of-measure.html#12096" class="Bound">z</a><a id="12097" class="Symbol">)</a> <a id="12099" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="12102" class="Symbol">=</a> <a id="12104" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12106" class="Number">0</a>
  <a id="12110" class="Symbol">(</a><a id="12111" href="unit-of-measure.html#12068" class="Function Operator">km^</a> <a id="12115" href="unit-of-measure.html#12115" class="Bound">z</a><a id="12116" class="Symbol">)</a> <a id="12118" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="12121" class="Symbol">=</a> <a id="12123" href="unit-of-measure.html#12115" class="Bound">z</a>
  <a id="12127" class="Symbol">(</a><a id="12128" href="unit-of-measure.html#12068" class="Function Operator">km^</a> <a id="12132" href="unit-of-measure.html#12132" class="Bound">z</a><a id="12133" class="Symbol">)</a> <a id="12135" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="12138" class="Symbol">=</a> <a id="12140" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12142" class="Number">0</a>
  <a id="12146" class="Symbol">(</a><a id="12147" href="unit-of-measure.html#12068" class="Function Operator">km^</a> <a id="12151" href="unit-of-measure.html#12151" class="Bound">z</a><a id="12152" class="Symbol">)</a> <a id="12154" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="12157" class="Symbol">=</a> <a id="12159" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12161" class="Number">0</a>

  <a id="DimensionalUnit.s^_"></a><a id="12166" href="unit-of-measure.html#12166" class="Function Operator">s^_</a> <a id="12170" class="Symbol">:</a> <a id="12172" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="12174" class="Symbol">→</a> <a id="12176" href="unit-of-measure.html#8446" class="Function">UnitPower</a>
  <a id="12188" class="Symbol">(</a><a id="12189" href="unit-of-measure.html#12166" class="Function Operator">s^</a> <a id="12192" href="unit-of-measure.html#12192" class="Bound">z</a><a id="12193" class="Symbol">)</a> <a id="12195" href="unit-of-measure.html#6930" class="InductiveConstructor">m</a>  <a id="12198" class="Symbol">=</a> <a id="12200" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12202" class="Number">0</a>
  <a id="12206" class="Symbol">(</a><a id="12207" href="unit-of-measure.html#12166" class="Function Operator">s^</a> <a id="12210" href="unit-of-measure.html#12210" class="Bound">z</a><a id="12211" class="Symbol">)</a> <a id="12213" href="unit-of-measure.html#6932" class="InductiveConstructor">km</a> <a id="12216" class="Symbol">=</a> <a id="12218" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12220" class="Number">0</a>
  <a id="12224" class="Symbol">(</a><a id="12225" href="unit-of-measure.html#12166" class="Function Operator">s^</a> <a id="12228" href="unit-of-measure.html#12228" class="Bound">z</a><a id="12229" class="Symbol">)</a> <a id="12231" href="unit-of-measure.html#6935" class="InductiveConstructor">s</a>  <a id="12234" class="Symbol">=</a> <a id="12236" href="unit-of-measure.html#12228" class="Bound">z</a>
  <a id="12240" class="Symbol">(</a><a id="12241" href="unit-of-measure.html#12166" class="Function Operator">s^</a> <a id="12244" href="unit-of-measure.html#12244" class="Bound">z</a><a id="12245" class="Symbol">)</a> <a id="12247" href="unit-of-measure.html#6937" class="InductiveConstructor">ms</a> <a id="12250" class="Symbol">=</a> <a id="12252" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12254" class="Number">0</a>
</pre>
<h2 id="tests">Tests</h2>
<p>These are some examples of addition.
The problem with the product is that Unit Power is a function,
so it is necessary to prove that two functions are equal and
it requires extensionality.</p>
<pre class="Agda">  <a id="12467" class="Keyword">private</a>
    <a id="12479" href="unit-of-measure.html#12479" class="Function">_</a> <a id="12481" class="Symbol">:</a> <a id="12483" class="Symbol">(</a><a id="12484" class="Number">1</a> <a id="12486" href="unit-of-measure.html#11940" class="Function Operator">⋆⋆</a> <a id="12489" class="Symbol">(</a><a id="12490" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12493" class="Symbol">(</a><a id="12494" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12496" class="Number">1</a><a id="12497" class="Symbol">)))</a> <a id="12501" href="unit-of-measure.html#11711" class="Function Operator">+m</a> <a id="12504" class="Symbol">(</a><a id="12505" class="Number">2</a> <a id="12507" href="unit-of-measure.html#11940" class="Function Operator">⋆⋆</a> <a id="12510" class="Symbol">(</a><a id="12511" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12514" class="Symbol">(</a><a id="12515" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12517" class="Number">1</a><a id="12518" class="Symbol">)))</a>
      <a id="12528" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12530" class="Symbol">(</a><a id="12531" class="Number">3</a> <a id="12533" href="unit-of-measure.html#11940" class="Function Operator">⋆⋆</a> <a id="12536" class="Symbol">(</a><a id="12537" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12540" class="Symbol">(</a><a id="12541" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12543" class="Number">1</a><a id="12544" class="Symbol">)))</a>
    <a id="12552" class="Symbol">_</a> <a id="12554" class="Symbol">=</a> <a id="12556" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="DimensionalUnit.m/s"></a><a id="12566" href="unit-of-measure.html#12566" class="Function">m/s</a> <a id="12570" class="Symbol">=</a> <a id="12572" class="Symbol">(</a><a id="12573" href="unit-of-measure.html#11975" class="Function Operator">m^</a> <a id="12576" class="Symbol">(</a><a id="12577" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12579" class="Number">1</a><a id="12580" class="Symbol">))</a> <a id="12583" href="unit-of-measure.html#10661" class="Function Operator">*u</a> <a id="12586" class="Symbol">(</a><a id="12587" href="unit-of-measure.html#12166" class="Function Operator">s^</a> <a id="12590" class="Symbol">(</a><a id="12591" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="12593" class="Symbol">(</a><a id="12594" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="12596" class="Number">1</a><a id="12597" class="Symbol">)))</a>

    <a id="12606" href="unit-of-measure.html#12606" class="Function">_</a> <a id="12608" class="Symbol">:</a> <a id="12610" class="Symbol">(</a><a id="12611" class="Number">10</a> <a id="12614" href="unit-of-measure.html#11940" class="Function Operator">⋆⋆</a> <a id="12617" href="unit-of-measure.html#12566" class="Function">m/s</a><a id="12620" class="Symbol">)</a> <a id="12622" href="unit-of-measure.html#11711" class="Function Operator">+m</a> <a id="12625" class="Symbol">(</a><a id="12626" class="Number">20</a> <a id="12629" href="unit-of-measure.html#11940" class="Function Operator">⋆⋆</a> <a id="12632" href="unit-of-measure.html#12566" class="Function">m/s</a><a id="12635" class="Symbol">)</a>
      <a id="12643" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12645" class="Symbol">(</a><a id="12646" class="Number">30</a> <a id="12649" href="unit-of-measure.html#11940" class="Function Operator">⋆⋆</a> <a id="12652" href="unit-of-measure.html#12566" class="Function">m/s</a><a id="12655" class="Symbol">)</a>
    <a id="12661" class="Symbol">_</a> <a id="12663" class="Symbol">=</a> <a id="12665" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h1 id="dimensional-units-in-vector">Dimensional Units in Vector</h1>
<p>The problem with the last approach is that it is not possible to infer
automatically that two functions are equal.
But <code>Fin n → A</code> is isomorphic to <code>Vec A n</code> and the compiler infer easily
that two vectors are equal.
So it is better to use vectors instead of functions.</p>
<pre class="Agda"><a id="12980" class="Keyword">module</a> <a id="DimensionalUnitVector"></a><a id="12987" href="unit-of-measure.html#12987" class="Module">DimensionalUnitVector</a> <a id="13009" class="Keyword">where</a>
  <a id="DimensionalUnitVector.DimensionalSize"></a><a id="13017" href="unit-of-measure.html#13017" class="Function">DimensionalSize</a> <a id="13033" class="Symbol">=</a> <a id="13035" class="Number">2</a>
  <a id="DimensionalUnitVector.UnitSize"></a><a id="13039" href="unit-of-measure.html#13039" class="Function">UnitSize</a> <a id="13048" class="Symbol">=</a> <a id="13050" class="Number">4</a>

  <a id="DimensionalUnitVector.Dimensional"></a><a id="13055" href="unit-of-measure.html#13055" class="Function">Dimensional</a> <a id="13067" class="Symbol">=</a> <a id="13069" href="Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="13073" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="13075" href="unit-of-measure.html#13017" class="Function">DimensionalSize</a>
  <a id="DimensionalUnitVector.Unit"></a><a id="13093" href="unit-of-measure.html#13093" class="Function">Unit</a> <a id="13098" class="Symbol">=</a> <a id="13100" href="Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="13104" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="13106" href="unit-of-measure.html#13039" class="Function">UnitSize</a>
</pre>
<p>We have two dimensional. Distance is the first and time is the second.</p>
<pre class="Agda">  <a id="DimensionalUnitVector.distance"></a><a id="13198" href="unit-of-measure.html#13198" class="Function">distance</a> <a id="13207" class="Symbol">:</a> <a id="13209" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="13213" href="unit-of-measure.html#13017" class="Function">DimensionalSize</a>
  <a id="13231" href="unit-of-measure.html#13198" class="Function">distance</a> <a id="13240" class="Symbol">=</a> <a id="13242" href="Data.Fin.Base.html#1148" class="InductiveConstructor">Fin.zero</a>

  <a id="DimensionalUnitVector.time"></a><a id="13254" href="unit-of-measure.html#13254" class="Function">time</a> <a id="13259" class="Symbol">:</a> <a id="13261" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="13265" href="unit-of-measure.html#13017" class="Function">DimensionalSize</a>
  <a id="13283" href="unit-of-measure.html#13254" class="Function">time</a> <a id="13288" class="Symbol">=</a> <a id="13290" href="Data.Fin.Base.html#1179" class="InductiveConstructor">Fin.suc</a> <a id="13298" href="Data.Fin.Base.html#1148" class="InductiveConstructor">Fin.zero</a>
</pre>
<p>These are the units of meters, kilometers, seconds, and milliseconds.</p>
<pre class="Agda">  <a id="DimensionalUnitVector.m^_"></a><a id="13389" href="unit-of-measure.html#13389" class="Function Operator">m^_</a> <a id="13393" class="Symbol">:</a> <a id="13395" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="13397" class="Symbol">→</a> <a id="13399" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="13406" href="unit-of-measure.html#13389" class="Function Operator">m^</a> <a id="13409" href="unit-of-measure.html#13409" class="Bound">z</a> <a id="13411" class="Symbol">=</a> <a id="13413" href="unit-of-measure.html#13409" class="Bound">z</a> <a id="13415" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13417" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13419" class="Number">0</a> <a id="13421" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13423" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13425" class="Number">0</a> <a id="13427" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13429" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13431" class="Number">0</a> <a id="13433" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13435" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>

  <a id="DimensionalUnitVector.km^_"></a><a id="13441" href="unit-of-measure.html#13441" class="Function Operator">km^_</a> <a id="13446" class="Symbol">:</a> <a id="13448" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="13450" class="Symbol">→</a> <a id="13452" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="13459" href="unit-of-measure.html#13441" class="Function Operator">km^</a> <a id="13463" href="unit-of-measure.html#13463" class="Bound">z</a> <a id="13465" class="Symbol">=</a> <a id="13467" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13469" class="Number">0</a> <a id="13471" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13473" href="unit-of-measure.html#13463" class="Bound">z</a> <a id="13475" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13477" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13479" class="Number">0</a> <a id="13481" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13483" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13485" class="Number">0</a> <a id="13487" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13489" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>

  <a id="DimensionalUnitVector.s^_"></a><a id="13495" href="unit-of-measure.html#13495" class="Function Operator">s^_</a> <a id="13499" class="Symbol">:</a> <a id="13501" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="13503" class="Symbol">→</a> <a id="13505" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="13512" href="unit-of-measure.html#13495" class="Function Operator">s^</a> <a id="13515" href="unit-of-measure.html#13515" class="Bound">z</a> <a id="13517" class="Symbol">=</a> <a id="13519" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13521" class="Number">0</a> <a id="13523" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13525" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13527" class="Number">0</a> <a id="13529" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13531" href="unit-of-measure.html#13515" class="Bound">z</a> <a id="13533" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13535" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13537" class="Number">0</a> <a id="13539" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13541" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>

  <a id="DimensionalUnitVector.ms^_"></a><a id="13547" href="unit-of-measure.html#13547" class="Function Operator">ms^_</a> <a id="13552" class="Symbol">:</a> <a id="13554" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="13556" class="Symbol">→</a> <a id="13558" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="13565" href="unit-of-measure.html#13547" class="Function Operator">ms^</a> <a id="13569" href="unit-of-measure.html#13569" class="Bound">z</a> <a id="13571" class="Symbol">=</a> <a id="13573" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13575" class="Number">0</a> <a id="13577" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13579" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13581" class="Number">0</a> <a id="13583" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13585" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="13587" class="Number">0</a> <a id="13589" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13591" href="unit-of-measure.html#13569" class="Bound">z</a> <a id="13593" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13595" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
</pre>
<p>For each unit (m, km, s, ms), there is a dimensional associated with that.
It is in the vector <code>UnitDimensional</code>.</p>
<pre class="Agda">  <a id="DimensionalUnitVector.UnitDimensional"></a><a id="13724" href="unit-of-measure.html#13724" class="Function">UnitDimensional</a> <a id="13740" class="Symbol">:</a> <a id="13742" href="Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="13746" class="Symbol">(</a><a id="13747" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="13751" href="unit-of-measure.html#13017" class="Function">DimensionalSize</a><a id="13766" class="Symbol">)</a> <a id="13768" href="unit-of-measure.html#13039" class="Function">UnitSize</a>
  <a id="13779" href="unit-of-measure.html#13724" class="Function">UnitDimensional</a> <a id="13795" class="Symbol">=</a> <a id="13797" href="unit-of-measure.html#13198" class="Function">distance</a> <a id="13806" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13808" href="unit-of-measure.html#13198" class="Function">distance</a> <a id="13817" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13819" href="unit-of-measure.html#13254" class="Function">time</a> <a id="13824" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13826" href="unit-of-measure.html#13254" class="Function">time</a> <a id="13831" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13833" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
</pre>
<p>Meters and seconds are unit standards of distance and time respectively.</p>
<pre class="Agda">  <a id="DimensionalUnitVector.UnitStandard"></a><a id="13921" href="unit-of-measure.html#13921" class="Function">UnitStandard</a> <a id="13934" class="Symbol">:</a> <a id="13936" href="Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="13940" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="13945" href="unit-of-measure.html#13039" class="Function">UnitSize</a>
  <a id="13956" href="unit-of-measure.html#13921" class="Function">UnitStandard</a> <a id="13969" class="Symbol">=</a> <a id="13971" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="13976" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13978" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="13984" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13986" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="13991" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="13993" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="13999" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="14001" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
</pre>
<h2 id="unit-proportion-1">Unit Proportion</h2>
<p>Unit proportion is the same in the case above.
But the difference is that it has to come with proof that all elements
are non-zero.</p>
<pre class="Agda">  <a id="DimensionalUnitVector.ℚNZ"></a><a id="14168" href="unit-of-measure.html#14168" class="Function">ℚNZ</a> <a id="14172" class="Symbol">=</a> <a id="14174" href="Data.Product.html#916" class="Function">Σ[</a> <a id="14177" href="unit-of-measure.html#14177" class="Bound">q</a> <a id="14179" href="Data.Product.html#916" class="Function">∈</a> <a id="14181" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="14183" href="Data.Product.html#916" class="Function">]</a> <a id="14185" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="14195" href="unit-of-measure.html#14177" class="Bound">q</a>

  <a id="DimensionalUnitVector.UnitProportionNZ"></a><a id="14200" href="unit-of-measure.html#14200" class="Function">UnitProportionNZ</a> <a id="14217" class="Symbol">:</a> <a id="14219" href="Data.Vec.Base.html#998" class="Datatype">Vec</a> <a id="14223" href="unit-of-measure.html#14168" class="Function">ℚNZ</a> <a id="14227" href="unit-of-measure.html#13039" class="Function">UnitSize</a>
  <a id="14238" href="unit-of-measure.html#14200" class="Function">UnitProportionNZ</a> <a id="14255" class="Symbol">=</a> <a id="14257" class="Symbol">(</a><a id="14258" href="Data.Rational.Base.html#4586" class="Function">1ℚ</a> <a id="14261" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14263" class="Symbol">_)</a> <a id="14266" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="14268" class="Symbol">(</a><a id="14269" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="14271" class="Number">1000</a> <a id="14276" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="14279" class="Number">1</a> <a id="14281" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14283" class="Symbol">_)</a><a id="14285" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="14287" class="Symbol">((</a><a id="14289" href="Data.Rational.Base.html#4586" class="Function">1ℚ</a> <a id="14292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14294" class="Symbol">_))</a> <a id="14298" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="14300" class="Symbol">(</a><a id="14301" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="14303" class="Number">1</a> <a id="14305" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="14308" class="Number">1000</a> <a id="14313" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14315" class="Symbol">_)</a> <a id="14318" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="14320" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
</pre>
<h2 id="unit-operations">Unit operations</h2>
<p>To multiplicate the unit, it is just necessary to add each element of both vectors,
and to divide, it is necessary to subtract.</p>
<pre class="Agda">  <a id="DimensionalUnitVector._*u_"></a><a id="14483" href="unit-of-measure.html#14483" class="Function Operator">_*u_</a> <a id="14488" class="Symbol">:</a> <a id="14490" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="14494" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="14501" href="unit-of-measure.html#14483" class="Function Operator">_*u_</a> <a id="14506" class="Symbol">=</a> <a id="14508" href="unit-of-measure.html#836" class="Function">zipWithV</a> <a id="14517" href="unit-of-measure.html#1077" class="Function Operator">_+z_</a>

  <a id="DimensionalUnitVector._/u_"></a><a id="14525" href="unit-of-measure.html#14525" class="Function Operator">_/u_</a> <a id="14530" class="Symbol">:</a> <a id="14532" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="14536" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="14543" href="unit-of-measure.html#14525" class="Function Operator">_/u_</a> <a id="14548" class="Symbol">=</a> <a id="14550" href="unit-of-measure.html#836" class="Function">zipWithV</a> <a id="14559" href="unit-of-measure.html#1103" class="Function Operator">_-z_</a>
</pre>
<h2 id="unit-and-dimensional-conversion">Unit and dimensional conversion</h2>
<p>These functions are the same as in the case of the Dimensional Unit above.</p>
<pre class="Agda">  <a id="DimensionalUnitVector.Unit→Dimensional"></a><a id="14687" href="unit-of-measure.html#14687" class="Function">Unit→Dimensional</a> <a id="14704" class="Symbol">:</a> <a id="14706" href="unit-of-measure.html#13093" class="Function">Unit</a> <a id="14711" class="Symbol">→</a> <a id="14713" href="unit-of-measure.html#13055" class="Function">Dimensional</a>
  <a id="14727" href="unit-of-measure.html#14687" class="Function">Unit→Dimensional</a> <a id="14744" href="unit-of-measure.html#14744" class="Bound">un</a> <a id="14747" class="Symbol">=</a>
    <a id="14753" href="unit-of-measure.html#858" class="Function">tabulateV</a> <a id="14763" class="Symbol">λ</a> <a id="14765" href="unit-of-measure.html#14765" class="Bound">dpos</a> <a id="14770" class="Symbol">→</a> <a id="14772" href="internal-library.html#1553" class="Function">sumFin</a> <a id="14779" class="Symbol">λ</a> <a id="14781" href="unit-of-measure.html#14781" class="Bound">unp</a> <a id="14785" class="Symbol">→</a>
    <a id="14791" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="14794" class="Symbol">(</a><a id="14795" href="unit-of-measure.html#14765" class="Bound">dpos</a> <a id="14800" href="unit-of-measure.html#1238" class="Function Operator">≟f</a> <a id="14803" href="unit-of-measure.html#879" class="Function">lookupv</a> <a id="14811" href="unit-of-measure.html#13724" class="Function">UnitDimensional</a> <a id="14827" href="unit-of-measure.html#14781" class="Bound">unp</a><a id="14830" class="Symbol">)</a> <a id="14832" class="Symbol">.</a><a id="14833" href="Relation.Nullary.html#1581" class="Field">does</a>
    <a id="14842" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="14847" href="unit-of-measure.html#879" class="Function">lookupv</a> <a id="14855" href="unit-of-measure.html#14744" class="Bound">un</a> <a id="14858" href="unit-of-measure.html#14781" class="Bound">unp</a> <a id="14862" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="14867" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="14869" class="Number">0</a>

  <a id="DimensionalUnitVector.Dimensional→Unit"></a><a id="14874" href="unit-of-measure.html#14874" class="Function">Dimensional→Unit</a> <a id="14891" class="Symbol">:</a> <a id="14893" href="unit-of-measure.html#13055" class="Function">Dimensional</a> <a id="14905" class="Symbol">→</a> <a id="14907" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="14914" href="unit-of-measure.html#14874" class="Function">Dimensional→Unit</a> <a id="14931" href="unit-of-measure.html#14931" class="Bound">dim</a> <a id="14935" class="Symbol">=</a>
    <a id="14941" href="unit-of-measure.html#858" class="Function">tabulateV</a> <a id="14951" class="Symbol">λ</a> <a id="14953" href="unit-of-measure.html#14953" class="Bound">unpos</a> <a id="14959" class="Symbol">→</a>
      <a id="14967" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="14970" href="unit-of-measure.html#879" class="Function">lookupv</a> <a id="14978" href="unit-of-measure.html#13921" class="Function">UnitStandard</a> <a id="14991" href="unit-of-measure.html#14953" class="Bound">unpos</a>
      <a id="15003" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="15008" href="unit-of-measure.html#879" class="Function">lookupv</a> <a id="15016" href="unit-of-measure.html#14931" class="Bound">dim</a> <a id="15020" class="Symbol">(</a><a id="15021" href="unit-of-measure.html#879" class="Function">lookupv</a> <a id="15029" href="unit-of-measure.html#13724" class="Function">UnitDimensional</a> <a id="15045" href="unit-of-measure.html#14953" class="Bound">unpos</a><a id="15050" class="Symbol">)</a> <a id="15052" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="15057" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15059" class="Number">0</a>

  <a id="DimensionalUnitVector.normalizeUnit"></a><a id="15064" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="15078" class="Symbol">:</a> <a id="15080" href="unit-of-measure.html#13093" class="Function">Unit</a> <a id="15085" class="Symbol">→</a> <a id="15087" href="unit-of-measure.html#13093" class="Function">Unit</a>
  <a id="15094" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="15108" class="Symbol">=</a> <a id="15110" href="unit-of-measure.html#14874" class="Function">Dimensional→Unit</a> <a id="15127" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="15129" href="unit-of-measure.html#14687" class="Function">Unit→Dimensional</a>

  <a id="DimensionalUnitVector.Unit→Measure"></a><a id="15149" href="unit-of-measure.html#15149" class="Function">Unit→Measure</a> <a id="15162" class="Symbol">:</a> <a id="15164" href="unit-of-measure.html#13093" class="Function">Unit</a> <a id="15169" class="Symbol">→</a> <a id="15171" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
  <a id="15175" href="unit-of-measure.html#15149" class="Function">Unit→Measure</a> <a id="15188" href="unit-of-measure.html#15188" class="Bound">unit</a> <a id="15193" class="Symbol">=</a> <a id="15195" href="internal-library.html#1178" class="Function">prodℚv</a> <a id="15202" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="15204" href="unit-of-measure.html#836" class="Function">zipWithV</a> <a id="15213" class="Symbol">(λ</a> <a id="15216" class="Symbol">(</a><a id="15217" href="unit-of-measure.html#15217" class="Bound">q</a> <a id="15219" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15221" href="unit-of-measure.html#15221" class="Bound">nz</a><a id="15223" class="Symbol">)</a> <a id="15225" href="unit-of-measure.html#15225" class="Bound">un</a> <a id="15228" class="Symbol">→</a> <a id="15230" href="internal-library.html#1383" class="Function Operator">_**_</a> <a id="15235" href="unit-of-measure.html#15217" class="Bound">q</a> <a id="15237" href="unit-of-measure.html#15225" class="Bound">un</a> <a id="15240" class="Symbol">⦃</a> <a id="15242" href="unit-of-measure.html#15221" class="Bound">nz</a> <a id="15245" class="Symbol">⦄)</a> <a id="15248" href="unit-of-measure.html#14200" class="Function">UnitProportionNZ</a> <a id="15265" href="unit-of-measure.html#15188" class="Bound">unit</a>
</pre>
<h2 id="examples-3">Examples</h2>
<p>These are some examples of the use of the functions above.</p>
<pre class="Agda">  <a id="15354" class="Keyword">private</a>
    <a id="DimensionalUnitVector.m"></a><a id="15366" href="unit-of-measure.html#15366" class="Function">m</a> <a id="15368" class="Symbol">=</a> <a id="15370" href="unit-of-measure.html#13389" class="Function Operator">m^</a> <a id="15373" class="Symbol">(</a><a id="15374" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15376" class="Number">1</a><a id="15377" class="Symbol">)</a>
    <a id="DimensionalUnitVector.s"></a><a id="15383" href="unit-of-measure.html#15383" class="Function">s</a> <a id="15385" class="Symbol">=</a> <a id="15387" href="unit-of-measure.html#13495" class="Function Operator">s^</a> <a id="15390" class="Symbol">(</a><a id="15391" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15393" class="Number">1</a><a id="15394" class="Symbol">)</a>
    <a id="DimensionalUnitVector.ms"></a><a id="15400" href="unit-of-measure.html#15400" class="Function">ms</a> <a id="15403" class="Symbol">=</a> <a id="15405" href="unit-of-measure.html#13547" class="Function Operator">ms^</a> <a id="15409" class="Symbol">(</a><a id="15410" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15412" class="Number">1</a><a id="15413" class="Symbol">)</a>
    <a id="DimensionalUnitVector.m/s"></a><a id="15419" href="unit-of-measure.html#15419" class="Function">m/s</a> <a id="15423" class="Symbol">=</a> <a id="15425" href="unit-of-measure.html#15366" class="Function">m</a> <a id="15427" href="unit-of-measure.html#14525" class="Function Operator">/u</a> <a id="15430" href="unit-of-measure.html#15383" class="Function">s</a>
    <a id="DimensionalUnitVector.km"></a><a id="15436" href="unit-of-measure.html#15436" class="Function">km</a> <a id="15439" class="Symbol">=</a> <a id="15441" href="unit-of-measure.html#13441" class="Function Operator">km^</a> <a id="15445" class="Symbol">(</a><a id="15446" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15448" class="Number">1</a><a id="15449" class="Symbol">)</a>

    <a id="15456" href="unit-of-measure.html#15456" class="Function">_</a> <a id="15458" class="Symbol">:</a> <a id="15460" href="unit-of-measure.html#14687" class="Function">Unit→Dimensional</a> <a id="15477" href="unit-of-measure.html#15366" class="Function">m</a> <a id="15479" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15481" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15483" class="Number">1</a> <a id="15485" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15487" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15489" class="Number">0</a> <a id="15491" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15493" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
    <a id="15500" class="Symbol">_</a> <a id="15502" class="Symbol">=</a> <a id="15504" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="15514" href="unit-of-measure.html#15514" class="Function">_</a> <a id="15516" class="Symbol">:</a> <a id="15518" href="unit-of-measure.html#14687" class="Function">Unit→Dimensional</a> <a id="15535" href="unit-of-measure.html#15419" class="Function">m/s</a> <a id="15539" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15541" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15543" class="Number">1</a> <a id="15545" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15547" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="15549" class="Symbol">(</a><a id="15550" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15552" class="Number">1</a><a id="15553" class="Symbol">)</a> <a id="15555" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15557" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
    <a id="15564" class="Symbol">_</a> <a id="15566" class="Symbol">=</a> <a id="15568" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="15578" href="unit-of-measure.html#15578" class="Function">_</a> <a id="15580" class="Symbol">:</a> <a id="15582" href="unit-of-measure.html#14687" class="Function">Unit→Dimensional</a> <a id="15599" href="unit-of-measure.html#15436" class="Function">km</a> <a id="15602" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15604" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15606" class="Number">1</a> <a id="15608" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15610" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15612" class="Number">0</a> <a id="15614" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15616" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
    <a id="15623" class="Symbol">_</a> <a id="15625" class="Symbol">=</a> <a id="15627" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="15637" href="unit-of-measure.html#15637" class="Function">_</a> <a id="15639" class="Symbol">:</a> <a id="15641" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="15655" href="unit-of-measure.html#15366" class="Function">m</a> <a id="15657" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15659" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15661" class="Number">1</a> <a id="15663" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15665" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15667" class="Number">0</a> <a id="15669" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15671" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15673" class="Number">0</a> <a id="15675" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15677" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15679" class="Number">0</a> <a id="15681" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15683" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
    <a id="15690" class="Symbol">_</a> <a id="15692" class="Symbol">=</a> <a id="15694" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="15704" href="unit-of-measure.html#15704" class="Function">_</a> <a id="15706" class="Symbol">:</a> <a id="15708" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="15722" href="unit-of-measure.html#15436" class="Function">km</a> <a id="15725" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15727" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15729" class="Number">1</a> <a id="15731" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15733" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15735" class="Number">0</a> <a id="15737" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15739" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15741" class="Number">0</a> <a id="15743" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15745" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15747" class="Number">0</a> <a id="15749" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15751" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
    <a id="15758" class="Symbol">_</a> <a id="15760" class="Symbol">=</a> <a id="15762" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="15772" href="unit-of-measure.html#15772" class="Function">_</a> <a id="15774" class="Symbol">:</a> <a id="15776" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="15790" href="unit-of-measure.html#15419" class="Function">m/s</a> <a id="15794" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15796" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15798" class="Number">1</a> <a id="15800" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15802" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15804" class="Number">0</a> <a id="15806" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15808" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="15810" class="Symbol">(</a><a id="15811" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15813" class="Number">1</a><a id="15814" class="Symbol">)</a> <a id="15816" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15818" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="15820" class="Number">0</a> <a id="15822" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="15824" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
    <a id="15831" class="Symbol">_</a> <a id="15833" class="Symbol">=</a> <a id="15835" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h2 id="measure-definition">Measure definition</h2>
<p>The Measure definition is the same as the case above.</p>
<pre class="Agda">  <a id="15929" class="Keyword">record</a> <a id="DimensionalUnitVector.Measure"></a><a id="15936" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="15944" class="Symbol">(</a><a id="15945" href="unit-of-measure.html#15945" class="Bound">unit</a> <a id="15950" class="Symbol">:</a> <a id="15952" href="unit-of-measure.html#13093" class="Function">Unit</a><a id="15956" class="Symbol">)</a> <a id="15958" class="Symbol">:</a> <a id="15960" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="15964" class="Keyword">where</a>
    <a id="15974" class="Keyword">constructor</a> <a id="DimensionalUnitVector.⟦_⟧"></a><a id="15986" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦_⟧</a>
    <a id="15994" class="Keyword">field</a>
      <a id="DimensionalUnitVector.Measure.measure"></a><a id="16006" href="unit-of-measure.html#16006" class="Field">measure</a> <a id="16014" class="Symbol">:</a> <a id="16016" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="DimensionalUnitVector.Measure.NonZero"></a><a id="16022" href="unit-of-measure.html#16022" class="Function">NonZero</a> <a id="16030" class="Symbol">:</a> <a id="16032" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="16040" href="unit-of-measure.html#16022" class="Function">NonZero</a> <a id="16048" class="Symbol">=</a> <a id="16050" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="16060" href="unit-of-measure.html#16006" class="Field">measure</a>
</pre>
<p>The <code>std</code> function got the measure in the standard unit (such as a meter or a second).</p>
<pre class="Agda">    <a id="DimensionalUnitVector.Measure.std"></a><a id="16169" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16173" class="Symbol">:</a> <a id="16175" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="16181" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16185" class="Symbol">=</a> <a id="16187" href="unit-of-measure.html#16006" class="Field">measure</a> <a id="16195" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="16198" href="unit-of-measure.html#15149" class="Function">Unit→Measure</a> <a id="16211" href="unit-of-measure.html#15945" class="Bound">unit</a>
</pre>
<pre class="Agda">  <a id="16227" class="Keyword">open</a> <a id="16232" href="unit-of-measure.html#15936" class="Module">Measure</a>

  <a id="16243" class="Keyword">private</a>
    <a id="16255" class="Keyword">variable</a>
      <a id="16270" href="unit-of-measure.html#16270" class="Generalizable">u</a> <a id="16272" href="unit-of-measure.html#16272" class="Generalizable">u₁</a> <a id="16275" href="unit-of-measure.html#16275" class="Generalizable">u₂</a> <a id="16278" class="Symbol">:</a> <a id="16280" href="unit-of-measure.html#13093" class="Function">Unit</a>
</pre>
<h2 id="measure-operations-1">Measure operations</h2>
<p>The definition of multiplication, addition, and division is like the case above,
except that they use the <code>std</code> function,</p>
<pre class="Agda">  <a id="DimensionalUnitVector._*m_"></a><a id="16442" href="unit-of-measure.html#16442" class="Function Operator">_*m_</a> <a id="16447" class="Symbol">:</a> <a id="16449" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16457" href="unit-of-measure.html#16272" class="Generalizable">u₁</a> <a id="16460" class="Symbol">→</a> <a id="16462" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16470" href="unit-of-measure.html#16275" class="Generalizable">u₂</a> <a id="16473" class="Symbol">→</a> <a id="16475" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16483" class="Symbol">(</a><a id="16484" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="16498" class="Symbol">(</a><a id="16499" href="unit-of-measure.html#16272" class="Generalizable">u₁</a> <a id="16502" href="unit-of-measure.html#14483" class="Function Operator">*u</a> <a id="16505" href="unit-of-measure.html#16275" class="Generalizable">u₂</a><a id="16507" class="Symbol">))</a>
  <a id="16512" href="unit-of-measure.html#16512" class="Bound">x</a> <a id="16514" href="unit-of-measure.html#16442" class="Function Operator">*m</a> <a id="16517" href="unit-of-measure.html#16517" class="Bound">y</a> <a id="16519" class="Symbol">=</a> <a id="16521" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="16523" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16527" href="unit-of-measure.html#16512" class="Bound">x</a> <a id="16529" href="unit-of-measure.html#976" class="Function Operator">*q</a> <a id="16532" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16536" href="unit-of-measure.html#16517" class="Bound">y</a> <a id="16538" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalUnitVector._/m_"></a><a id="16543" href="unit-of-measure.html#16543" class="Function Operator">_/m_</a> <a id="16548" class="Symbol">:</a> <a id="16550" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16558" href="unit-of-measure.html#16272" class="Generalizable">u₁</a> <a id="16561" class="Symbol">→</a> <a id="16563" class="Symbol">(</a><a id="16564" href="unit-of-measure.html#16564" class="Bound">y</a> <a id="16566" class="Symbol">:</a> <a id="16568" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16576" href="unit-of-measure.html#16275" class="Generalizable">u₂</a><a id="16578" class="Symbol">)</a> <a id="16580" class="Symbol">→</a> <a id="16582" class="Symbol">⦃</a> <a id="16584" href="unit-of-measure.html#16584" class="Symbol">_</a> <a id="16586" class="Symbol">:</a> <a id="16588" href="unit-of-measure.html#16022" class="Function">NonZero</a> <a id="16596" href="unit-of-measure.html#16564" class="Bound">y</a> <a id="16598" class="Symbol">⦄</a> <a id="16600" class="Symbol">→</a> <a id="16602" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16610" class="Symbol">(</a><a id="16611" href="unit-of-measure.html#15064" class="Function">normalizeUnit</a> <a id="16625" class="Symbol">(</a><a id="16626" href="unit-of-measure.html#16272" class="Generalizable">u₁</a> <a id="16629" href="unit-of-measure.html#14525" class="Function Operator">/u</a> <a id="16632" href="unit-of-measure.html#16275" class="Generalizable">u₂</a><a id="16634" class="Symbol">))</a>
  <a id="16639" href="unit-of-measure.html#16639" class="Bound">x</a> <a id="16641" href="unit-of-measure.html#16543" class="Function Operator">/m</a> <a id="16644" href="unit-of-measure.html#16644" class="Bound">y</a> <a id="16646" class="Symbol">=</a> <a id="16648" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="16650" href="internal-library.html#940" class="Function Operator">_÷_</a> <a id="16654" class="Symbol">(</a><a id="16655" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16659" href="unit-of-measure.html#16639" class="Bound">x</a><a id="16660" class="Symbol">)</a> <a id="16662" class="Symbol">(</a><a id="16663" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16667" href="unit-of-measure.html#16644" class="Bound">y</a><a id="16668" class="Symbol">)</a> <a id="16670" class="Symbol">⦃</a> <a id="16672" href="unit-of-measure.html#16718" class="Postulate">trustMe</a> <a id="16680" class="Symbol">⦄</a> <a id="16682" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a>
    <a id="16688" class="Keyword">where</a>
      <a id="16700" class="Keyword">postulate</a>
        <a id="16718" href="unit-of-measure.html#16718" class="Postulate">trustMe</a> <a id="16726" class="Symbol">:</a> <a id="16728" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="16738" class="Symbol">(</a><a id="16739" href="unit-of-measure.html#16169" class="Function">std</a> <a id="16743" href="unit-of-measure.html#16644" class="Bound">y</a><a id="16744" class="Symbol">)</a>

  <a id="DimensionalUnitVector._+m_"></a><a id="16749" href="unit-of-measure.html#16749" class="Function Operator">_+m_</a> <a id="16754" class="Symbol">:</a> <a id="16756" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16764" href="unit-of-measure.html#16270" class="Generalizable">u</a> <a id="16766" class="Symbol">→</a> <a id="16768" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16776" href="unit-of-measure.html#16270" class="Generalizable">u</a> <a id="16778" class="Symbol">→</a> <a id="16780" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16788" href="unit-of-measure.html#16270" class="Generalizable">u</a>
  <a id="16792" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="16794" href="unit-of-measure.html#16794" class="Bound">x</a> <a id="16796" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a> <a id="16798" href="unit-of-measure.html#16749" class="Function Operator">+m</a> <a id="16801" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="16803" href="unit-of-measure.html#16803" class="Bound">y</a> <a id="16805" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a> <a id="16807" class="Symbol">=</a> <a id="16809" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="16811" href="unit-of-measure.html#16794" class="Bound">x</a> <a id="16813" href="unit-of-measure.html#963" class="Function Operator">+q</a> <a id="16816" href="unit-of-measure.html#16803" class="Bound">y</a> <a id="16818" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalUnitVector._⋆_"></a><a id="16823" href="unit-of-measure.html#16823" class="Function Operator">_⋆_</a> <a id="16827" class="Symbol">:</a> <a id="16829" href="Data.Rational.Base.html#1883" class="Record">ℚ</a> <a id="16831" class="Symbol">→</a> <a id="16833" class="Symbol">(</a><a id="16834" href="unit-of-measure.html#16834" class="Bound">u</a> <a id="16836" class="Symbol">:</a> <a id="16838" href="unit-of-measure.html#13093" class="Function">Unit</a><a id="16842" class="Symbol">)</a> <a id="16844" class="Symbol">→</a> <a id="16846" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16854" href="unit-of-measure.html#16834" class="Bound">u</a>
  <a id="16858" href="unit-of-measure.html#16858" class="Bound">q</a> <a id="16860" href="unit-of-measure.html#16823" class="Function Operator">⋆</a> <a id="16862" class="Symbol">_</a> <a id="16864" class="Symbol">=</a> <a id="16866" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="16868" href="unit-of-measure.html#16858" class="Bound">q</a> <a id="16870" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalUnitVector._⋆⋆_"></a><a id="16875" href="unit-of-measure.html#16875" class="Function Operator">_⋆⋆_</a> <a id="16880" class="Symbol">=</a> <a id="16882" class="Symbol">λ</a> <a id="16884" href="unit-of-measure.html#16884" class="Bound">q</a> <a id="16886" href="unit-of-measure.html#16886" class="Bound">u</a> <a id="16888" class="Symbol">→</a> <a id="16890" class="Symbol">((</a><a id="16892" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="16894" href="unit-of-measure.html#16884" class="Bound">q</a><a id="16895" class="Symbol">)</a> <a id="16897" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="16900" class="Number">1</a><a id="16901" class="Symbol">)</a> <a id="16903" href="unit-of-measure.html#16823" class="Function Operator">⋆</a> <a id="16905" href="unit-of-measure.html#16886" class="Bound">u</a>

  <a id="DimensionalUnitVector.distanceF"></a><a id="16910" href="unit-of-measure.html#16910" class="Function">distanceF</a> <a id="16920" class="Symbol">:</a> <a id="16922" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16930" href="unit-of-measure.html#15419" class="Function">m/s</a>
            <a id="16946" class="Symbol">→</a> <a id="16948" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16956" href="unit-of-measure.html#15383" class="Function">s</a>
            <a id="16970" class="Symbol">→</a> <a id="16972" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="16980" href="unit-of-measure.html#15366" class="Function">m</a>
  <a id="16984" href="unit-of-measure.html#16910" class="Function">distanceF</a> <a id="16994" href="unit-of-measure.html#16994" class="Bound">speed</a> <a id="17000" href="unit-of-measure.html#17000" class="Bound">time</a> <a id="17005" class="Symbol">=</a> <a id="17007" href="unit-of-measure.html#16994" class="Bound">speed</a> <a id="17013" href="unit-of-measure.html#16442" class="Function Operator">*m</a> <a id="17016" href="unit-of-measure.html#17000" class="Bound">time</a>

  <a id="DimensionalUnitVector.speed"></a><a id="17024" href="unit-of-measure.html#17024" class="Function">speed</a> <a id="17030" class="Symbol">:</a> <a id="17032" class="Symbol">(</a><a id="17033" href="unit-of-measure.html#17033" class="Bound">distance</a> <a id="17042" class="Symbol">:</a> <a id="17044" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17052" href="unit-of-measure.html#15366" class="Function">m</a><a id="17053" class="Symbol">)</a>
          <a id="17065" class="Symbol">(</a><a id="17066" href="unit-of-measure.html#17066" class="Bound">time</a>     <a id="17075" class="Symbol">:</a> <a id="17077" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17085" href="unit-of-measure.html#15383" class="Function">s</a><a id="17086" class="Symbol">)</a> <a id="17088" class="Symbol">⦃</a> <a id="17090" href="unit-of-measure.html#17090" class="Symbol">_</a> <a id="17092" class="Symbol">:</a> <a id="17094" href="unit-of-measure.html#16022" class="Function">NonZero</a> <a id="17102" href="unit-of-measure.html#17066" class="Bound">time</a> <a id="17107" class="Symbol">⦄</a>
                    <a id="17129" class="Symbol">→</a> <a id="17131" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17139" href="unit-of-measure.html#15419" class="Function">m/s</a>
  <a id="17145" href="unit-of-measure.html#17024" class="Function">speed</a> <a id="17151" href="unit-of-measure.html#17151" class="Bound">distance</a> <a id="17160" href="unit-of-measure.html#17160" class="Bound">time</a> <a id="17165" class="Symbol">=</a> <a id="17167" href="unit-of-measure.html#17151" class="Bound">distance</a> <a id="17176" href="unit-of-measure.html#16543" class="Function Operator">/m</a> <a id="17179" href="unit-of-measure.html#17160" class="Bound">time</a>
</pre>
<h2 id="examples-4">Examples</h2>
<p>Some examples using the code.</p>
<pre class="Agda">  <a id="17239" class="Keyword">private</a>
    <a id="DimensionalUnitVector.⦅_⦆"></a><a id="17251" href="unit-of-measure.html#17251" class="Function Operator">⦅_⦆</a> <a id="17255" class="Symbol">:</a> <a id="17257" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="17259" class="Symbol">→</a> <a id="17261" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17269" href="unit-of-measure.html#16270" class="Generalizable">u</a>
    <a id="17275" href="unit-of-measure.html#17251" class="Function Operator">⦅</a> <a id="17277" href="unit-of-measure.html#17277" class="Bound">n</a> <a id="17279" href="unit-of-measure.html#17251" class="Function Operator">⦆</a> <a id="17281" class="Symbol">=</a> <a id="17283" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟦</a> <a id="17285" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="17287" href="unit-of-measure.html#17277" class="Bound">n</a> <a id="17289" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="17292" class="Number">1</a> <a id="17294" href="unit-of-measure.html#15986" class="InductiveConstructor Operator">⟧</a>

    <a id="DimensionalUnitVector.dist"></a><a id="17301" href="unit-of-measure.html#17301" class="Function">dist</a> <a id="17306" class="Symbol">:</a> <a id="17308" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17316" href="unit-of-measure.html#15366" class="Function">m</a>
    <a id="17322" href="unit-of-measure.html#17301" class="Function">dist</a> <a id="17327" class="Symbol">=</a> <a id="17329" href="unit-of-measure.html#17251" class="Function Operator">⦅</a> <a id="17331" class="Number">6</a> <a id="17333" href="unit-of-measure.html#17251" class="Function Operator">⦆</a>

    <a id="DimensionalUnitVector.speed'"></a><a id="17340" href="unit-of-measure.html#17340" class="Function">speed'</a> <a id="17347" class="Symbol">:</a> <a id="17349" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17357" href="unit-of-measure.html#15419" class="Function">m/s</a>
    <a id="17365" href="unit-of-measure.html#17340" class="Function">speed'</a> <a id="17372" class="Symbol">=</a> <a id="17374" href="unit-of-measure.html#17251" class="Function Operator">⦅</a> <a id="17376" class="Number">3</a> <a id="17378" href="unit-of-measure.html#17251" class="Function Operator">⦆</a>

    <a id="DimensionalUnitVector.time'"></a><a id="17385" href="unit-of-measure.html#17385" class="Function">time'</a> <a id="17391" class="Symbol">:</a> <a id="17393" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17401" href="unit-of-measure.html#15383" class="Function">s</a>
    <a id="17407" href="unit-of-measure.html#17385" class="Function">time'</a> <a id="17413" class="Symbol">=</a> <a id="17415" href="unit-of-measure.html#17251" class="Function Operator">⦅</a> <a id="17417" class="Number">2</a> <a id="17419" href="unit-of-measure.html#17251" class="Function Operator">⦆</a>

    <a id="DimensionalUnitVector.time''"></a><a id="17426" href="unit-of-measure.html#17426" class="Function">time''</a> <a id="17433" class="Symbol">:</a> <a id="17435" href="unit-of-measure.html#15936" class="Record">Measure</a> <a id="17443" href="unit-of-measure.html#15400" class="Function">ms</a>
    <a id="17450" href="unit-of-measure.html#17426" class="Function">time''</a> <a id="17457" class="Symbol">=</a> <a id="17459" href="unit-of-measure.html#17251" class="Function Operator">⦅</a> <a id="17461" class="Number">2</a> <a id="17463" href="unit-of-measure.html#17251" class="Function Operator">⦆</a>

    <a id="17470" href="unit-of-measure.html#17470" class="Function">_</a> <a id="17472" class="Symbol">:</a> <a id="17474" href="unit-of-measure.html#15149" class="Function">Unit→Measure</a> <a id="17487" href="unit-of-measure.html#15366" class="Function">m</a> <a id="17489" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="17491" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="17493" class="Number">1</a> <a id="17495" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="17498" class="Number">1</a>
    <a id="17504" class="Symbol">_</a> <a id="17506" class="Symbol">=</a> <a id="17508" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="17518" href="unit-of-measure.html#17518" class="Function">_</a> <a id="17520" class="Symbol">:</a> <a id="17522" href="unit-of-measure.html#16169" class="Function">std</a> <a id="17526" href="unit-of-measure.html#17301" class="Function">dist</a> <a id="17531" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="17533" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="17535" class="Number">6</a> <a id="17537" href="unit-of-measure.html#989" class="Function Operator">/q</a> <a id="17540" class="Number">1</a>
    <a id="17546" class="Symbol">_</a> <a id="17548" class="Symbol">=</a> <a id="17550" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="17560" href="unit-of-measure.html#17560" class="Function">_</a> <a id="17562" class="Symbol">:</a> <a id="17564" href="unit-of-measure.html#17340" class="Function">speed'</a> <a id="17571" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="17573" href="unit-of-measure.html#17024" class="Function">speed</a> <a id="17579" href="unit-of-measure.html#17301" class="Function">dist</a> <a id="17584" href="unit-of-measure.html#17385" class="Function">time'</a> <a id="17590" class="Symbol">⦃</a> <a id="17592" class="Symbol">_</a> <a id="17594" class="Symbol">⦄</a>
    <a id="17600" class="Symbol">_</a> <a id="17602" class="Symbol">=</a> <a id="17604" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="17614" href="unit-of-measure.html#17614" class="Function">_</a> <a id="17616" class="Symbol">:</a> <a id="17618" href="unit-of-measure.html#17301" class="Function">dist</a> <a id="17623" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="17625" href="unit-of-measure.html#16910" class="Function">distanceF</a> <a id="17635" href="unit-of-measure.html#17340" class="Function">speed'</a> <a id="17642" href="unit-of-measure.html#17385" class="Function">time'</a>
    <a id="17652" class="Symbol">_</a> <a id="17654" class="Symbol">=</a> <a id="17656" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<p>The biggest difference is now in multiplication.
Because the equality of vectors is easy to verify,
it is now possible to make tests with multiplication and division.
The results are always normalized, so there is no kilometer and
milliseconds after multiplication or division.</p>
<pre class="Agda">    <a id="17953" href="unit-of-measure.html#17953" class="Function">_</a> <a id="17955" class="Symbol">:</a> <a id="17957" class="Symbol">(</a><a id="17958" class="Number">2</a> <a id="17960" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="17963" href="unit-of-measure.html#15419" class="Function">m/s</a><a id="17966" class="Symbol">)</a> <a id="17968" href="unit-of-measure.html#16442" class="Function Operator">*m</a> <a id="17971" class="Symbol">(</a><a id="17972" class="Number">2</a> <a id="17974" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="17977" href="unit-of-measure.html#15419" class="Function">m/s</a><a id="17980" class="Symbol">)</a>
      <a id="17988" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="17990" class="Symbol">(</a><a id="17991" class="Number">4</a> <a id="17993" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="17996" class="Symbol">(</a><a id="17997" href="unit-of-measure.html#15419" class="Function">m/s</a> <a id="18001" href="unit-of-measure.html#14483" class="Function Operator">*u</a> <a id="18004" href="unit-of-measure.html#15419" class="Function">m/s</a><a id="18007" class="Symbol">))</a>
    <a id="18014" class="Symbol">_</a> <a id="18016" class="Symbol">=</a> <a id="18018" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="18028" href="unit-of-measure.html#18028" class="Function">_</a> <a id="18030" class="Symbol">:</a> <a id="18032" class="Symbol">(</a><a id="18033" class="Number">2</a> <a id="18035" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="18038" href="unit-of-measure.html#15436" class="Function">km</a><a id="18040" class="Symbol">)</a> <a id="18042" href="unit-of-measure.html#16442" class="Function Operator">*m</a> <a id="18045" class="Symbol">(</a><a id="18046" class="Number">6</a> <a id="18048" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="18051" href="unit-of-measure.html#15419" class="Function">m/s</a><a id="18054" class="Symbol">)</a>
      <a id="18062" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="18064" class="Symbol">(</a><a id="18065" class="Number">12000</a> <a id="18071" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="18074" class="Symbol">(</a><a id="18075" href="unit-of-measure.html#15366" class="Function">m</a> <a id="18077" href="unit-of-measure.html#14483" class="Function Operator">*u</a> <a id="18080" href="unit-of-measure.html#15419" class="Function">m/s</a><a id="18083" class="Symbol">))</a>
    <a id="18090" class="Symbol">_</a> <a id="18092" class="Symbol">=</a> <a id="18094" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="18104" href="unit-of-measure.html#18104" class="Function">_</a> <a id="18106" class="Symbol">:</a> <a id="18108" class="Symbol">(</a><a id="18109" href="unit-of-measure.html#16543" class="Function Operator">_/m_</a> <a id="18114" class="Symbol">(</a><a id="18115" class="Number">10</a> <a id="18118" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="18121" href="unit-of-measure.html#15366" class="Function">m</a><a id="18122" class="Symbol">)</a> <a id="18124" class="Symbol">(</a><a id="18125" class="Number">2</a> <a id="18127" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="18130" href="unit-of-measure.html#15400" class="Function">ms</a><a id="18132" class="Symbol">)</a> <a id="18134" class="Symbol">⦃</a> <a id="18136" class="Symbol">_</a> <a id="18138" class="Symbol">⦄)</a>
      <a id="18147" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="18149" class="Symbol">(</a><a id="18150" class="Number">5000</a> <a id="18155" href="unit-of-measure.html#16875" class="Function Operator">⋆⋆</a> <a id="18158" class="Symbol">(</a><a id="18159" href="unit-of-measure.html#15366" class="Function">m</a> <a id="18161" href="unit-of-measure.html#14525" class="Function Operator">/u</a> <a id="18164" href="unit-of-measure.html#15383" class="Function">s</a><a id="18165" class="Symbol">))</a>
    <a id="18172" class="Symbol">_</a> <a id="18174" class="Symbol">=</a> <a id="18176" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
    </section>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a style="color:yellow;" href="http://jaspervdj.be/hakyll">Hakyll</a> with
            <a style="color:yellow;" href="https://github.com/guilhermehas/guilhermehas.github.io">source code</a>
        </footer>
    </body>
</html>
