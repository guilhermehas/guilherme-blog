<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Guilherme Silva Blog - Types for units of measure</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="Agda.css" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../">Guilherme Silva</a>
            </div>
            <nav>
                <a href="../">Home</a>
                <a href="../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <h1>Types for units of measure</h1>
            <article>
    <section class="header">
        Posted on December 18, 2021
        
            by Guilherme
        
    </section>
    <section>
        <h1 id="motivation">Motivation</h1>
<p>My motivation to create types for units of measure is to try to avoid bugs when dealing with dimensional. For example, using these types, it would be impossible to add numbers of different dimensional. Another advantage of using them is that when you deal with multiplication and division, the measure of both values is multiples and divided.</p>
<h1 id="imports">Imports</h1>
<p>Importing libraries of Agda Stdlib:</p>
<pre class="Agda"><a id="489" class="Keyword">module</a> <a id="496" href="unit-of-measure.html" class="Module">unit-of-measure</a> <a id="512" class="Keyword">where</a>

<a id="519" class="Keyword">open</a> <a id="524" class="Keyword">import</a> <a id="531" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Level.html" class="Module">Level</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Algebra.Core.html" class="Module">Algebra.Core</a>
<a id="609" class="Keyword">open</a> <a id="614" class="Keyword">import</a> <a id="621" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="630" class="Keyword">hiding</a> <a id="637" class="Symbol">(</a><a id="638" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="641" class="Symbol">;</a> <a id="643" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="646" class="Symbol">;</a> <a id="648" href="Data.Nat.Properties.html#2529" class="Function Operator">_≟_</a><a id="651" class="Symbol">;</a> <a id="653" href="Data.Nat.Base.html#2475" class="Function">NonZero</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="684" class="Keyword">hiding</a> <a id="691" class="Symbol">(</a><a id="692" href="Data.Bool.Properties.html#1126" class="Function Operator">_≟_</a><a id="695" class="Symbol">)</a>
<a id="697" class="Keyword">open</a> <a id="702" class="Keyword">import</a> <a id="709" href="Data.Vec.html" class="Module">Data.Vec</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Data.Product.html" class="Module">Data.Product</a>
<a id="743" class="Keyword">open</a> <a id="748" class="Keyword">import</a> <a id="755" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="769" class="Symbol">as</a> <a id="772" class="Module">ℚ</a>
  <a id="776" class="Keyword">renaming</a> <a id="785" class="Symbol">(</a><a id="786" href="Data.Rational.Base.html#6099" class="Function Operator">_+_</a> <a id="790" class="Symbol">to</a> <a id="793" class="Function Operator">_+q_</a><a id="797" class="Symbol">;</a> <a id="799" href="Data.Rational.Base.html#6190" class="Function Operator">_*_</a> <a id="803" class="Symbol">to</a> <a id="806" class="Function Operator">_*q_</a><a id="810" class="Symbol">;</a> <a id="812" href="Data.Rational.Base.html#4102" class="Function Operator">_/_</a> <a id="816" class="Symbol">to</a> <a id="819" class="Function Operator">_/q_</a><a id="823" class="Symbol">)</a>
  <a id="827" class="Keyword">hiding</a> <a id="834" class="Symbol">(</a><a id="835" href="Data.Rational.Properties.html#3468" class="Function Operator">_≟_</a><a id="838" class="Symbol">;</a> <a id="840" href="Data.Rational.Base.html#6568" class="Function Operator">_÷_</a><a id="843" class="Symbol">;</a> <a id="845" href="Data.Rational.Base.html#6360" class="Function Operator">1/_</a><a id="848" class="Symbol">;</a> <a id="850" href="Data.Rational.Base.html#4738" class="Function">NonZero</a><a id="857" class="Symbol">;</a> <a id="859" href="Data.Rational.Base.html#3299" class="Function Operator">-_</a><a id="861" class="Symbol">)</a>
<a id="863" class="Keyword">open</a> <a id="868" class="Keyword">import</a> <a id="875" href="Data.Integer.html" class="Module">Data.Integer</a>
  <a id="890" class="Keyword">renaming</a> <a id="899" class="Symbol">(</a><a id="900" href="Data.Integer.Base.html#4844" class="Function Operator">_+_</a> <a id="904" class="Symbol">to</a> <a id="907" class="Function Operator">_+z_</a><a id="911" class="Symbol">;</a> <a id="913" href="Data.Integer.Base.html#5169" class="Function Operator">_*_</a> <a id="917" class="Symbol">to</a> <a id="920" class="Function Operator">_*z_</a><a id="924" class="Symbol">;</a> <a id="926" href="Data.Integer.Base.html#5023" class="Function Operator">_-_</a> <a id="930" class="Symbol">to</a> <a id="933" class="Function Operator">_-z_</a><a id="937" class="Symbol">)</a>
  <a id="941" class="Keyword">hiding</a> <a id="948" class="Symbol">(</a><a id="949" href="Data.Integer.Properties.html#2102" class="Function Operator">_≟_</a><a id="952" class="Symbol">;</a> <a id="954" href="Data.Integer.Base.html#2963" class="Function">NonZero</a><a id="961" class="Symbol">)</a>
<a id="963" class="Keyword">open</a> <a id="968" class="Keyword">import</a> <a id="975" href="Data.Integer.Instances.html" class="Module">Data.Integer.Instances</a>
<a id="998" class="Keyword">open</a> <a id="1003" class="Keyword">import</a> <a id="1010" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="1026" class="Keyword">open</a> <a id="1031" class="Keyword">import</a> <a id="1038" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1076" class="Keyword">hiding</a> <a id="1083" class="Symbol">(</a><a id="1084" href="Relation.Binary.PropositionalEquality.html#4689" class="Function">Extensionality</a><a id="1098" class="Symbol">)</a>
<a id="1100" class="Keyword">open</a> <a id="1105" class="Keyword">import</a> <a id="1112" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1129" class="Keyword">open</a> <a id="1134" class="Keyword">import</a> <a id="1141" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="1168" class="Keyword">open</a> <a id="1173" class="Keyword">import</a> <a id="1180" href="Function.html" class="Module">Function</a>
<a id="1189" class="Keyword">open</a> <a id="1194" class="Keyword">import</a> <a id="1201" href="internal-library.html" class="Module">internal-library</a>

<a id="1219" class="Keyword">private</a>
  <a id="1229" class="Keyword">variable</a>
    <a id="1242" href="unit-of-measure.html#1242" class="Generalizable">ℓ</a> <a id="1244" href="unit-of-measure.html#1244" class="Generalizable">ℓ′</a> <a id="1247" class="Symbol">:</a> <a id="1249" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>
<h1 id="minimalist-case">Minimalist Case</h1>
<p>In the minimalist case, I will only define seconds and meters. In more complex examples, it is possible to define more dimensional.</p>
<pre class="Agda"><a id="1417" class="Keyword">module</a> <a id="MinimalistCase"></a><a id="1424" href="unit-of-measure.html#1424" class="Module">MinimalistCase</a> <a id="1439" class="Keyword">where</a>

  <a id="1448" class="Keyword">record</a> <a id="MinimalistCase.Dimensional"></a><a id="1455" href="unit-of-measure.html#1455" class="Record">Dimensional</a> <a id="1467" class="Symbol">:</a> <a id="1469" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1473" class="Keyword">where</a>
    <a id="1483" class="Keyword">constructor</a> <a id="MinimalistCase.m^_s^_"></a><a id="1495" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^_s^_</a>
    <a id="1506" class="Keyword">field</a>
      <a id="MinimalistCase.Dimensional.meters"></a><a id="1518" href="unit-of-measure.html#1518" class="Field">meters</a>  <a id="1526" class="Symbol">:</a> <a id="1528" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
      <a id="MinimalistCase.Dimensional.seconds"></a><a id="1536" href="unit-of-measure.html#1536" class="Field">seconds</a> <a id="1544" class="Symbol">:</a> <a id="1546" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>

  <a id="MinimalistCase.m^_"></a><a id="1551" href="unit-of-measure.html#1551" class="Function Operator">m^_</a> <a id="1555" class="Symbol">:</a> <a id="1557" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="1559" class="Symbol">→</a> <a id="1561" href="unit-of-measure.html#1455" class="Record">Dimensional</a>
  <a id="1575" href="unit-of-measure.html#1551" class="Function Operator">m^</a> <a id="1578" href="unit-of-measure.html#1578" class="Bound">z</a> <a id="1580" class="Symbol">=</a> <a id="1582" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="1585" href="unit-of-measure.html#1578" class="Bound">z</a> <a id="1587" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="1593" class="Number">0</a><a id="1594" class="Symbol">)</a>

  <a id="MinimalistCase.s^_"></a><a id="1599" href="unit-of-measure.html#1599" class="Function Operator">s^_</a> <a id="1603" class="Symbol">:</a> <a id="1605" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="1607" class="Symbol">→</a> <a id="1609" href="unit-of-measure.html#1455" class="Record">Dimensional</a>
  <a id="1623" href="unit-of-measure.html#1599" class="Function Operator">s^</a> <a id="1626" href="unit-of-measure.html#1626" class="Bound">z</a> <a id="1628" class="Symbol">=</a> <a id="1630" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="1633" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="1635" class="Number">0</a> <a id="1637" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="1640" href="unit-of-measure.html#1626" class="Bound">z</a>
</pre>
<h2 id="measure-type">Measure Type</h2>
<p>In the measure type, the dimensional is in the type. It will be useful when defining the addition of values with the same dimensional.</p>
<pre class="Agda">  <a id="1806" class="Keyword">record</a> <a id="MinimalistCase.Measure"></a><a id="1813" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="1821" class="Symbol">(</a><a id="1822" href="unit-of-measure.html#1822" class="Bound">dimensional</a> <a id="1834" class="Symbol">:</a> <a id="1836" href="unit-of-measure.html#1455" class="Record">Dimensional</a><a id="1847" class="Symbol">)</a> <a id="1849" class="Symbol">:</a> <a id="1851" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1855" class="Keyword">where</a>
    <a id="1865" class="Keyword">constructor</a> <a id="MinimalistCase.⟦_⟧"></a><a id="1877" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦_⟧</a>
    <a id="1885" class="Keyword">field</a>
      <a id="MinimalistCase.Measure.measure"></a><a id="1897" href="unit-of-measure.html#1897" class="Field">measure</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="MinimalistCase.Measure.NonZero"></a><a id="1913" href="unit-of-measure.html#1913" class="Function">NonZero</a> <a id="1921" class="Symbol">:</a> <a id="1923" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="1931" href="unit-of-measure.html#1913" class="Function">NonZero</a> <a id="1939" class="Symbol">=</a> <a id="1941" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="1951" href="unit-of-measure.html#1897" class="Field">measure</a>

  <a id="1962" class="Keyword">open</a> <a id="1967" href="unit-of-measure.html#1813" class="Module">Measure</a>
</pre>
<p>These variables will be used later:</p>
<pre class="Agda">  <a id="2023" class="Keyword">private</a>
    <a id="2035" class="Keyword">variable</a>
      <a id="2050" href="unit-of-measure.html#2050" class="Generalizable">d</a> <a id="2052" href="unit-of-measure.html#2052" class="Generalizable">d₁</a> <a id="2055" href="unit-of-measure.html#2055" class="Generalizable">d₂</a> <a id="2058" class="Symbol">:</a> <a id="2060" href="unit-of-measure.html#1455" class="Record">Dimensional</a>
</pre>
<h3 id="operations">Operations</h3>
<p>In addition, both have to have the same Dimensional Type.</p>
<pre class="Agda">  <a id="MinimalistCase._+d_"></a><a id="2158" href="unit-of-measure.html#2158" class="Function Operator">_+d_</a> <a id="2163" class="Symbol">:</a> <a id="2165" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2169" class="Symbol">(</a><a id="2170" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2178" href="unit-of-measure.html#2050" class="Generalizable">d</a><a id="2179" class="Symbol">)</a>
  <a id="2183" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2185" href="unit-of-measure.html#2185" class="Bound">a</a> <a id="2187" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a> <a id="2189" href="unit-of-measure.html#2158" class="Function Operator">+d</a> <a id="2192" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2194" href="unit-of-measure.html#2194" class="Bound">b</a> <a id="2196" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a> <a id="2198" class="Symbol">=</a> <a id="2200" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2202" href="unit-of-measure.html#2185" class="Bound">a</a> <a id="2204" href="unit-of-measure.html#793" class="Function Operator">+q</a> <a id="2207" href="unit-of-measure.html#2194" class="Bound">b</a>  <a id="2210" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a>
</pre>
<p>In multiplication and division of dimensional, both meters and seconds are added and subtracted respectively.</p>
<pre class="Agda">  <a id="MinimalistCase._*u_"></a><a id="2334" href="unit-of-measure.html#2334" class="Function Operator">_*u_</a> <a id="2339" class="Symbol">:</a> <a id="2341" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2345" href="unit-of-measure.html#1455" class="Record">Dimensional</a>
  <a id="2359" class="Symbol">(</a><a id="2360" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2363" href="unit-of-measure.html#2363" class="Bound">mA</a> <a id="2366" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2369" href="unit-of-measure.html#2369" class="Bound">sA</a><a id="2371" class="Symbol">)</a> <a id="2373" href="unit-of-measure.html#2334" class="Function Operator">*u</a> <a id="2376" class="Symbol">(</a><a id="2377" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2380" href="unit-of-measure.html#2380" class="Bound">mB</a> <a id="2383" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2386" href="unit-of-measure.html#2386" class="Bound">sB</a><a id="2388" class="Symbol">)</a> <a id="2390" class="Symbol">=</a> <a id="2392" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2395" href="unit-of-measure.html#2363" class="Bound">mA</a> <a id="2398" href="unit-of-measure.html#907" class="Function Operator">+z</a> <a id="2401" href="unit-of-measure.html#2380" class="Bound">mB</a> <a id="2404" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2407" class="Symbol">(</a><a id="2408" href="unit-of-measure.html#2369" class="Bound">sA</a> <a id="2411" href="unit-of-measure.html#907" class="Function Operator">+z</a> <a id="2414" href="unit-of-measure.html#2386" class="Bound">sB</a><a id="2416" class="Symbol">)</a>

  <a id="MinimalistCase._/u_"></a><a id="2421" href="unit-of-measure.html#2421" class="Function Operator">_/u_</a> <a id="2426" class="Symbol">:</a> <a id="2428" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="2432" href="unit-of-measure.html#1455" class="Record">Dimensional</a>
  <a id="2446" class="Symbol">(</a><a id="2447" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2450" href="unit-of-measure.html#2450" class="Bound">mA</a> <a id="2453" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2456" href="unit-of-measure.html#2456" class="Bound">sA</a><a id="2458" class="Symbol">)</a> <a id="2460" href="unit-of-measure.html#2421" class="Function Operator">/u</a> <a id="2463" class="Symbol">(</a><a id="2464" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2467" href="unit-of-measure.html#2467" class="Bound">mB</a> <a id="2470" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2473" href="unit-of-measure.html#2473" class="Bound">sB</a><a id="2475" class="Symbol">)</a> <a id="2477" class="Symbol">=</a> <a id="2479" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2482" class="Symbol">(</a><a id="2483" href="unit-of-measure.html#2450" class="Bound">mA</a> <a id="2486" href="unit-of-measure.html#933" class="Function Operator">-z</a> <a id="2489" href="unit-of-measure.html#2467" class="Bound">mB</a><a id="2491" class="Symbol">)</a> <a id="2493" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2496" class="Symbol">(</a><a id="2497" href="unit-of-measure.html#2456" class="Bound">sA</a> <a id="2500" href="unit-of-measure.html#933" class="Function Operator">-z</a> <a id="2503" href="unit-of-measure.html#2473" class="Bound">sB</a><a id="2505" class="Symbol">)</a>
</pre>
<p>For multiplication and division of measures:</p>
<pre class="Agda">  <a id="MinimalistCase._*d_"></a><a id="2564" href="unit-of-measure.html#2564" class="Function Operator">_*d_</a> <a id="2569" class="Symbol">:</a> <a id="2571" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2579" href="unit-of-measure.html#2052" class="Generalizable">d₁</a> <a id="2582" class="Symbol">→</a> <a id="2584" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2592" href="unit-of-measure.html#2055" class="Generalizable">d₂</a> <a id="2595" class="Symbol">→</a> <a id="2597" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2605" class="Symbol">(</a><a id="2606" href="unit-of-measure.html#2052" class="Generalizable">d₁</a> <a id="2609" href="unit-of-measure.html#2334" class="Function Operator">*u</a> <a id="2612" href="unit-of-measure.html#2055" class="Generalizable">d₂</a><a id="2614" class="Symbol">)</a>
  <a id="2618" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2620" href="unit-of-measure.html#2620" class="Bound">x</a> <a id="2622" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a> <a id="2624" href="unit-of-measure.html#2564" class="Function Operator">*d</a> <a id="2627" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2629" href="unit-of-measure.html#2629" class="Bound">y</a> <a id="2631" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a> <a id="2633" class="Symbol">=</a> <a id="2635" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2637" href="unit-of-measure.html#2620" class="Bound">x</a> <a id="2639" href="unit-of-measure.html#806" class="Function Operator">*q</a> <a id="2642" href="unit-of-measure.html#2629" class="Bound">y</a> <a id="2644" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a>

  <a id="MinimalistCase._/d_"></a><a id="2649" href="unit-of-measure.html#2649" class="Function Operator">_/d_</a> <a id="2654" class="Symbol">:</a> <a id="2656" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2664" href="unit-of-measure.html#2052" class="Generalizable">d₁</a> <a id="2667" class="Symbol">→</a> <a id="2669" class="Symbol">(</a><a id="2670" href="unit-of-measure.html#2670" class="Bound">y</a> <a id="2672" class="Symbol">:</a> <a id="2674" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2682" href="unit-of-measure.html#2055" class="Generalizable">d₂</a><a id="2684" class="Symbol">)</a> <a id="2686" class="Symbol">→</a> <a id="2688" class="Symbol">⦃</a> <a id="2690" href="unit-of-measure.html#1913" class="Function">NonZero</a> <a id="2698" href="unit-of-measure.html#2670" class="Bound">y</a> <a id="2700" class="Symbol">⦄</a> <a id="2702" class="Symbol">→</a> <a id="2704" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="2712" class="Symbol">(</a><a id="2713" href="unit-of-measure.html#2052" class="Generalizable">d₁</a> <a id="2716" href="unit-of-measure.html#2421" class="Function Operator">/u</a> <a id="2719" href="unit-of-measure.html#2055" class="Generalizable">d₂</a><a id="2721" class="Symbol">)</a>
  <a id="2725" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2727" href="unit-of-measure.html#2727" class="Bound">x</a> <a id="2729" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a> <a id="2731" href="unit-of-measure.html#2649" class="Function Operator">/d</a> <a id="2734" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2736" href="unit-of-measure.html#2736" class="Bound">y</a> <a id="2738" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a> <a id="2740" class="Symbol">=</a> <a id="2742" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="2744" href="unit-of-measure.html#2727" class="Bound">x</a> <a id="2746" href="internal-library.html#576" class="Function Operator">÷</a> <a id="2748" href="unit-of-measure.html#2736" class="Bound">y</a> <a id="2750" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a>
</pre>
<h3 id="defining-equations">Defining equations</h3>
<p>One of the simplest equations in Physics are <code>distance = speed * time</code> and <code>speed = distance / time</code>. Both will be defined in the next lines:</p>
<pre class="Agda">  <a id="MinimalistCase.ud"></a><a id="2930" href="unit-of-measure.html#2930" class="Function">ud</a> <a id="2933" class="Symbol">=</a> <a id="2935" href="unit-of-measure.html#1551" class="Function Operator">m^</a> <a id="2938" class="Symbol">(</a><a id="2939" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2941" class="Number">1</a><a id="2942" class="Symbol">)</a>
  <a id="MinimalistCase.ut"></a><a id="2946" href="unit-of-measure.html#2946" class="Function">ut</a> <a id="2949" class="Symbol">=</a> <a id="2951" href="unit-of-measure.html#1599" class="Function Operator">s^</a> <a id="2954" class="Symbol">(</a><a id="2955" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2957" class="Number">1</a><a id="2958" class="Symbol">)</a>
  <a id="MinimalistCase.uv"></a><a id="2962" href="unit-of-measure.html#2962" class="Function">uv</a> <a id="2965" class="Symbol">=</a> <a id="2967" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">m^</a> <a id="2970" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2972" class="Number">1</a> <a id="2974" href="unit-of-measure.html#1495" class="InductiveConstructor Operator">s^</a> <a id="2977" class="Symbol">(</a><a id="2978" href="Data.Integer.Base.html#4499" class="Function Operator">-</a> <a id="2980" class="Symbol">(</a><a id="2981" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2983" class="Number">1</a><a id="2984" class="Symbol">))</a>

  <a id="MinimalistCase.distance"></a><a id="2990" href="unit-of-measure.html#2990" class="Function">distance</a> <a id="2999" class="Symbol">:</a> <a id="3001" class="Symbol">(</a><a id="3002" href="unit-of-measure.html#3002" class="Bound">speed</a> <a id="3008" class="Symbol">:</a> <a id="3010" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3018" href="unit-of-measure.html#2962" class="Function">uv</a><a id="3020" class="Symbol">)</a>
             <a id="3035" class="Symbol">(</a><a id="3036" href="unit-of-measure.html#3036" class="Bound">time</a>  <a id="3042" class="Symbol">:</a> <a id="3044" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3052" href="unit-of-measure.html#2946" class="Function">ut</a><a id="3054" class="Symbol">)</a>
                    <a id="3076" class="Symbol">→</a> <a id="3078" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3086" href="unit-of-measure.html#2930" class="Function">ud</a>
  <a id="3091" href="unit-of-measure.html#2990" class="Function">distance</a> <a id="3100" href="unit-of-measure.html#3100" class="Bound">speed</a> <a id="3106" href="unit-of-measure.html#3106" class="Bound">time</a> <a id="3111" class="Symbol">=</a> <a id="3113" href="unit-of-measure.html#3100" class="Bound">speed</a> <a id="3119" href="unit-of-measure.html#2564" class="Function Operator">*d</a> <a id="3122" href="unit-of-measure.html#3106" class="Bound">time</a>

  <a id="MinimalistCase.speed"></a><a id="3130" href="unit-of-measure.html#3130" class="Function">speed</a> <a id="3136" class="Symbol">:</a> <a id="3138" class="Symbol">(</a><a id="3139" href="unit-of-measure.html#3139" class="Bound">distance</a> <a id="3148" class="Symbol">:</a> <a id="3150" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3158" href="unit-of-measure.html#2930" class="Function">ud</a><a id="3160" class="Symbol">)</a>
          <a id="3172" class="Symbol">(</a><a id="3173" href="unit-of-measure.html#3173" class="Bound">time</a>     <a id="3182" class="Symbol">:</a> <a id="3184" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3192" href="unit-of-measure.html#2946" class="Function">ut</a><a id="3194" class="Symbol">)</a> <a id="3196" class="Symbol">⦃</a> <a id="3198" href="unit-of-measure.html#3198" class="Symbol">_</a> <a id="3200" class="Symbol">:</a> <a id="3202" href="unit-of-measure.html#1913" class="Function">NonZero</a> <a id="3210" href="unit-of-measure.html#3173" class="Bound">time</a> <a id="3215" class="Symbol">⦄</a>
                    <a id="3237" class="Symbol">→</a> <a id="3239" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3247" href="unit-of-measure.html#2962" class="Function">uv</a>
  <a id="3252" href="unit-of-measure.html#3130" class="Function">speed</a> <a id="3258" href="unit-of-measure.html#3258" class="Bound">distance</a> <a id="3267" href="unit-of-measure.html#3267" class="Bound">time</a> <a id="3272" class="Symbol">=</a> <a id="3274" href="unit-of-measure.html#3258" class="Bound">distance</a> <a id="3283" href="unit-of-measure.html#2649" class="Function Operator">/d</a> <a id="3286" href="unit-of-measure.html#3267" class="Bound">time</a>
</pre>
<h3 id="examples">Examples</h3>
<p>These are some examples of operations:</p>
<pre class="Agda">  <a id="3356" class="Keyword">private</a> <a id="3364" class="Keyword">module</a> <a id="MinimalistCase.tests"></a><a id="3371" href="unit-of-measure.html#3371" class="Module">tests</a> <a id="3377" class="Keyword">where</a>
    <a id="MinimalistCase.tests.⦅_⦆"></a><a id="3387" href="unit-of-measure.html#3387" class="Function Operator">⦅_⦆</a> <a id="3391" class="Symbol">:</a> <a id="3393" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3395" class="Symbol">→</a> <a id="3397" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3405" href="unit-of-measure.html#2050" class="Generalizable">d</a>
    <a id="3411" href="unit-of-measure.html#3387" class="Function Operator">⦅</a> <a id="3413" href="unit-of-measure.html#3413" class="Bound">n</a> <a id="3415" href="unit-of-measure.html#3387" class="Function Operator">⦆</a> <a id="3417" class="Symbol">=</a> <a id="3419" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟦</a> <a id="3421" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3423" href="unit-of-measure.html#3413" class="Bound">n</a> <a id="3425" href="unit-of-measure.html#819" class="Function Operator">/q</a> <a id="3428" class="Number">1</a> <a id="3430" href="unit-of-measure.html#1877" class="InductiveConstructor Operator">⟧</a>

    <a id="MinimalistCase.tests.dist"></a><a id="3437" href="unit-of-measure.html#3437" class="Function">dist</a> <a id="3442" class="Symbol">:</a> <a id="3444" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3452" href="unit-of-measure.html#2930" class="Function">ud</a>
    <a id="3459" href="unit-of-measure.html#3437" class="Function">dist</a> <a id="3464" class="Symbol">=</a> <a id="3466" href="unit-of-measure.html#3387" class="Function Operator">⦅</a> <a id="3468" class="Number">6</a> <a id="3470" href="unit-of-measure.html#3387" class="Function Operator">⦆</a>

    <a id="MinimalistCase.tests.speed'"></a><a id="3477" href="unit-of-measure.html#3477" class="Function">speed'</a> <a id="3484" class="Symbol">:</a> <a id="3486" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3494" href="unit-of-measure.html#2962" class="Function">uv</a>
    <a id="3501" href="unit-of-measure.html#3477" class="Function">speed'</a> <a id="3508" class="Symbol">=</a> <a id="3510" href="unit-of-measure.html#3387" class="Function Operator">⦅</a> <a id="3512" class="Number">3</a> <a id="3514" href="unit-of-measure.html#3387" class="Function Operator">⦆</a>

    <a id="MinimalistCase.tests.time"></a><a id="3521" href="unit-of-measure.html#3521" class="Function">time</a> <a id="3526" class="Symbol">:</a> <a id="3528" href="unit-of-measure.html#1813" class="Record">Measure</a> <a id="3536" href="unit-of-measure.html#2946" class="Function">ut</a>
    <a id="3543" href="unit-of-measure.html#3521" class="Function">time</a> <a id="3548" class="Symbol">=</a> <a id="3550" href="unit-of-measure.html#3387" class="Function Operator">⦅</a> <a id="3552" class="Number">2</a> <a id="3554" href="unit-of-measure.html#3387" class="Function Operator">⦆</a>

    <a id="3561" href="unit-of-measure.html#3561" class="Function">_</a> <a id="3563" class="Symbol">:</a> <a id="3565" href="unit-of-measure.html#3477" class="Function">speed'</a> <a id="3572" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3574" href="unit-of-measure.html#3130" class="Function">speed</a> <a id="3580" href="unit-of-measure.html#3437" class="Function">dist</a> <a id="3585" href="unit-of-measure.html#3521" class="Function">time</a> <a id="3590" class="Symbol">⦃</a> <a id="3592" class="Symbol">_</a> <a id="3594" class="Symbol">⦄</a>
    <a id="3600" class="Symbol">_</a> <a id="3602" class="Symbol">=</a> <a id="3604" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

    <a id="3614" href="unit-of-measure.html#3614" class="Function">_</a> <a id="3616" class="Symbol">:</a> <a id="3618" href="unit-of-measure.html#3437" class="Function">dist</a> <a id="3623" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3625" href="unit-of-measure.html#2990" class="Function">distance</a> <a id="3634" href="unit-of-measure.html#3477" class="Function">speed'</a> <a id="3641" href="unit-of-measure.html#3521" class="Function">time</a>
    <a id="3650" class="Symbol">_</a> <a id="3652" class="Symbol">=</a> <a id="3654" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h1 id="dimensional-in-data-type">Dimensional in Data Type</h1>
<p>In this case, dimensional is in the data type.</p>
<pre class="Agda"><a id="3744" class="Keyword">module</a> <a id="DimensionalInData"></a><a id="3751" href="unit-of-measure.html#3751" class="Module">DimensionalInData</a> <a id="3769" class="Keyword">where</a>

  <a id="3778" class="Keyword">data</a> <a id="DimensionalInData.Dimensional"></a><a id="3783" href="unit-of-measure.html#3783" class="Datatype">Dimensional</a> <a id="3795" class="Symbol">:</a> <a id="3797" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3801" class="Keyword">where</a>
    <a id="DimensionalInData.Dimensional.m"></a><a id="3811" href="unit-of-measure.html#3811" class="InductiveConstructor">m</a> <a id="DimensionalInData.Dimensional.s"></a><a id="3813" href="unit-of-measure.html#3813" class="InductiveConstructor">s</a> <a id="3815" class="Symbol">:</a> <a id="3817" href="unit-of-measure.html#3783" class="Datatype">Dimensional</a>
</pre>
<p>Each dimensional has its power, that is an integer number. For example, the area dimensional is <code>m^2</code> and the meter power is 2.</p>
<pre class="Agda">  <a id="DimensionalInData.DimensionalPower"></a><a id="3969" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a> <a id="3986" class="Symbol">=</a> <a id="3988" href="unit-of-measure.html#3783" class="Datatype">Dimensional</a> <a id="4000" class="Symbol">→</a> <a id="4002" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>

  <a id="DimensionalInData.m^_"></a><a id="4007" href="unit-of-measure.html#4007" class="Function Operator">m^_</a> <a id="4011" class="Symbol">:</a> <a id="4013" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="4015" class="Symbol">→</a> <a id="4017" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a>
  <a id="4036" class="Symbol">(</a><a id="4037" href="unit-of-measure.html#4007" class="Function Operator">m^</a> <a id="4040" href="unit-of-measure.html#4040" class="Bound">z</a><a id="4041" class="Symbol">)</a> <a id="4043" href="unit-of-measure.html#3811" class="InductiveConstructor">m</a> <a id="4045" class="Symbol">=</a> <a id="4047" href="unit-of-measure.html#4040" class="Bound">z</a>
  <a id="4051" class="Symbol">(</a><a id="4052" href="unit-of-measure.html#4007" class="Function Operator">m^</a> <a id="4055" href="unit-of-measure.html#4055" class="Bound">z</a><a id="4056" class="Symbol">)</a> <a id="4058" href="unit-of-measure.html#3813" class="InductiveConstructor">s</a> <a id="4060" class="Symbol">=</a> <a id="4062" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4064" class="Number">0</a>

  <a id="DimensionalInData.s^_"></a><a id="4069" href="unit-of-measure.html#4069" class="Function Operator">s^_</a> <a id="4073" class="Symbol">:</a> <a id="4075" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a> <a id="4077" class="Symbol">→</a> <a id="4079" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a>
  <a id="4098" class="Symbol">(</a><a id="4099" href="unit-of-measure.html#4069" class="Function Operator">s^</a> <a id="4102" href="unit-of-measure.html#4102" class="Bound">z</a><a id="4103" class="Symbol">)</a> <a id="4105" href="unit-of-measure.html#3811" class="InductiveConstructor">m</a> <a id="4107" class="Symbol">=</a> <a id="4109" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4111" class="Number">0</a>
  <a id="4115" class="Symbol">(</a><a id="4116" href="unit-of-measure.html#4069" class="Function Operator">s^</a> <a id="4119" href="unit-of-measure.html#4119" class="Bound">z</a><a id="4120" class="Symbol">)</a> <a id="4122" href="unit-of-measure.html#3813" class="InductiveConstructor">s</a> <a id="4124" class="Symbol">=</a> <a id="4126" href="unit-of-measure.html#4119" class="Bound">z</a>
</pre>
<h2 id="measure-type-1">Measure Type</h2>
<p>The measure has its dimensional in its type like in the last code.</p>
<pre class="Agda">  <a id="4224" class="Keyword">private</a>
    <a id="4236" class="Keyword">variable</a>
      <a id="4251" href="unit-of-measure.html#4251" class="Generalizable">d</a> <a id="4253" href="unit-of-measure.html#4253" class="Generalizable">d₁</a> <a id="4256" href="unit-of-measure.html#4256" class="Generalizable">d₂</a> <a id="4259" class="Symbol">:</a> <a id="4261" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a>

  <a id="4281" class="Keyword">record</a> <a id="DimensionalInData.Measure"></a><a id="4288" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4296" class="Symbol">(</a><a id="4297" href="unit-of-measure.html#4297" class="Bound">_</a> <a id="4299" class="Symbol">:</a> <a id="4301" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a><a id="4317" class="Symbol">)</a> <a id="4319" class="Symbol">:</a> <a id="4321" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4325" class="Keyword">where</a>
    <a id="4335" class="Keyword">constructor</a> <a id="DimensionalInData.⟦_⟧"></a><a id="4347" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦_⟧</a>
    <a id="4355" class="Keyword">field</a>
      <a id="DimensionalInData.Measure.measure"></a><a id="4367" href="unit-of-measure.html#4367" class="Field">measure</a> <a id="4375" class="Symbol">:</a> <a id="4377" href="Data.Rational.Base.html#1883" class="Record">ℚ</a>
    <a id="DimensionalInData.Measure.NonZero"></a><a id="4383" href="unit-of-measure.html#4383" class="Function">NonZero</a> <a id="4391" class="Symbol">:</a> <a id="4393" href="Agda.Primitive.html#326" class="Primitive">Set</a>
    <a id="4401" href="unit-of-measure.html#4383" class="Function">NonZero</a> <a id="4409" class="Symbol">=</a> <a id="4411" href="Data.Rational.Base.html#4738" class="Function">ℚ.NonZero</a> <a id="4421" href="unit-of-measure.html#4367" class="Field">measure</a>

  <a id="4432" class="Keyword">open</a> <a id="4437" href="unit-of-measure.html#4288" class="Module">Measure</a>
</pre>
<h3 id="operations-1">Operations</h3>
<p>The multiplication of two measures is a function that returns the sum of two-dimension. And the division is the subtraction.</p>
<pre class="Agda">  <a id="DimensionalInData._*u_"></a><a id="4598" href="unit-of-measure.html#4598" class="Function Operator">_*u_</a> <a id="4603" class="Symbol">:</a> <a id="4605" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="4609" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a>
  <a id="4628" class="Symbol">(</a><a id="4629" href="unit-of-measure.html#4629" class="Bound">f</a> <a id="4631" href="unit-of-measure.html#4598" class="Function Operator">*u</a> <a id="4634" href="unit-of-measure.html#4634" class="Bound">g</a><a id="4635" class="Symbol">)</a> <a id="4637" href="unit-of-measure.html#4637" class="Bound">x</a> <a id="4639" class="Symbol">=</a> <a id="4641" href="unit-of-measure.html#4629" class="Bound">f</a> <a id="4643" href="unit-of-measure.html#4637" class="Bound">x</a> <a id="4645" href="unit-of-measure.html#907" class="Function Operator">+z</a> <a id="4648" href="unit-of-measure.html#4634" class="Bound">g</a> <a id="4650" href="unit-of-measure.html#4637" class="Bound">x</a>

  <a id="DimensionalInData._/u_"></a><a id="4655" href="unit-of-measure.html#4655" class="Function Operator">_/u_</a> <a id="4660" class="Symbol">:</a> <a id="4662" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="4666" href="unit-of-measure.html#3969" class="Function">DimensionalPower</a>
  <a id="4685" class="Symbol">(</a><a id="4686" href="unit-of-measure.html#4686" class="Bound">f</a> <a id="4688" href="unit-of-measure.html#4655" class="Function Operator">/u</a> <a id="4691" href="unit-of-measure.html#4691" class="Bound">g</a><a id="4692" class="Symbol">)</a> <a id="4694" href="unit-of-measure.html#4694" class="Bound">x</a> <a id="4696" class="Symbol">=</a> <a id="4698" href="unit-of-measure.html#4686" class="Bound">f</a> <a id="4700" href="unit-of-measure.html#4694" class="Bound">x</a> <a id="4702" href="unit-of-measure.html#933" class="Function Operator">-z</a> <a id="4705" href="unit-of-measure.html#4691" class="Bound">g</a> <a id="4707" href="unit-of-measure.html#4694" class="Bound">x</a>
</pre>
<p>For multiplication and division of measures:</p>
<pre class="Agda">  <a id="DimensionalInData._*d_"></a><a id="4766" href="unit-of-measure.html#4766" class="Function Operator">_*d_</a> <a id="4771" class="Symbol">:</a> <a id="4773" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4781" href="unit-of-measure.html#4253" class="Generalizable">d₁</a> <a id="4784" class="Symbol">→</a> <a id="4786" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4794" href="unit-of-measure.html#4256" class="Generalizable">d₂</a> <a id="4797" class="Symbol">→</a> <a id="4799" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4807" class="Symbol">(</a><a id="4808" href="unit-of-measure.html#4253" class="Generalizable">d₁</a> <a id="4811" href="unit-of-measure.html#4598" class="Function Operator">*u</a> <a id="4814" href="unit-of-measure.html#4256" class="Generalizable">d₂</a><a id="4816" class="Symbol">)</a>
  <a id="4820" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="4822" href="unit-of-measure.html#4822" class="Bound">x</a> <a id="4824" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a> <a id="4826" href="unit-of-measure.html#4766" class="Function Operator">*d</a> <a id="4829" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="4831" href="unit-of-measure.html#4831" class="Bound">y</a> <a id="4833" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a> <a id="4835" class="Symbol">=</a> <a id="4837" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="4839" href="unit-of-measure.html#4822" class="Bound">x</a> <a id="4841" href="unit-of-measure.html#806" class="Function Operator">*q</a> <a id="4844" href="unit-of-measure.html#4831" class="Bound">y</a> <a id="4846" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a>

  <a id="DimensionalInData._/d_"></a><a id="4851" href="unit-of-measure.html#4851" class="Function Operator">_/d_</a> <a id="4856" class="Symbol">:</a> <a id="4858" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4866" href="unit-of-measure.html#4253" class="Generalizable">d₁</a> <a id="4869" class="Symbol">→</a> <a id="4871" class="Symbol">(</a><a id="4872" href="unit-of-measure.html#4872" class="Bound">y</a> <a id="4874" class="Symbol">:</a> <a id="4876" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4884" href="unit-of-measure.html#4256" class="Generalizable">d₂</a><a id="4886" class="Symbol">)</a> <a id="4888" class="Symbol">→</a> <a id="4890" class="Symbol">⦃</a> <a id="4892" href="unit-of-measure.html#4383" class="Function">NonZero</a> <a id="4900" href="unit-of-measure.html#4872" class="Bound">y</a> <a id="4902" class="Symbol">⦄</a> <a id="4904" class="Symbol">→</a> <a id="4906" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="4914" class="Symbol">(</a><a id="4915" href="unit-of-measure.html#4253" class="Generalizable">d₁</a> <a id="4918" href="unit-of-measure.html#4655" class="Function Operator">/u</a> <a id="4921" href="unit-of-measure.html#4256" class="Generalizable">d₂</a><a id="4923" class="Symbol">)</a>
  <a id="4927" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="4929" href="unit-of-measure.html#4929" class="Bound">x</a> <a id="4931" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a> <a id="4933" href="unit-of-measure.html#4851" class="Function Operator">/d</a> <a id="4936" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="4938" href="unit-of-measure.html#4938" class="Bound">y</a> <a id="4940" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a> <a id="4942" class="Symbol">=</a> <a id="4944" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="4946" href="unit-of-measure.html#4929" class="Bound">x</a> <a id="4948" href="internal-library.html#576" class="Function Operator">÷</a> <a id="4950" href="unit-of-measure.html#4938" class="Bound">y</a> <a id="4952" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a>
</pre>
<h3 id="defining-equations-1">Defining equations</h3>
<p>The dimensional of distance is <code>m</code>, time is <code>s</code>, and velocity is <code>m/s</code>.</p>
<pre class="Agda">  <a id="DimensionalInData.ud"></a><a id="5062" href="unit-of-measure.html#5062" class="Function">ud</a> <a id="5065" class="Symbol">=</a> <a id="5067" href="unit-of-measure.html#4007" class="Function Operator">m^</a> <a id="5070" class="Symbol">(</a><a id="5071" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="5073" class="Number">1</a><a id="5074" class="Symbol">)</a>
  <a id="DimensionalInData.ut"></a><a id="5078" href="unit-of-measure.html#5078" class="Function">ut</a> <a id="5081" class="Symbol">=</a> <a id="5083" href="unit-of-measure.html#4069" class="Function Operator">s^</a> <a id="5086" class="Symbol">(</a><a id="5087" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="5089" class="Number">1</a><a id="5090" class="Symbol">)</a>
  <a id="DimensionalInData.uv"></a><a id="5094" href="unit-of-measure.html#5094" class="Function">uv</a> <a id="5097" class="Symbol">=</a> <a id="5099" href="unit-of-measure.html#5062" class="Function">ud</a> <a id="5102" href="unit-of-measure.html#4655" class="Function Operator">/u</a> <a id="5105" href="unit-of-measure.html#5078" class="Function">ut</a>
</pre>
<p>The distance is <code>speed * time</code>.</p>
<pre class="Agda">  <a id="DimensionalInData.distance"></a><a id="5152" href="unit-of-measure.html#5152" class="Function">distance</a> <a id="5161" class="Symbol">:</a> <a id="5163" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5171" href="unit-of-measure.html#5094" class="Function">uv</a>
           <a id="5185" class="Symbol">→</a> <a id="5187" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5195" href="unit-of-measure.html#5078" class="Function">ut</a>
           <a id="5209" class="Symbol">→</a> <a id="5211" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5219" class="Symbol">(</a><a id="5220" href="unit-of-measure.html#5094" class="Function">uv</a> <a id="5223" href="unit-of-measure.html#4598" class="Function Operator">*u</a> <a id="5226" href="unit-of-measure.html#5078" class="Function">ut</a><a id="5228" class="Symbol">)</a>
  <a id="5232" href="unit-of-measure.html#5152" class="Function">distance</a> <a id="5241" href="unit-of-measure.html#5241" class="Bound">speed</a> <a id="5247" href="unit-of-measure.html#5247" class="Bound">time</a> <a id="5252" class="Symbol">=</a> <a id="5254" href="unit-of-measure.html#5241" class="Bound">speed</a> <a id="5260" href="unit-of-measure.html#4766" class="Function Operator">*d</a> <a id="5263" href="unit-of-measure.html#5247" class="Bound">time</a>
</pre>
<p>It is necessary to postulate Extensionality because the type system is not smart enough to figure out that two functions are equal. This would be possible to verify because the domain of the function is finite (it is Bool, which has only two values).</p>
<pre class="Agda">  <a id="5531" class="Keyword">postulate</a>
    <a id="DimensionalInData.ext"></a><a id="5545" href="unit-of-measure.html#5545" class="Postulate">ext</a> <a id="5549" class="Symbol">:</a> <a id="5551" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="5566" href="unit-of-measure.html#1242" class="Generalizable">ℓ</a> <a id="5568" href="unit-of-measure.html#1244" class="Generalizable">ℓ′</a>

  <a id="DimensionalInData.distance'"></a><a id="5574" href="unit-of-measure.html#5574" class="Function">distance'</a> <a id="5584" class="Symbol">:</a> <a id="5586" class="Symbol">(</a><a id="5587" href="unit-of-measure.html#5587" class="Bound">speed</a> <a id="5593" class="Symbol">:</a> <a id="5595" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5603" href="unit-of-measure.html#5094" class="Function">uv</a><a id="5605" class="Symbol">)</a>
              <a id="5621" class="Symbol">(</a><a id="5622" href="unit-of-measure.html#5622" class="Bound">time</a>  <a id="5628" class="Symbol">:</a> <a id="5630" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5638" href="unit-of-measure.html#5078" class="Function">ut</a><a id="5640" class="Symbol">)</a>
                     <a id="5663" class="Symbol">→</a> <a id="5665" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5673" href="unit-of-measure.html#5062" class="Function">ud</a>
  <a id="5678" href="unit-of-measure.html#5574" class="Function">distance'</a> <a id="5688" href="unit-of-measure.html#5688" class="Bound">speed</a> <a id="5694" href="unit-of-measure.html#5694" class="Bound">time</a> <a id="5699" class="Symbol">=</a> <a id="5701" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="5707" href="unit-of-measure.html#4288" class="Record">Measure</a>
    <a id="5719" class="Symbol">(</a><a id="5720" href="unit-of-measure.html#5545" class="Postulate">ext</a> <a id="5724" class="Symbol">(λ{</a> <a id="5728" href="unit-of-measure.html#3811" class="InductiveConstructor">m</a> <a id="5730" class="Symbol">→</a> <a id="5732" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="5737" class="Symbol">;</a> <a id="5739" href="unit-of-measure.html#3813" class="InductiveConstructor">s</a> <a id="5741" class="Symbol">→</a> <a id="5743" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="5747" class="Symbol">}))</a>
    <a id="5755" class="Symbol">(</a><a id="5756" href="unit-of-measure.html#5688" class="Bound">speed</a> <a id="5762" href="unit-of-measure.html#4766" class="Function Operator">*d</a> <a id="5765" href="unit-of-measure.html#5694" class="Bound">time</a><a id="5769" class="Symbol">)</a>
</pre>
<p>Speed is defined as <code>distance/time</code>.</p>
<pre class="Agda">  <a id="DimensionalInData.speed"></a><a id="5820" href="unit-of-measure.html#5820" class="Function">speed</a> <a id="5826" class="Symbol">:</a> <a id="5828" class="Symbol">(</a><a id="5829" href="unit-of-measure.html#5829" class="Bound">distance</a> <a id="5838" class="Symbol">:</a> <a id="5840" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5848" href="unit-of-measure.html#5062" class="Function">ud</a><a id="5850" class="Symbol">)</a>
          <a id="5862" class="Symbol">(</a><a id="5863" href="unit-of-measure.html#5863" class="Bound">time</a>     <a id="5872" class="Symbol">:</a> <a id="5874" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5882" href="unit-of-measure.html#5078" class="Function">ut</a><a id="5884" class="Symbol">)</a> <a id="5886" class="Symbol">⦃</a> <a id="5888" href="unit-of-measure.html#5888" class="Symbol">_</a> <a id="5890" class="Symbol">:</a> <a id="5892" href="unit-of-measure.html#4383" class="Function">NonZero</a> <a id="5900" href="unit-of-measure.html#5863" class="Bound">time</a> <a id="5905" class="Symbol">⦄</a>
                    <a id="5927" class="Symbol">→</a> <a id="5929" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="5937" href="unit-of-measure.html#5094" class="Function">uv</a>
  <a id="5942" href="unit-of-measure.html#5820" class="Function">speed</a> <a id="5948" href="unit-of-measure.html#5948" class="Bound">distance</a> <a id="5957" href="unit-of-measure.html#5957" class="Bound">time</a> <a id="5962" class="Symbol">=</a> <a id="5964" href="unit-of-measure.html#5948" class="Bound">distance</a> <a id="5973" href="unit-of-measure.html#4851" class="Function Operator">/d</a> <a id="5976" href="unit-of-measure.html#5957" class="Bound">time</a>
</pre>
<h3 id="examples-1">Examples</h3>
<p>These are some examples of operations:</p>
<pre class="Agda">  <a id="6046" class="Keyword">private</a> <a id="6054" class="Keyword">module</a> <a id="DimensionalInData.tests"></a><a id="6061" href="unit-of-measure.html#6061" class="Module">tests</a> <a id="6067" class="Keyword">where</a>
    <a id="DimensionalInData.tests.⦅_⦆"></a><a id="6077" href="unit-of-measure.html#6077" class="Function Operator">⦅_⦆</a> <a id="6081" class="Symbol">:</a> <a id="6083" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="6085" class="Symbol">→</a> <a id="6087" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="6095" href="unit-of-measure.html#4251" class="Generalizable">d</a>
    <a id="6101" href="unit-of-measure.html#6077" class="Function Operator">⦅</a> <a id="6103" href="unit-of-measure.html#6103" class="Bound">n</a> <a id="6105" href="unit-of-measure.html#6077" class="Function Operator">⦆</a> <a id="6107" class="Symbol">=</a> <a id="6109" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟦</a> <a id="6111" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="6113" href="unit-of-measure.html#6103" class="Bound">n</a> <a id="6115" href="unit-of-measure.html#819" class="Function Operator">/q</a> <a id="6118" class="Number">1</a> <a id="6120" href="unit-of-measure.html#4347" class="InductiveConstructor Operator">⟧</a>

    <a id="DimensionalInData.tests.dist"></a><a id="6127" href="unit-of-measure.html#6127" class="Function">dist</a> <a id="6132" class="Symbol">:</a> <a id="6134" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="6142" href="unit-of-measure.html#5062" class="Function">ud</a>
    <a id="6149" href="unit-of-measure.html#6127" class="Function">dist</a> <a id="6154" class="Symbol">=</a> <a id="6156" href="unit-of-measure.html#6077" class="Function Operator">⦅</a> <a id="6158" class="Number">6</a> <a id="6160" href="unit-of-measure.html#6077" class="Function Operator">⦆</a>

    <a id="DimensionalInData.tests.speed'"></a><a id="6167" href="unit-of-measure.html#6167" class="Function">speed'</a> <a id="6174" class="Symbol">:</a> <a id="6176" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="6184" href="unit-of-measure.html#5094" class="Function">uv</a>
    <a id="6191" href="unit-of-measure.html#6167" class="Function">speed'</a> <a id="6198" class="Symbol">=</a> <a id="6200" href="unit-of-measure.html#6077" class="Function Operator">⦅</a> <a id="6202" class="Number">3</a> <a id="6204" href="unit-of-measure.html#6077" class="Function Operator">⦆</a>

    <a id="DimensionalInData.tests.time"></a><a id="6211" href="unit-of-measure.html#6211" class="Function">time</a> <a id="6216" class="Symbol">:</a> <a id="6218" href="unit-of-measure.html#4288" class="Record">Measure</a> <a id="6226" href="unit-of-measure.html#5078" class="Function">ut</a>
    <a id="6233" href="unit-of-measure.html#6211" class="Function">time</a> <a id="6238" class="Symbol">=</a> <a id="6240" href="unit-of-measure.html#6077" class="Function Operator">⦅</a> <a id="6242" class="Number">2</a> <a id="6244" href="unit-of-measure.html#6077" class="Function Operator">⦆</a>

    <a id="6251" href="unit-of-measure.html#6251" class="Function">_</a> <a id="6253" class="Symbol">:</a> <a id="6255" href="unit-of-measure.html#6167" class="Function">speed'</a> <a id="6262" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6264" href="unit-of-measure.html#5820" class="Function">speed</a> <a id="6270" href="unit-of-measure.html#6127" class="Function">dist</a> <a id="6275" href="unit-of-measure.html#6211" class="Function">time</a> <a id="6280" class="Symbol">⦃</a> <a id="6282" class="Symbol">_</a> <a id="6284" class="Symbol">⦄</a>
    <a id="6290" class="Symbol">_</a> <a id="6292" class="Symbol">=</a> <a id="6294" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
    </section>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a style="color:yellow;" href="http://jaspervdj.be/hakyll">Hakyll</a> with
            <a style="color:yellow;" href="https://github.com/guilhermehas/guilhermehas.github.io">source code</a>
        </footer>
    </body>
</html>
